<?php
 namespace app\api\service; use think\Db; use think\log; use think\Exception; require_once BASE_ROOT . "\143\157\x72\145\57\x65\170\164\145\x6e\x64\57\127\x78\x70\141\x79\x2f\x57\170\120\x61\x79\56\x41\x70\x69\x2e\x70\x68\x70"; class PintuanService { private $o = "\171\142\x73\143\x5f\x70\164\x5f\x6f\162\x64\x65\162\x73"; private $g = "\171\x62\x73\x63\137\x70\x74\x5f\147\x6f\157\x64\163"; private $c = "\171\142\163\143\137\160\164\x5f\x63\141\164\x65\x67\157\162\171"; private $a = "\171\x62\163\x63\137\x70\164\x5f\141\144\x76\x65\x72\x74"; private $i = "\171\x62\x73\x63\137\x69\x6d\x61\x67\x65\x73"; private $dq = "\171\x62\x73\143\x5f\141\162\x65\141"; private $ad = "\171\142\163\143\137\165\163\145\162\137\x61\x64\144\x72\145\x73\163"; public function get_ptIndex($data) { goto pbuMl; Wsgv8: $rs["\143\x61\164\145"] = Db::name($this->c)->where($data)->order("\x73\157\162\x74", "\x64\145\163\143")->order("\151\144", "\x64\x65\x73\x63")->select(); goto O_Vkt; O_Vkt: return $rs; goto nngZG; y5baQ: $rs["\141\x64\x76\x65\x72\164"] = Db::name($this->a)->where($data)->order("\x73\157\162\x74", "\x64\145\x73\143")->order("\151\x64", "\144\x65\x73\x63")->select(); goto Wsgv8; pbuMl: $data["\145\156\141\142\x6c\145\144"] = 1; goto y5baQ; nngZG: } public function get_ptGoodsList($data, $page) { goto SclRc; tbhSz: $time = time(); goto OQTL5; SclRc: $data["\x69\x73\123\150\157\167"] = 1; goto tbhSz; OQTL5: $list = Db::name($this->g)->where($data)->page($page, 10)->order("\163\157\162\164", "\144\x65\163\143")->order("\151\x64", "\144\x65\163\143")->select(); goto AXd3i; LIt8C: ASGqE: goto WvfVT; AXd3i: if (empty($list)) { goto ASGqE; } goto isfXF; Qj4q8: Khio6: goto LIt8C; WvfVT: return $list; goto vH1N6; isfXF: foreach ($list as $k => $v) { goto bGCza; G_JYa: Tsc6O: goto Ke9w_; yGhQ7: $pia_arr = $list[$k]["\x61\154\x62\x75\155"]; goto xJZSD; igcxK: goto mn2Pa; goto qqQdk; YX8aO: $list[$k]["\x61\154\x62\x75\155"] = $pia_arr; goto w169h; Q_PyH: $pia_arr = []; goto Fq63h; Fq63h: goto wmuFi; goto G_JYa; cwWbo: kxS3f: goto ZUNy1; Ar2fV: $i++; goto igcxK; bGCza: $list[$k]["\151\x6d\147"] = $this->get_pic_path($list[$k]["\x69\155\147"]); goto DjF2b; bRb8h: if (!($i < count($pia_arr))) { goto QQnbK; } goto UqTqm; DjF2b: $list[$k]["\x69\x6e\x64\x65\x78\x49\x6d\147"] = $this->get_pic_path($list[$k]["\x69\x6e\x64\145\170\111\155\x67"]); goto yGhQ7; Nl2FE: wmuFi: goto YX8aO; UqTqm: $pia_arr[$i] = $this->get_pic_path($pia_arr[$i]); goto LzDk7; w169h: $list[$k]["\147\162\x6f\x75\160\114\x69\163\164"] = Db::name($this->o)->alias("\157")->field("\155\x2e\x75\x73\x65\162\x5f\x68\x65\x61\x64\151\155\x67")->join("\x79\142\x73\143\137\165\163\145\162\x20\155", "\x6d\56\165\x69\x64\75\157\56\165\x69\x64")->where(["\x6f\56\x67\151\x64" => $v["\151\x64"], "\x6f\56\x65\x6e\x64\124\x69\x6d\145" => ["\x3e", $time], "\x6f\56\x70\x69\144" => 0, "\x6f\56\x69\x73\x47\162\x6f\x75\160" => 1, "\x6f\x2e\151\x73\120\141\171" => 1, "\157\x2e\x67\x72\x6f\x75\160\124\x69\155\145" => 0, "\157\56\155\143\x68\x5f\x69\x64" => $data["\155\x63\150\137\x69\144"]])->order("\x6f\x2e\145\x6e\144\124\x69\x6d\x65\x20\141\163\143\x2c\x6f\56\151\144\x20\141\163\143")->limit(2)->select(); goto cwWbo; xJZSD: if ($pia_arr) { goto Tsc6O; } goto Q_PyH; Ke9w_: $pia_arr = explode("\x2c", $pia_arr); goto nxfk4; qqQdk: QQnbK: goto Nl2FE; LzDk7: OZn6S: goto Ar2fV; nxfk4: $i = 0; goto IQZDy; IQZDy: mn2Pa: goto bRb8h; ZUNy1: } goto Qj4q8; vH1N6: } public function get_ptGoodsDetail($data) { goto k7tGb; qW___: if (!$groupList) { goto a_bVR; } goto g1C8c; vEQyW: if (!($i < count($pia_arr))) { goto X23pz; } goto F6DMP; l89XD: $address = Db::name($this->ad)->field("\x63\x6f\x6e\x73\151\x67\156\145\162\54\x70\x68\157\x6e\x65\x2c\141\144\144\x72\x65\x73\163\x2c\x61\162\145\141")->where("\x75\x69\x64", $data["\165\151\144"])->where("\x69\x73\137\144\145\x66\x61\165\154\x74\40", 1)->find(); goto h_vAS; gCMbE: peDJ0: goto vEQyW; RMxI1: $i++; goto FF1cA; w8m__: $goodsInfo["\x61\154\142\x75\x6d"] = $pia_arr; goto M3qhp; oM5VV: a_bVR: goto PD2VU; ZRzSI: if ($pia_arr) { goto IdJeu; } goto kQy_l; J_ACj: $aa["\x74\145\154\116\165\x6d\142\145\162"] = $address["\160\150\157\x6e\x65"]; goto mQg9p; r26Mn: $aa["\x70\162\157\x76\x69\156\143\145"] = $pro["\156\x61\x6d\145"]; goto P1Xx2; mx4wV: lpr8U: goto ZFDyo; mQg9p: $aa["\141\144\x64\162\145\163\x73"] = $address["\141\144\144\x72\x65\163\163"]; goto r26Mn; XzfYH: IdJeu: goto Svmut; PvKjx: $address = Db::name($this->ad)->field("\x63\157\156\x73\151\x67\156\x65\162\54\x70\x68\157\156\145\54\x61\x64\x64\162\145\x73\x73\54\x61\162\x65\x61")->where("\x75\151\x64", $data["\165\151\144"])->order("\143\x72\x65\141\x74\145\x5f\164\x69\x6d\x65", "\x64\x65\163\x63")->find(); goto B4uFS; kGCDP: if ($goodsInfo) { goto DTg_n; } goto hR56j; P1Xx2: $aa["\x63\x69\164\x79"] = $city["\156\141\155\145"]; goto EJTD8; F6DMP: $pia_arr[$i] = $this->get_pic_path($pia_arr[$i]); goto ckQAM; K7M67: goto CP7DX; goto XzfYH; HBy5i: $goodsInfo["\151\156\x64\145\x78\111\155\147"] = $this->get_pic_path($goodsInfo["\151\x6e\144\x65\x78\111\155\147"]); goto SnF5d; FF1cA: goto peDJ0; goto KT5rZ; KT5rZ: X23pz: goto dA3u0; YOKtL: if (!$address) { goto lpr8U; } goto nspMj; hUkEv: DTg_n: goto nrcCC; eH1kH: $pro = Db::name($this->dq)->where("\151\x64", $city["\x70\x69\x64"])->find(); goto CPwcT; CPwcT: $aa["\x75\163\x65\x72\116\141\155\x65"] = $address["\x63\157\x6e\163\x69\x67\x6e\x65\162"]; goto J_ACj; nrcCC: $goodsInfo["\x69\x6d\147"] = $this->get_pic_path($goodsInfo["\151\x6d\147"]); goto HBy5i; NXETt: $city = Db::name($this->dq)->where("\151\x64", $res["\x70\x69\144"])->find(); goto eH1kH; hR56j: return null; goto hUkEv; ckQAM: fBSWe: goto RMxI1; Kkr0t: $i = 0; goto gCMbE; SnF5d: $pia_arr = $goodsInfo["\141\154\142\x75\155"]; goto ZRzSI; nspMj: $res = Db::name($this->dq)->where("\x69\144", $address["\141\162\145\141"])->find(); goto NXETt; Svmut: $pia_arr = explode("\x2c", $pia_arr); goto Kkr0t; M3qhp: $time = time(); goto vNlsb; xAjDD: iQiPh: goto oM5VV; EJTD8: $aa["\x63\157\165\156\x74\x79"] = $res["\156\141\x6d\145"]; goto aMTf1; g1C8c: foreach ($groupList as $key => $value) { goto zFWcu; mI9Vq: pcVV4: goto bHqTS; i1Bo_: $groupList[$key]["\154\145\146\x74\x54\151\x6d\x65"] = $value["\145\156\x64\124\151\155\145"] - $time; goto mI9Vq; zFWcu: $groupList[$key]["\154\145\146\x74\116\x75\155"] = Db::name($this->o)->where(["\x70\x69\x64" => $value["\151\x64"]])->count(); goto i1Bo_; bHqTS: } goto xAjDD; dA3u0: CP7DX: goto w8m__; kQy_l: $pia_arr = []; goto K7M67; k7tGb: $goodsInfo = Db::name($this->g)->where(["\151\144" => $data["\151\x64"], "\x6d\143\x68\x5f\151\144" => $data["\x6d\143\150\137\151\144"]])->find(); goto kGCDP; h_vAS: if (!empty($address)) { goto XR1Lt; } goto PvKjx; PD2VU: $goodsInfo["\147\162\x6f\x75\160\114\x69\x73\x74"] = $groupList; goto l89XD; aMTf1: $goodsInfo["\141\x64\x64\162\x65\163\x73"] = $aa; goto mx4wV; vNlsb: $groupList = Db::name($this->o)->alias("\x6f")->field("\157\x2e\151\144\40\x61\x73\40\157\x69\144\x2c\157\x2e\145\156\x64\124\x69\x6d\145\54\155\x2e\x6e\x69\x63\x6b\137\156\x61\x6d\145\54\155\56\x75\x73\145\x72\137\150\145\x61\x64\151\x6d\147")->join("\171\142\163\143\x5f\165\x73\x65\x72\x20\x6d", "\x6d\x2e\165\x69\144\x3d\x6f\x2e\165\151\144")->where(["\157\56\147\x69\144" => $data["\x69\144"], "\157\56\160\151\144" => 0, "\157\56\151\x73\107\x72\157\x75\x70" => 1, "\157\56\151\163\x50\141\x79" => 1, "\x6f\x2e\147\162\157\165\x70\124\x69\x6d\x65" => 0, "\x6f\56\155\143\150\x5f\151\144" => $data["\155\143\150\137\151\144"], "\157\x2e\145\x6e\144\124\x69\155\x65" => ["\76", $time], "\x6d\56\x75\x69\144" => ["\74\x3e", $data["\165\151\144"]]])->limit(2)->select(); goto qW___; ZFDyo: return $goodsInfo; goto GfyNx; B4uFS: XR1Lt: goto YOKtL; GfyNx: } public function get_ptCreateOrder($data) { goto IIYYT; KZ0_b: um9qq: goto jd1O1; yQVKS: $new_data["\145\x6e\x64\x54\151\155\145"] = ["\x3e", $time]; goto cXY4q; ePy0u: $new_data["\x75\x69\144"] = $data["\x75\151\144"]; goto OsUQr; uJQy9: lbc53: goto T5zgd; jd1O1: $data["\x65\156\x64\x54\x69\x6d\x65"] = $time + $limitTime * 3600; goto iTc3r; mMEw1: $data["\143\162\145\x61\x74\x65\x54\x69\155\x65"] = $time; goto pMWFv; JhWgn: Db::startTrans(); goto uZj7c; gSsZs: if (!($count > 0)) { goto fJLPc; } goto jylYb; pMWFv: $data["\151\163\120\x61\171"] = 0; goto Iiwyx; anvDe: goto QGqrs; goto KZ0_b; y1rPC: return ["\145\x72\162\137\x63\x6f\144\x65" => 0, "\151\156\x66\x6f" => $id]; goto X0H4r; cXY4q: $new_data["\x67\x72\x6f\x75\160\124\151\155\145"] = 0; goto WdQGo; xUdc2: fJLPc: goto uJQy9; IIYYT: $time = time(); goto D0UHT; uZj7c: try { goto K2ON6; oLr_d: Db::name($this->g)->where("\151\144", $data["\147\x69\x64"])->setInc("\x73\x61\x6c\145\x4e\165\x6d", $data["\147\x6f\x6f\x64\x73\x4e\165\x6d"]); goto gy2EX; QHUg9: if (!($count + 1 >= $groupNum)) { goto U29Li; } goto sc_Je; K2ON6: $groupNum = Db::name($this->g)->where("\151\x64", $data["\x67\x69\x64"])->value("\x67\162\x6f\x75\160\x4e\165\155"); goto DYeP2; FZQd9: hQbHy: goto CVK49; fs7_b: U29Li: goto tODTU; oNUYu: throw new Exception("\xe5\x88\x9b\xe5\273\272\350\256\242\345\x8d\225\345\244\xb1\350\xb4\xa5"); goto FZQd9; bwu0G: Db::commit(); goto oSJkQ; CVK49: $pay_data["\x74\171\160\145\x5f\141\x6c\151\x73\137\x69\144"] = $id; goto etinV; pMMl1: if (!empty($id)) { goto hQbHy; } goto oNUYu; DYeP2: if (!($data["\x70\151\144"] != 0)) { goto kdoTs; } goto YZw_X; tODTU: kdoTs: goto CuZST; CuZST: $id = Db::name($this->o)->insertGetId($data); goto pMMl1; gy2EX: Db::name($this->g)->where("\151\144", $data["\x67\151\x64"])->setDec("\163\x74\x6f\143\x6b", $data["\147\x6f\157\144\163\x4e\165\x6d"]); goto bwu0G; YZw_X: $count = Db::name($this->o)->where(["\160\151\x64" => $data["\x70\x69\x64"], "\151\163\x50\x61\171" => 1])->count(); goto QHUg9; etinV: Db::name("\x79\142\163\x63\x5f\160\x74\137\x6f\162\144\x65\x72\x5f\160\x61\171\155\145\x6e\164")->insert($pay_data); goto oLr_d; sc_Je: throw new Exception("\xe5\x88\x9b\xe5\273\272\xe8\xae\xa2\xe5\215\225\345\244\xb1\350\xb4\245"); goto fs7_b; oSJkQ: } catch (\Exception $e) { goto BW06V; BW06V: Db::rollback(); goto GoHwV; GoHwV: Log::write("\xe7\x94\x9f\xe6\x88\220\xe8\xae\242\345\x8d\x95\xe5\xa4\261\350\264\xa5\40\x2d\x2d\x28\xe7\x94\250\xe6\x88\xb7\151\x64\357\xbc\232" . $data["\165\151\x64"] . "\51\x20\xe9\224\x99\350\257\xaf\xe4\xbf\241\xe6\x81\xaf\357\xbc\232" . $e->getMessage(), "\160\x74\137\143\162\145\141\x74\145\x5f\x6f\162\x64\145\x72\x5f\x65\x72\162\x6f\x72"); goto SMeN6; SMeN6: return ["\x65\162\162\x5f\143\x6f\x64\145" => 1, "\155\x73\x67" => $e->getMessage()]; goto qGQd7; qGQd7: } goto y1rPC; DsfS8: unset($data["\x6c\151\155\x69\164\x54\x69\155\x65"]); goto mMEw1; jylYb: ["\145\x72\x72\x5f\x63\157\144\x65" => 1, "\x6d\163\147" => "\xe6\202\250\xe5\267\262\xe5\217\202\xe4\xb8\216\xe8\xaf\xa5\345\x95\x86\345\x93\x81\xe7\x9a\204\345\x9b\xa2\350\xb4\xad\xef\xbc\x8c\350\xaf\267\345\211\215\345\xbe\x80\xe6\210\x91\347\x9a\204\xe6\213\xbc\xe5\x9b\242\346\x9f\245\xe7\234\213"]; goto xUdc2; OsUQr: $new_data["\147\151\x64"] = $data["\x67\x69\144"]; goto yPSfK; xMIw4: if ($data["\160\x69\x64"] == 0) { goto um9qq; } goto DVSL5; iTc3r: QGqrs: goto Rt1qX; Iiwyx: $data["\157\162\x64\x65\162\137\x73\x74\141\164\165\x73"] = 1; goto xMIw4; i74Wt: $count = Db::name($this->o)->where($new_data)->count(); goto gSsZs; DVSL5: $data["\x65\156\144\124\x69\155\x65"] = Db::name($this->o)->where("\x69\x64", $data["\x70\151\144"])->value("\145\156\x64\x54\151\x6d\145"); goto anvDe; Rt1qX: $pay_data = array("\157\165\164\137\164\x72\141\144\145\x5f\156\x6f" => $data["\157\162\144\145\x72\116\165\x6d"], "\x70\x61\171\137\164\171\160\145" => 1, "\x70\141\171\x5f\x62\157\144\171" => "\xe7\x94\250\346\210\267\346\x94\257\344\273\x98", "\x70\141\x79\x5f\x64\x65\164\x61\151\154" => "\xe7\224\xa8\xe6\x88\267\350\xb4\255\xe4\271\xb0\xe5\x95\206\345\223\x81", "\160\x61\171\137\x6d\157\156\145\x79" => $data["\164\x6f\164\141\154\x50\162\x69\143\145"], "\160\141\x79\137\163\x74\141\164\x75\x73" => 0, "\x70\141\171\137\x74\151\155\x65" => 0, "\143\x72\145\x61\x74\145\x5f\164\x69\x6d\x65" => time()); goto JhWgn; WdQGo: $new_data["\160\x69\144"] = $data["\x70\x69\144"]; goto i74Wt; yPSfK: $new_data["\155\143\150\x5f\151\x64"] = $data["\x6d\x63\x68\x5f\x69\x64"]; goto yQVKS; D0UHT: if (!($data["\x69\x73\x47\x72\157\165\x70"] == 1)) { goto lbc53; } goto ePy0u; T5zgd: $limitTime = $data["\154\x69\155\x69\164\124\151\x6d\x65"]; goto DsfS8; X0H4r: } public function get_ptOrderList($data, $page) { goto Xsko1; E2j8b: Z3m0W: goto CLjSI; Xsko1: $list = Db::name($this->o)->where($data)->page($page, 10)->order("\151\144", "\x64\x65\x73\x63")->select(); goto nDGgQ; nDGgQ: if (empty($list)) { goto Z3m0W; } goto mhaNQ; CLjSI: return $list; goto FRZyy; mhaNQ: foreach ($list as $k => $v) { goto M8_DD; N5i0z: pES9a: goto r6jom; AM3pm: EjlGR: goto mXRE6; UQdqH: IYxvI: goto sSYjW; Wq_ai: if ($v["\x6f\162\144\145\162\x5f\163\164\141\x74\x75\163"] == 6 && $v["\151\x73\122\x65\146\x75\156\x64"] == 0) { goto IYxvI; } goto WnHX2; FQYSK: $orderStatus = "\345\276\x85\xe4\273\230\346\254\xbe"; goto hLNXb; i3B_U: AD727: goto pHeJ5; g9H5w: $orderStatus = "\351\x80\x80\346\xac\276\xe4\270\xad"; goto ZRqLP; B1XEz: N9Pt_: goto yPL2J; SDOuS: goto RfbkF; goto TPgeF; hLNXb: goto RfbkF; goto i3B_U; mXRE6: $orderStatus = "\345\276\205\xe6\224\266\350\264\xa7"; goto nzjH0; kzLQZ: $goods = []; goto ArwsP; cFCUO: $orderStatus = "\xe5\267\xb2\345\xae\x8c\xe6\210\x90\50\351\x80\x80\346\254\xbe\x29"; goto cmlRw; WnHX2: if ($v["\x6f\x72\x64\145\x72\x5f\x73\164\x61\164\x75\163"] == 6 && $v["\151\x73\122\x65\x66\165\156\x64"] == 1) { goto W7RXh; } goto IZRU3; X9xzs: NBcq1: goto ABC5F; IZRU3: goto RfbkF; goto vJ3A6; oH03g: gAjS0: goto g9H5w; cmlRw: RfbkF: goto t9paQ; Y3cTG: goto RfbkF; goto AM3pm; TPgeF: W7RXh: goto cFCUO; Bztxr: if ($goods) { goto NBcq1; } goto kzLQZ; EYwj8: goto pES9a; goto B1XEz; M8_DD: $orderStatus = ''; goto luUW0; vJ3A6: zwt5G: goto FQYSK; yPL2J: $orderStatus = "\346\x8b\274\345\233\242\345\244\261\xe8\264\xa5"; goto N5i0z; t9paQ: $list[$k]["\157\162\x64\x65\x72\x53\164\x61\x74\x75\x73"] = $orderStatus; goto kbeDV; t9uTC: $list[$k]["\x67\x6f\157\x64\x73"] = $goods; goto Qxlkv; r6jom: goto RfbkF; goto rj2GX; ZRqLP: goto RfbkF; goto UQdqH; oKhtg: if ($v["\x6f\162\x64\145\162\137\x73\x74\141\164\165\x73"] == 5) { goto gAjS0; } goto Wq_ai; ArwsP: goto s8YGL; goto X9xzs; kbeDV: $goods = Db::name($this->g)->where("\x69\x64", $v["\147\151\144"])->field("\156\x61\155\145\54\x69\155\147\54\x75\156\x69\x74\x2c\x67\160\x72\x69\x63\x65")->find(); goto Bztxr; iLLpJ: $orderStatus = "\xe5\xbe\205\345\217\x91\350\xb4\247"; goto Y3cTG; Q2LGW: if ($v["\x6f\162\144\145\162\x5f\x73\164\141\164\x75\163"] == 3) { goto qrn6h; } goto Usyqa; e8pft: if ($v["\x6f\x72\x64\x65\x72\x5f\x73\164\x61\164\165\x73"] == 2) { goto AD727; } goto Q2LGW; luUW0: if ($v["\x6f\162\x64\145\162\137\x73\x74\141\x74\x75\x73"] == 1) { goto zwt5G; } goto e8pft; nzjH0: goto RfbkF; goto oH03g; Usyqa: if ($v["\x6f\x72\x64\145\162\137\x73\x74\141\x74\165\x73"] == 4) { goto EjlGR; } goto oKhtg; BM6c0: $orderStatus = "\345\xbe\205\xe6\210\220\345\x9b\242"; goto EYwj8; rj2GX: qrn6h: goto iLLpJ; pHeJ5: if ($v["\x67\162\157\x75\x70\x54\x69\x6d\145"] == 0 && $v["\145\156\x64\x54\x69\x6d\145"] < time()) { goto N9Pt_; } goto BM6c0; sSYjW: $orderStatus = "\345\267\262\345\256\x8c\xe6\210\x90"; goto SDOuS; Qxlkv: spQO9: goto RG25W; pD1hi: s8YGL: goto t9uTC; ABC5F: $goods["\x69\x6d\x67"] = $this->get_pic_path($goods["\151\155\x67"]); goto pD1hi; RG25W: } goto CtyGq; CtyGq: AdRJU: goto E2j8b; FRZyy: } public function get_ptOrderDetail($data) { goto EzFPW; JOMa6: $info["\x6f\x72\144\x65\162\123\164\141\x74\x75\163"] = $orderStatus; goto U0wm4; VCWO0: $info["\145\x6e\x64\x5f\164\x69\x6d\x65"] = $this->get_time($info["\x65\x6e\x64\124\x69\x6d\145"]); goto P7APQ; WUaBj: BncUX: goto cLE0S; IYD5a: if ($info["\x67\162\157\165\x70\124\x69\x6d\x65"] > 0) { goto rOT0s; } goto ncXsH; U0wm4: $info["\x70\x61\171\x54\x69\x6d\x65"] = $this->get_time($info["\x70\x61\171\124\151\155\x65"]); goto A3zzM; FfR7m: if (!$info) { goto idEMc; } goto zsx2G; UdXuf: $orderStatus = "\xe5\xb7\xb2\xe9\x80\200\346\254\276"; goto E74T8; BhN5x: Om2MN: goto nL6mk; CvVK9: $goods["\x69\155\x67"] = $this->get_pic_path($goods["\151\x6d\147"]); goto GE1za; Rlpxo: goto w0gd_; goto vGqu3; DSLXp: Un3cn: goto cH9Jz; LJWJU: CdpI1: goto wjeFp; tGgQA: rOT0s: goto UdXuf; SIWis: $orderStatus = "\345\xbe\205\346\210\x90\xe5\x9b\242"; goto yMWoR; E9Ko9: if ($info["\x6f\x72\144\145\x72\x5f\163\x74\x61\x74\165\163"] == 5) { goto m2c6i; } goto DUq6i; k0B5D: goto w0gd_; goto WUaBj; nL6mk: if ($info["\x67\162\157\165\x70\124\x69\x6d\145"] == 0 && $info["\x65\156\144\124\151\155\145"] < time()) { goto afepk; } goto SIWis; W0e3Y: $orderStatus = "\xe5\276\205\346\224\266\350\xb4\247"; goto qmBQ1; YG2r_: if ($info["\157\162\144\x65\x72\137\x73\x74\x61\164\x75\x73"] == -1) { goto xNHdZ; } goto vTqvN; zsx2G: $orderStatus = ''; goto q2ARY; cLE0S: $orderStatus = "\345\xbe\205\345\x8f\x91\350\xb4\xa7"; goto Rlpxo; DUq6i: if ($info["\x6f\162\x64\x65\162\137\x73\164\141\164\x75\163"] == 6 && $info["\151\x73\x52\145\146\165\156\144"] == 0) { goto CdpI1; } goto Q_bUv; Q_bUv: if ($info["\x6f\162\144\145\162\x5f\x73\x74\x61\x74\165\163"] == 6 && $info["\x69\x73\122\x65\146\165\x6e\144"] == 1) { goto e_mtR; } goto Ua3RI; bo0Dy: $orderStatus = "\xe5\xb7\262\xe5\217\226\346\266\x88"; goto k0B5D; DTyc_: if ($info["\x6f\x72\x64\x65\162\137\163\x74\x61\x74\x75\x73"] == 4) { goto nIsQ8; } goto E9Ko9; xNgzF: $orderStatus = "\346\x8b\xbc\345\233\242\345\244\xb1\350\264\xa5"; goto F1VSs; yMWoR: goto KjQVM; goto jxuE5; A3zzM: $info["\x63\x72\145\141\x74\x65\x54\151\155\145"] = $this->get_time($info["\x63\x72\145\141\164\145\x54\151\155\x65"]); goto VCWO0; CwnJw: $info["\x63\x6f\155\x70\154\x65\164\145\x54\x69\x6d\145"] = $this->get_time($info["\x63\x6f\x6d\x70\154\x65\164\145\x54\x69\x6d\x65"]); goto K14kn; zmus6: $orderStatus = "\xe5\xbe\205\xe4\273\x98\346\xac\xbe"; goto Xnxdz; xaDbN: goto w0gd_; goto mMSHu; bZuaU: if ($info["\157\x72\x64\x65\162\x5f\x73\x74\141\164\x75\163"] == 2) { goto Om2MN; } goto YG2r_; P7APQ: $info["\147\162\157\165\x70\x5f\164\151\x6d\x65"] = $this->get_time($info["\147\x72\157\165\160\x54\x69\155\145"]); goto CwnJw; qmBQ1: goto w0gd_; goto LF_px; mheS8: $orderStatus = "\351\x80\x80\xe6\254\276\xe4\xb8\255"; goto P0R0L; cH9Jz: idEMc: goto XTmIe; bwE59: PkGfN: goto zmus6; EzFPW: $info = Db::name($this->o)->where($data)->find(); goto FfR7m; ncXsH: $orderStatus = "\345\267\262\351\x80\200\xe6\xac\xbe\x28\346\234\252\346\x88\x90\345\233\xa2\x29"; goto hTTHx; N5zFe: goto w0gd_; goto bxU1F; hTTHx: goto QJmaW; goto tGgQA; Z9EIK: $info["\x61\x64\x64\x72\145\163\x73"] = json_decode($info["\141\x64\144\x72\145\163\x73"], true); goto DSLXp; vGqu3: nIsQ8: goto W0e3Y; q2ARY: if ($info["\157\162\x64\x65\x72\137\x73\x74\141\x74\x75\x73"] == 1) { goto PkGfN; } goto bZuaU; U89d1: if (!$info["\141\144\x64\162\145\x73\163"]) { goto Un3cn; } goto Z9EIK; mMSHu: e_mtR: goto IYD5a; Ua3RI: goto w0gd_; goto bwE59; jxuE5: afepk: goto xNgzF; XTmIe: return $info; goto seo0b; GE1za: xTvCD: goto nPMYN; bxU1F: xNHdZ: goto bo0Dy; wjeFp: $orderStatus = "\xe5\xb7\xb2\xe5\xae\x8c\xe6\x88\x90"; goto xaDbN; ulImw: if (!$goods) { goto xTvCD; } goto CvVK9; F1VSs: KjQVM: goto N5zFe; zjlSr: $goods = Db::name($this->g)->where("\x69\x64", $info["\147\151\144"])->field("\156\141\155\x65\x2c\151\x6d\x67\x2c\x75\156\151\164\x2c\x67\160\162\151\x63\145")->find(); goto ulImw; RidNW: w0gd_: goto JOMa6; Xnxdz: goto w0gd_; goto BhN5x; vTqvN: if ($info["\157\162\x64\145\162\x5f\163\x74\x61\x74\x75\163"] == 3) { goto BncUX; } goto DTyc_; LF_px: m2c6i: goto mheS8; E74T8: QJmaW: goto RidNW; nPMYN: $info["\x67\x6f\x6f\x64\163"] = $goods; goto U89d1; K14kn: $info["\x64\145\x6c\151\166\x65\162\171\124\x69\155\x65"] = $this->get_time($info["\144\145\154\x69\166\x65\x72\x79\x54\x69\155\145"]); goto zjlSr; P0R0L: goto w0gd_; goto LJWJU; seo0b: } public function get_ptGroupList($data, $page, $status) { goto L_HP5; QajzS: IVGPI: goto oQ08l; k3iDU: $list = Db::name($this->o)->where($data)->page($page, 10)->order("\151\144", "\144\x65\x73\143")->select(); goto e3JPQ; n_wKH: $data["\x67\x72\x6f\165\x70\x54\151\x6d\145"] = 0; goto ABj1w; oQ08l: $data["\145\x6e\x64\124\x69\x6d\x65"] = ["\74", time()]; goto fxx18; w0k1J: if ($status == 3) { goto IVGPI; } goto PfgtC; fxx18: $data["\147\x72\x6f\x75\x70\124\x69\155\x65"] = 0; goto PgdzZ; bXLgq: Yn7m7: goto n0RkA; e3JPQ: if (empty($list)) { goto Q8iaj; } goto HbiHt; whFwr: $data["\x65\156\x64\124\151\x6d\145"] = ["\76\x3d", time()]; goto n_wKH; RU3jq: $data["\151\163\x47\x72\x6f\x75\x70"] = 1; goto F0bDH; IyQqL: $data["\x67\162\157\x75\160\124\x69\155\145"] = ["\x3e", 0]; goto JJp2x; JJp2x: goto I7tNu; goto QajzS; U2EFi: if ($status == 2) { goto zwR5W; } goto w0k1J; GjYlk: g7Z_B: goto whFwr; HbiHt: foreach ($list as $k => $v) { goto n5KBa; MmqBT: vUuKP: goto N1b32; tEh3r: if ($goods) { goto cOfe2; } goto AKhON; AKhON: $goods = []; goto pykvM; n5KBa: $orderStatus = ''; goto rVI4S; pykvM: goto Sbwft; goto VFxsj; VwnuK: Sbwft: goto uk1lr; ZDSY6: goto vic0l; goto MmqBT; vV3SD: if ($v["\145\156\144\x54\151\155\145"] >= time()) { goto vUuKP; } goto eB7xR; fh0MW: vic0l: goto g2IO6; eUOr2: $list[$k]["\x67\x72\x6f\x75\160\123\164\141\164\165\163"] = $orderStatus; goto dL6lK; N1b32: $orderStatus = "\345\xbe\205\346\210\x90\xe5\233\242"; goto fh0MW; g2IO6: goto rpefT; goto NookV; rVI4S: if ($v["\147\x72\157\x75\x70\x54\151\x6d\x65"] > 0) { goto KFp4L; } goto vV3SD; NookV: KFp4L: goto vAJZE; khbd6: $goods["\x69\x6d\147"] = $this->get_pic_path($goods["\151\x6d\x67"]); goto VwnuK; vAJZE: $orderStatus = "\345\xb7\262\346\210\x90\xe5\233\242"; goto h9_2U; VFxsj: cOfe2: goto khbd6; h9_2U: rpefT: goto eUOr2; q4Xe7: VZq_T: goto B1H99; eB7xR: $orderStatus = "\xe6\x8b\xbc\345\x9b\xa2\345\244\xb1\xe8\xb4\xa5"; goto ZDSY6; dL6lK: $goods = Db::name($this->g)->where("\151\144", $v["\147\151\x64"])->field("\156\141\155\145\x2c\x69\155\x67\x2c\x75\x6e\x69\164\x2c\147\x70\x72\x69\143\x65\54\x67\x72\x6f\x75\160\116\x75\x6d\54\154\151\155\151\164\x54\x69\155\145\54\163\141\x6c\145\x4e\165\155")->find(); goto tEh3r; uk1lr: $list[$k]["\147\x6f\157\144\163"] = $goods; goto q4Xe7; B1H99: } goto bXLgq; PgdzZ: I7tNu: goto k3iDU; ZvHKK: zwR5W: goto IyQqL; F0bDH: if ($status == 1) { goto g7Z_B; } goto U2EFi; L_HP5: $data["\151\163\x50\141\171"] = 1; goto RU3jq; qXQh2: return $list; goto aKcUD; ABj1w: goto I7tNu; goto ZvHKK; PfgtC: goto I7tNu; goto GjYlk; n0RkA: Q8iaj: goto qXQh2; aKcUD: } public function get_ptGroupDetail($data, $uid) { goto T6svZ; gX83E: $data["\x69\163\x47\162\x6f\x75\160"] = 1; goto LxJK8; T6svZ: $data["\x69\163\120\x61\171"] = 1; goto gX83E; jgi4g: goto h_KnF; goto nz2pG; LxJK8: $info = Db::name($this->o)->where($data)->find(); goto nyiJk; Y_N10: $info["\141\x64\x64\162\145\x73\163"] = json_decode($info["\x61\x64\144\162\x65\163\x73"], true); goto lbWPC; ejqB8: $goods["\x69\x6d\147"] = $this->get_pic_path($goods["\151\x6d\x67"]); goto Ub0BY; zjWbu: goto wFu8Y; goto LFbcM; EH_MV: if (!empty($address)) { goto s7L0q; } goto e_xxm; Inazu: $orderStatus = "\xe6\213\274\345\x9b\xa2\345\xa4\261\350\264\xa5"; goto jgi4g; krRxK: $goods = Db::name($this->g)->where("\x69\x64", $info["\147\x69\x64"])->field("\x69\144\x2c\156\141\x6d\145\54\x69\155\x67\54\x75\156\151\x74\54\147\x70\x72\x69\143\x65\54\147\162\x6f\165\160\116\x75\x6d\54\154\151\x6d\x69\x74\x54\x69\155\145\x2c\163\x61\154\145\x4e\x75\x6d")->find(); goto NO4ej; tyQic: $info["\143\x6f\x6d\x70\x6c\145\164\145\x54\151\155\x65"] = $this->get_time($info["\x63\x6f\155\160\154\145\164\x65\124\x69\155\145"]); goto M9u53; w15MP: $city = Db::name($this->dq)->where("\x69\144", $res["\160\x69\144"])->find(); goto AOgb_; apn4J: $aa["\x75\163\x65\162\116\141\x6d\x65"] = $address["\143\157\156\x73\x69\147\156\x65\x72"]; goto zVhoU; KpiCz: s7L0q: goto iTyu4; q5fgd: $info["\x6c\145\146\164\124\151\x6d\145"] = $info["\145\156\144\x54\151\155\145"] - time(); goto y1fZn; qslqI: h_KnF: goto zjWbu; gdBkV: $orderStatus = "\346\213\xbc\xe5\x9b\242\346\x88\x90\345\x8a\x9f"; goto BnSIx; jt7JW: return $info; goto Ea_Pb; ccbVN: T8sgo: goto jt7JW; C9IaB: $map = "\x6f\56\x70\151\144\75" . $info["\160\x69\x64"] . "\40\157\162\40\x6f\56\x69\144\75" . $info["\x70\x69\x64"]; goto ImcJL; RRW7b: zvtlW: goto KYIQk; KeOfV: $orderStatus = "\346\x8b\274\345\x9b\242\xe4\xb8\255"; goto qslqI; tgXm0: if ($info["\x67\162\157\165\160\124\151\x6d\x65"] > 0) { goto qlTS8; } goto IEAzP; NO4ej: if (!$goods) { goto HpFYL; } goto ejqB8; Ub0BY: $address = Db::name($this->ad)->field("\143\x6f\156\163\151\x67\x6e\145\162\54\x70\x68\157\x6e\145\x2c\x61\144\x64\162\x65\163\163\x2c\141\162\145\x61")->where("\x75\151\x64", $uid)->where("\x69\163\137\x64\x65\146\x61\x75\x6c\x74\x20", 1)->find(); goto EH_MV; KYIQk: $map = "\x6f\56\x70\x69\144\75" . $info["\151\x64"] . "\x20\x6f\x72\40\x6f\x2e\151\x64\x3d" . $info["\x69\x64"]; goto gOVed; SQkxq: $info["\154\x65\146\x74\116\x75\155"] = count($info["\147\162\157\x75\x70\115\145\155\142\145\x72"]); goto q5fgd; Ik0nJ: $info["\147\162\157\165\160\137\164\151\x6d\x65"] = $this->get_time($info["\147\x72\x6f\x75\160\x54\x69\155\x65"]); goto tyQic; JnNE1: $info["\x65\156\x64\137\164\x69\155\145"] = $this->get_time($info["\145\156\144\124\x69\155\x65"]); goto Ik0nJ; VHvWR: $info["\147\x6f\157\144\x73"] = $goods; goto HKQm5; cmvxL: $aa["\x61\x64\144\x72\145\x73\x73"] = $address["\x61\144\144\162\x65\x73\163"]; goto K8p2R; R_03J: HpFYL: goto VHvWR; HKQm5: if (!$info["\141\x64\144\162\x65\163\163"]) { goto f2sWX; } goto Y_N10; M9u53: $info["\x64\x65\154\x69\x76\145\x72\x79\124\151\155\x65"] = $this->get_time($info["\144\145\154\x69\x76\145\162\x79\124\151\x6d\x65"]); goto krRxK; AOgb_: $pro = Db::name($this->dq)->where("\x69\144", $city["\x70\151\x64"])->find(); goto apn4J; IEAzP: if ($info["\145\156\144\124\x69\155\145"] >= time()) { goto jV4n0; } goto Inazu; y1fZn: $info["\x70\141\x79\x54\151\155\x65"] = $this->get_time($info["\160\141\171\x54\151\x6d\x65"]); goto IloWI; eOopM: if ($info["\160\x69\x64"] == 0) { goto zvtlW; } goto C9IaB; A9_FT: $info["\x67\162\157\165\x70\x4d\145\x6d\142\145\162"] = Db::name($this->o)->alias("\x6f")->field("\157\56\160\x69\x64\x2c\157\x2e\x69\144\x2c\155\x2e\x75\x69\144\x2c\155\56\165\x73\145\162\137\x68\145\x61\x64\x69\x6d\147")->join("\x79\142\x73\x63\x5f\x75\x73\x65\162\40\155", "\155\x2e\x75\x69\x64\x3d\157\x2e\x75\x69\144")->where($map)->where(["\x6f\56\151\163\x50\x61\171" => 1, "\x6f\56\x69\x73\107\162\x6f\165\x70" => 1])->order("\x6f\x2e\160\x69\x64\x20\141\163\143")->select(); goto KZ1mS; nz2pG: jV4n0: goto KeOfV; LFbcM: qlTS8: goto gdBkV; f3DiN: $info["\147\162\x6f\x75\x70\x53\164\141\164\x75\163"] = $orderStatus; goto eOopM; y7vD5: $goods["\x61\144\x64\x72\x65\163\163"] = $aa; goto R_03J; gOVed: wNxal: goto A9_FT; r1z6a: W_Ubz: goto SQkxq; IloWI: $info["\x63\162\x65\x61\164\145\124\151\x6d\x65"] = $this->get_time($info["\143\162\145\141\164\x65\124\151\x6d\x65"]); goto JnNE1; BnSIx: wFu8Y: goto f3DiN; u2BHY: $aa["\x63\157\165\156\164\171"] = $res["\x6e\x61\x6d\145"]; goto y7vD5; lbWPC: f2sWX: goto ccbVN; K8p2R: $aa["\160\x72\157\166\151\x6e\x63\145"] = $pro["\156\141\x6d\145"]; goto V1WSw; zVhoU: $aa["\x74\x65\x6c\116\165\x6d\142\x65\x72"] = $address["\x70\x68\157\x6e\145"]; goto cmvxL; e_xxm: $address = Db::name($this->ad)->field("\143\157\156\163\151\x67\156\145\x72\54\160\150\157\156\x65\54\141\x64\144\162\145\163\x73\x2c\x61\x72\145\x61")->where("\x75\x69\x64", $uid)->order("\143\162\145\x61\164\145\137\164\x69\155\145", "\x64\x65\x73\x63")->find(); goto KpiCz; KZ1mS: foreach ($info["\x67\x72\x6f\x75\160\x4d\x65\155\x62\145\162"] as $val) { goto Rhd1b; FtCjP: l5uMn: goto HSKCI; Rhd1b: if (!($val["\165\151\x64"] == $uid)) { goto PmW8k; } goto UTyB6; B03i2: PmW8k: goto FtCjP; UTyB6: $info["\151\x73\x53\x65\154\146"] = 1; goto B03i2; HSKCI: } goto r1z6a; U0Azv: $orderStatus = ''; goto tgXm0; ImcJL: goto wNxal; goto RRW7b; nyiJk: if (!$info) { goto T8sgo; } goto U0Azv; iTyu4: $res = Db::name($this->dq)->where("\x69\144", $address["\x61\x72\x65\x61"])->find(); goto w15MP; V1WSw: $aa["\x63\x69\164\171"] = $city["\156\141\155\x65"]; goto u2BHY; Ea_Pb: } public function signOrder($data) { goto FnZum; mkUgQ: if (!empty($info)) { goto Flq1l; } goto fk0aF; EVYck: $res = Db::name($this->o)->where(["\151\144" => $data["\x69\x64"]])->update($new_data); goto iJ2PM; iJ2PM: return $res; goto AM2f5; FnZum: $info = Db::name($this->o)->where($data)->find(); goto mkUgQ; fk0aF: return null; goto bliQd; bliQd: Flq1l: goto ISHGg; ISHGg: $new_data = array("\157\x72\x64\x65\162\137\163\x74\141\x74\x75\163" => 6, "\143\x6f\155\x70\154\x65\x74\x65\x54\151\155\x65" => time()); goto EVYck; AM2f5: } public function refundOrder($data) { goto x9wMX; izB_n: $res = Db::name($this->o)->where(["\151\x64" => $data["\x69\x64"]])->update($new_data); goto hov6a; x9wMX: $info = Db::name($this->o)->where($data)->find(); goto XluCU; w8ML1: return null; goto BcX8P; ZUPa8: $new_data = array("\157\162\x64\145\x72\137\163\164\141\x74\x75\x73" => 5); goto izB_n; BcX8P: SA8TW: goto ZUPa8; XluCU: if (!empty($info)) { goto SA8TW; } goto w8ML1; hov6a: return $res; goto PmIIG; PmIIG: } public function orderPay($data) { goto CqIbX; NbCXS: $rs["\143\x6f\x64\x65"] = 1; goto F4qMx; F4qMx: $rs["\155\x73\x67"] = $unifiedorder["\162\145\x74\165\x72\x6e\137\155\163\147"]; goto HDykk; pWqj3: $rs["\155\x73\147"] = "\xe8\xae\242\xe5\x8d\x95\344\270\273\xe9\xa2\x98\345\xb7\262\346\x94\271\xe5\x8f\230"; goto EYbBF; h2O3u: vceY7: goto MYese; JhWWA: return $rs; goto r_iWZ; SgkL0: $rs["\151\156\x66\157"] = $res; goto fG6v5; cUS66: $input->SetBody("\xe6\x8b\xbc\345\x9b\xa2\345\x95\206\xe5\223\x81"); goto QGt2m; XOkgn: $groupNum = Db::name("\x79\x62\163\x63\137\160\164\137\147\157\x6f\144\x73")->where("\151\144", $info["\x67\x69\x64"])->value("\x67\162\157\165\160\x4e\x75\x6d"); goto EgUrb; QqTA8: if (!($unifiedorder["\x72\145\164\x75\x72\156\137\143\x6f\x64\145"] == "\106\101\x49\114")) { goto vceY7; } goto NbCXS; K3LE7: $count = Db::name("\171\x62\x73\143\137\160\164\x5f\x6f\x72\x64\x65\162\163")->where(["\x70\151\144" => $info["\x70\151\144"], "\151\x73\x50\141\171" => 1])->count(); goto KPA1A; leNzm: uRVJ5: goto XOkgn; uTr_7: $rs["\143\157\144\x65"] = 1; goto LGShV; EYbBF: return $rs; goto aOi05; LGShV: $rs["\x6d\x73\x67"] = "\xe8\xae\242\xe5\215\x95\xe4\270\215\xe5\255\x98\345\234\250"; goto LnP5V; EgUrb: if (!($info["\x70\x69\x64"] != 0)) { goto LqqyY; } goto K3LE7; fG6v5: return $rs; goto s2y_3; MDO86: if (!($info["\x69\x73\107\162\157\165\160"] > time())) { goto jrHnD; } goto Rmi89; QGt2m: $input->SetOpenid($data["\157\x70\145\x6e\x69\144"]); goto A0VC6; HDykk: return $rs; goto h2O3u; aOi05: L69bu: goto sC1JC; ZwinP: $input->SetTotal_fee($info["\x74\x6f\164\141\154\120\162\x69\143\145"] * 100); goto Rdyd6; CqIbX: $rs = array("\143\x6f\144\145" => 0, "\x69\156\x66\157" => array()); goto oYZeT; fRkT3: OyHhB: goto UdRk5; BcV31: return $rs; goto kosxR; sC1JC: if (!($info["\151\x73\107\162\157\x75\x70"] == 1)) { goto uRVJ5; } goto MDO86; EiJxf: $input->SetTrade_type("\112\x53\x41\x50\111"); goto epAay; EtFyI: $rs["\155\x73\147"] = "\345\233\xa2\xe8\xb4\xad\345\267\xb2\346\xbb\xa1\xe5\x91\x98"; goto BcV31; bB0u5: maY17: goto Xf4BM; Rgwmy: $GLOBALS["\153\145\x79"] = "\160\151\x6e\164\165\141\x6e"; goto nxCwh; MYese: if (!($unifiedorder["\x72\x65\x73\165\x6c\x74\x5f\143\x6f\144\145"] == "\x46\x41\x49\x4c")) { goto OyHhB; } goto LhhPB; cvonC: $rs["\143\x6f\144\x65"] = 1; goto EtFyI; LnP5V: return $rs; goto bB0u5; oYZeT: $info = Db::name($this->o)->where(["\x69\x64" => $data["\151\x64"], "\157\162\144\x65\162\x5f\x73\164\x61\x74\165\x73" => 1])->find(); goto GmMuq; AfhRg: $rs["\143\157\x64\145"] = 1; goto pWqj3; r_iWZ: jrHnD: goto leNzm; Xf4BM: if (!($info["\x69\163\x50\141\x79"] != 0)) { goto L69bu; } goto AfhRg; E8h9u: return $rs; goto fRkT3; pY8HX: LqqyY: goto qxrLU; LhhPB: $rs["\143\x6f\144\145"] = 1; goto WhzAh; Rdyd6: $input->SetOut_trade_no($info["\x6f\x72\x64\x65\162\x4e\165\155"]); goto EiJxf; epAay: $unifiedorder = \WxPayApi::unifiedOrder($input); goto QqTA8; pIuVQ: $rs["\x6d\163\x67"] = "\345\233\xa2\xe8\264\xad\xe5\267\xb2\350\xbf\x87\346\234\x9f"; goto JhWWA; UdRk5: Db::name($this->o)->where("\x69\x64", $data["\x69\x64"])->update(["\160\x72\x65\x70\x61\x79\x49\144" => $unifiedorder["\160\x72\x65\160\x61\x79\x5f\151\144"]]); goto yGO32; qxrLU: $GLOBALS["\155\143\x68\x5f\x69\144"] = $data["\x6d\x63\x68\x5f\151\x64"]; goto Rgwmy; nxCwh: $input = new \WxPayUnifiedOrder(); goto cUS66; yGO32: $res = $this->weixinapp($unifiedorder); goto SgkL0; Rmi89: $rs["\143\157\144\145"] = 1; goto pIuVQ; A0VC6: $input->SetDetail("\347\x94\xa8\346\x88\xb7\xe8\264\xad\344\xb9\xb0\xe5\x95\x86\345\x93\201"); goto ZwinP; KPA1A: if (!($count + 1 >= $groupNum)) { goto UFm3a; } goto cvonC; GmMuq: if (!empty($info)) { goto maY17; } goto uTr_7; WhzAh: $rs["\x6d\163\x67"] = $unifiedorder["\145\x72\162\137\x63\x6f\144\x65\x5f\144\145\163"]; goto E8h9u; kosxR: UFm3a: goto pY8HX; s2y_3: } private function weixinapp($unifiedorder) { goto Ktu82; ztnuc: $input->SetNonceStr($this->createNoncestr()); goto jxv2m; jxv2m: $input->SetPackage("\x70\x72\x65\x70\x61\171\137\x69\x64\75" . $unifiedorder["\x70\x72\145\x70\x61\171\x5f\x69\144"]); goto GMzxl; E0TrA: return $input; goto NjiK0; I7A6E: $input->SetTimeStamp('' . time() . ''); goto ztnuc; LK4UH: $input->SetAppid($unifiedorder["\141\x70\x70\151\144"]); goto I7A6E; UEvLx: $input->SetSign(); goto E0TrA; GMzxl: $input->SetSignType("\115\x44\x35"); goto UEvLx; Ktu82: $input = new \WxPayJsApiPay(); goto LK4UH; NjiK0: } private function createNoncestr($length = 32) { goto q2Lv_; W0OgE: $str = ''; goto poHu5; b0rcN: goto amROv; goto cvSEt; poHu5: $i = 0; goto TFkTo; q2Lv_: $chars = "\x61\x62\x63\x64\145\x66\147\150\151\x6a\153\154\x6d\x6e\157\160\x71\162\163\164\165\x76\x77\170\x79\x7a\60\61\x32\x33\64\65\66\67\x38\x39"; goto W0OgE; OiBPX: $str .= substr($chars, mt_rand(0, strlen($chars) - 1), 1); goto cVuv7; TFkTo: amROv: goto SIxaJ; cVuv7: C9KZ6: goto XjBRA; Y5VLz: return $str; goto V_Hrp; SIxaJ: if (!($i < $length)) { goto pIP5w; } goto OiBPX; cvSEt: pIP5w: goto Y5VLz; XjBRA: $i++; goto b0rcN; V_Hrp: } public function get_pic_path($id) { goto Z1eA2; FfxzX: return null; goto l4yuM; cgo8H: return $img; goto DW40l; DW40l: dfkIv: goto jn834; oUubQ: $img = Db::name($this->i)->where("\x69\155\147\x5f\151\x64", $id)->value("\x69\x6d\147\137\143\157\166\145\x72"); goto cgo8H; l4yuM: goto dfkIv; goto ZR1yl; Z1eA2: if ($id) { goto SRb18; } goto FfxzX; ZR1yl: SRb18: goto oUubQ; jn834: } public function get_time($t) { goto tDIpE; yFohX: goto KaNj9; goto e7nUV; Q_LTf: return date("\x59\x2d\x6d\x2d\x64\x20\x48\72\151\72\x73", $t); goto B2nPt; tDIpE: if ($t) { goto q2Drq; } goto WG0Dm; B2nPt: KaNj9: goto Pd3PF; e7nUV: q2Drq: goto Q_LTf; WG0Dm: return null; goto yFohX; Pd3PF: } }
