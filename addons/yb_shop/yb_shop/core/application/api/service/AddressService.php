<?php
 namespace app\api\service; use think\Db; require_once BASE_ROOT . "\x63\x6f\162\x65\57\x61\160\x70\154\151\143\141\164\x69\x6f\x6e\57\x63\157\155\155\x6f\x6e\x2e\160\150\160"; class AddressService { private $a = "\171\142\x73\143\x5f\x75\163\x65\162\x5f\141\144\x64\162\145\x73\x73"; private $dq = "\171\142\163\x63\x5f\x61\x72\x65\141"; public function createAddress($data) { goto rWfPG; JlUB0: return $rs; goto MlIpN; C2rpB: $rs = Db::name($this->a)->insertGetId($data); goto JlUB0; Nnz7F: Db::name($this->a)->where("\151\x73\137\x64\145\146\x61\165\154\164", 1)->update(["\151\x73\x5f\144\145\x66\141\x75\x6c\164" => 0]); goto XSlrO; rWfPG: if (!($data["\151\x73\x5f\144\x65\x66\x61\165\x6c\x74"] != 0)) { goto ZyW5R; } goto Nnz7F; XSlrO: ZyW5R: goto C2rpB; MlIpN: } public function addressList($data, $page) { goto HCgAY; HCgAY: $rs = Db::name($this->a)->where($data)->page($page, PAGE_NUM)->select(); goto nWNyr; vPm_0: return $rs; goto wX3qR; w6Tuu: SccZp: goto vPm_0; nWNyr: foreach ($rs as $key => $value) { goto EcD67; A9aKh: $rs[$key]["\144\151\163\164\162\x69\x63\x74"] = $res["\x6e\x61\155\x65"]; goto fPI_F; EcD67: $res = Db::name($this->dq)->where("\151\144", $value["\141\x72\145\141"])->find(); goto q7CTa; EKjcG: $rs[$key]["\x63\x69\x74\171"] = $city["\x6e\x61\x6d\145"]; goto A9aKh; fPI_F: bPv2t: goto UWCJD; p7hSL: $pro = Db::name($this->dq)->where("\x69\144", $city["\x70\151\x64"])->find(); goto ai6yQ; q7CTa: $city = Db::name($this->dq)->where("\x69\144", $res["\160\x69\144"])->find(); goto p7hSL; ai6yQ: $rs[$key]["\160\x72\x6f\x76\x69\156\x63\145"] = $pro["\x6e\141\155\x65"]; goto EKjcG; UWCJD: } goto w6Tuu; wX3qR: } public function singleAddress($data) { goto TDucH; yxDBm: $res = Db::name($this->dq)->where("\151\x64", $rs["\x61\162\x65\141"])->find(); goto R1m7q; TDucH: $rs = Db::name($this->a)->where($data)->find(); goto p_zQU; cwKdN: return $rs; goto lWJAV; Apput: v5FRN: goto cwKdN; p_zQU: if (empty($rs)) { goto v5FRN; } goto yxDBm; mKCWf: $rs["\144\151\x73\x74\x72\x69\x63\x74"] = $res["\156\141\x6d\145"]; goto Apput; R1m7q: $city = Db::name($this->dq)->where("\151\144", $res["\x70\x69\x64"])->find(); goto eHcrB; fWsfT: $rs["\143\151\164\x79"] = $city["\156\x61\155\x65"]; goto mKCWf; eHcrB: $pro = Db::name($this->dq)->where("\151\x64", $city["\x70\x69\144"])->find(); goto a8tKF; a8tKF: $rs["\160\162\157\x76\151\156\x63\x65"] = $pro["\156\x61\155\x65"]; goto fWsfT; lWJAV: } public function updateAddress($data) { goto M0fCr; BfvHx: xEZWt: goto BpLcX; G1psp: Db::name($this->a)->where("\151\x73\x5f\x64\x65\x66\x61\x75\154\x74", 1)->update(["\151\163\x5f\144\145\146\141\165\x6c\164" => 0]); goto BfvHx; BpLcX: $rs = Db::name($this->a)->update($data, ["\151\x64" => $data["\x69\144"]]); goto kpJdi; tL7nZ: C0j1e: goto t93E5; dHxvT: if (!empty($res)) { goto C0j1e; } goto aERjB; t93E5: if (!($data["\x69\x73\x5f\144\x65\x66\141\165\154\x74"] != 0)) { goto xEZWt; } goto G1psp; kpJdi: return $rs; goto c1hv2; M0fCr: $res = Db::name($this->a)->where("\151\144", $data["\x69\144"])->where("\165\x69\144", $data["\x75\x69\144"])->find(); goto dHxvT; aERjB: return "\106\x41\x49\114"; goto tL7nZ; c1hv2: } public function delAddress($data) { $rs = Db::name($this->a)->delete($data["\x69\144"]); return $rs; } public function getArea() { goto AaK8W; LwAV6: $province = Db::name($this->dq)->where("\160\151\x64", 1)->select(); goto AJwlr; AJwlr: foreach ($province as $key => $value) { goto zxua0; jGUPn: $city = Db::name($this->dq)->where("\160\151\x64", $value["\151\144"])->select(); goto WOxkv; zxua0: $rs["\141\x72\145\141\x73"][$key]["\156\141\x6d\145"] = $value["\x6e\141\155\145"]; goto jGUPn; Nrblb: p_amC: goto DrKz7; QPPrj: BagJP: goto Nrblb; WOxkv: foreach ($city as $k => $v) { goto UVC_e; KPqgC: LJLPs: goto fiHm7; EIrF5: $rs["\141\162\x65\141\163"][$key]["\143\151\x74\x79"][$k]["\141\x72\145\x61"] = $area; goto KPqgC; UVC_e: $rs["\141\x72\145\141\163"][$key]["\143\151\x74\x79"][$k]["\x6e\141\x6d\145"] = $v["\156\141\x6d\x65"]; goto frz_1; frz_1: $area = Db::name($this->dq)->where("\x70\x69\x64", $v["\151\x64"])->select(); goto EIrF5; fiHm7: } goto QPPrj; DrKz7: } goto efoAe; efoAe: pf2Pa: goto s9ENW; AaK8W: $rs = array(); goto LwAV6; s9ENW: return $rs; goto XDAmT; XDAmT: } public function getUserAddress($uid) { goto wqmEj; VAe5h: $pro = Db::name($this->dq)->where("\x69\x64", $city["\160\151\144"])->find(); goto s63_0; GuTl4: $address["\144\151\163\164\162\x69\143\x74"] = $res["\x6e\x61\155\145"]; goto oDqpp; Q01Vt: Dsu3w: goto N21CO; N21CO: $res = Db::name($this->dq)->where("\151\x64", $address["\x61\162\145\x61"])->find(); goto hLL4E; UG62C: if (!empty($address)) { goto Dsu3w; } goto s8bO2; wqmEj: $address = Db::name("\171\x62\x73\x63\x5f\165\163\145\x72\x5f\141\x64\x64\x72\145\x73\163")->field("\143\x6f\156\x73\151\147\156\145\162\54\x70\150\157\x6e\x65\54\x61\144\x64\162\145\x73\x73\x2c\x61\x72\x65\141")->where("\x75\x69\x64", $uid)->where("\x69\x73\137\x64\x65\x66\141\165\x6c\x74\40", 1)->find(); goto UG62C; oDqpp: $info["\x61\x64\144\x72\145\163\x73"] = $address; goto VJQWE; s8bO2: $address = Db::name("\171\x62\x73\143\x5f\165\x73\x65\x72\x5f\x61\144\144\x72\x65\x73\x73")->field("\143\157\x6e\163\x69\147\x6e\x65\x72\54\160\150\x6f\156\145\54\141\x64\144\162\x65\x73\x73\54\x61\x72\145\141")->where("\x75\151\x64", $uid)->order("\x63\x72\x65\x61\164\x65\x5f\164\151\x6d\x65", "\144\145\x73\143")->find(); goto Q01Vt; hLL4E: $city = Db::name($this->dq)->where("\x69\144", $res["\160\x69\x64"])->find(); goto VAe5h; Sw4Eb: $address["\143\x69\x74\x79"] = $city["\156\141\x6d\x65"]; goto GuTl4; VJQWE: return $info; goto xmo0e; s63_0: $address["\x70\162\x6f\x76\x69\156\143\145"] = $pro["\x6e\141\155\145"]; goto Sw4Eb; xmo0e: } }
