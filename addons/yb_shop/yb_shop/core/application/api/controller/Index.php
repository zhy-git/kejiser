<?php
 namespace app\api\controller; require_once BASE_ROOT . "\143\157\162\145\57\x61\x70\x70\154\x69\143\x61\x74\151\x6f\156\x2f\x61\160\151\x2f\143\x6f\x6e\x74\x72\157\154\154\145\162\x2f\102\141\x73\x65\103\x6f\x6e\164\x72\157\154\154\x65\162\x2e\160\150\160"; use think\Request; use think\Db; use app\api\service\IndexService; use app\common\model\Config; use think\Validate; use think\Cache; class Index extends BaseController { public function ttt() { return $app_id = Request::instance()->param("\x69"); } public function WriteBook() { goto L_pW6; g8PdH: if (empty($result)) { goto G8oCp; } goto nMT1Y; DFwHu: $rs["\x6d\163\147"] = $result; goto CiKWM; HrQ6K: $info = $order->WriteBook($data); goto S4NDR; te7BW: return json_encode($rs); goto vc28T; pEVhs: return json_encode($rs); goto vs4UW; inip6: $rs["\155\x73\x67"] = "\346\x8f\x90\344\272\xa4\xe5\244\xb1\350\xb4\245"; goto pEVhs; JwuOY: G8oCp: goto BxP3a; bKq46: $rs["\143\157\x64\145"] = 1; goto uQ0j2; L_pW6: $rs = array("\143\x6f\x64\x65" => 0, "\151\x6e\146\157" => array()); goto xiiSe; uQ0j2: $rs["\x6d\x73\147"] = "\345\xb7\xb2\xe6\xb7\xbb\xe5\212\xa0\xe6\x88\x90\xe5\x8a\237"; goto te7BW; nMT1Y: $rs["\143\x6f\x64\145"] = 1; goto DFwHu; BxP3a: $order = new IndexService(); goto HrQ6K; S4NDR: if (!empty($info)) { goto oTZoT; } goto M12zI; K0uHR: $result = $this->checkParam($rule, $data); goto g8PdH; ZIIfQ: $data = ["\156\x61\x6d\x65" => Request::instance()->param("\x6e\141\x6d\x65"), "\x70\150\x6f\156\x65" => Request::instance()->param("\160\x68\x6f\156\145"), "\x63\x6f\x6e\x74\x65\x6e\164" => Request::instance()->param("\x63\157\156\x74\x65\156\164"), "\x6d\143\150\x5f\x69\x64" => $mch_id, "\165\163\145\x72\x5f\x69\x64" => Request::instance()->param("\165\163\145\162\x5f\151\144")]; goto K0uHR; CiKWM: return json_encode($rs); goto JwuOY; vc28T: SVyGl: goto rhymi; ZruDb: return json_encode($rs); goto OI7IZ; SJtRt: if (!($info == -1)) { goto SVyGl; } goto bKq46; rhymi: $rs["\151\x6e\146\157"] = $info; goto ZruDb; xiiSe: $app_id = Request::instance()->param("\x69"); goto DyQge; OokOQ: $rule = [["\155\143\x68\x5f\x69\144", "\162\x65\161\x75\151\x72\x65", "\xe4\270\x8d\xe5\xad\x98\xe5\x9c\xa8\345\x95\206\346\x88\267"], ["\x6e\x61\x6d\145", "\162\145\x71\x75\x69\x72\x65"], ["\160\x68\157\x6e\145", "\162\x65\161\x75\151\162\x65"], ["\x75\163\145\x72\137\x69\x64", "\x72\x65\161\x75\x69\x72\x65"]]; goto ZIIfQ; DyQge: $mch_id = $this->getMchId($app_id); goto OokOQ; M12zI: $rs["\x63\x6f\x64\145"] = 1; goto inip6; vs4UW: oTZoT: goto SJtRt; OI7IZ: } public function WriteComment() { goto nkvBI; VPnDZ: if (!empty($info)) { goto lisc0; } goto wk32h; wrWaz: $rs["\x6d\163\x67"] = "\346\217\x90\344\272\xa4\345\244\261\350\xb4\xa5"; goto WGIyM; DzP3u: $mch_id = $this->getMchId($app_id); goto Z_SJu; Z_SJu: $rule = [["\x6d\143\150\137\151\144", "\162\145\161\x75\x69\x72\x65", "\344\270\x8d\xe5\255\x98\xe5\x9c\250\xe5\225\206\346\x88\267"], ["\146\x72\x61\143\164\x69\157\156", "\x72\x65\x71\165\151\x72\x65"], ["\x69\x6e\x66\x6f", "\x72\145\x71\165\x69\162\x65"], ["\165\163\x65\162\x5f\x69\144", "\x72\145\x71\x75\151\162\x65"]]; goto bdhnz; b6V32: jlp3Q: goto Ow31i; WGIyM: return json_encode($rs); goto hSHxI; l63uC: return json_encode($rs); goto KR7HP; wi4fV: $rs["\x6d\x73\x67"] = "\345\267\xb2\346\xb7\xbb\xe5\212\xa0\346\x88\x90\xe5\212\x9f"; goto R3VW_; vxUWM: $rs["\151\x6e\x66\157"] = $info; goto l63uC; nkvBI: $rs = array("\x63\157\144\x65" => 0, "\151\x6e\146\157" => array()); goto NR6GX; A0Cl_: $array_pic = ''; goto BCiwZ; AK5RP: return json_encode($rs); goto yrpAU; Ayfof: $result = $this->checkParam($rule, $data); goto UT8JR; Ow31i: $data["\141\162\x72\x61\x79\x5f\160\x69\143"] = $array_pic; goto mPVh3; g6Qb1: if (!($info == -1)) { goto A14qn; } goto NEMBx; wk32h: $rs["\x63\157\x64\145"] = 1; goto wrWaz; R2z1H: A14qn: goto vxUWM; hSHxI: lisc0: goto g6Qb1; yrpAU: WU7zr: goto ORSTe; bdhnz: $data = ["\151\156\x66\x6f" => Request::instance()->param("\151\x6e\146\x6f"), "\x66\162\141\143\x74\151\157\156" => Request::instance()->param("\x66\x72\141\x63\x74\151\157\x6e"), "\x61\162\x72\x61\171\137\x70\x69\143" => Request::instance()->post("\141\x72\x72\x61\x79\137\x70\x69\143\x2f\x61", []), "\155\x63\x68\137\151\144" => $mch_id, "\x75\163\145\162\x5f\x69\x64" => Request::instance()->param("\x75\x73\x65\x72\137\x69\144"), "\x64\x65\154" => 1]; goto Ayfof; UT8JR: if (empty($result)) { goto WU7zr; } goto qpikm; mPVh3: $info = $order->WriteComment($data); goto VPnDZ; ORSTe: $order = new IndexService(); goto A0Cl_; o2679: $rs["\x6d\x73\147"] = $result; goto AK5RP; qpikm: $rs["\143\157\x64\x65"] = 1; goto o2679; NR6GX: $app_id = Request::instance()->param("\x69"); goto DzP3u; BCiwZ: foreach ($data["\141\162\162\141\171\x5f\x70\x69\x63"] as $v) { $array_pic .= $v . "\x2c"; pgTTn: } goto b6V32; R3VW_: return json_encode($rs); goto R2z1H; NEMBx: $rs["\x63\x6f\x64\145"] = 1; goto wi4fV; KR7HP: } public function CommentList() { goto WrSi2; MNhSk: $result = $this->checkParam($rule, $data); goto dcEHx; dcEHx: if (empty($result)) { goto bawzi; } goto ZZmUO; l2Ajq: $mch_id = $this->getMchId($app_id); goto OZskX; OI5gU: $rs["\151\156\x66\x6f"] = $info; goto bdHnW; NS27F: $data = ["\x6d\143\150\137\x69\x64" => $mch_id, "\144\x65\154" => 1]; goto MNhSk; Qq296: $app_id = Request::instance()->param("\x69"); goto PBBcd; XjkdG: bawzi: goto no0C2; TZwNI: $page = Request::instance()->param("\160\141\x67\x65", 1); goto l2Ajq; ZZmUO: $rs["\143\157\144\145"] = 1; goto miwX_; J5oU_: $info = json_decode($info, true); goto OI5gU; tvdEd: return json_encode($rs); goto XjkdG; miwX_: $rs["\155\x73\x67"] = $result; goto tvdEd; no0C2: $order = new IndexService(); goto qozVq; OZskX: $rule = [["\x6d\x63\150\x5f\x69\x64", "\x72\x65\161\x75\151\162\145", "\xe4\270\x8d\xe5\xad\x98\xe5\234\250\345\x95\206\xe6\x88\xb7"]]; goto NS27F; bdHnW: return json_encode($rs); goto Q_PIw; PBBcd: $num = Request::instance()->param("\156\165\x6d", 0); goto TZwNI; qozVq: $info = $order->CommentList($data, $page, $num); goto J5oU_; WrSi2: $rs = array("\x63\157\x64\x65" => 0, "\x69\x6e\146\157" => array()); goto Qq296; Q_PIw: } public function Support() { goto mPuMY; lqnYb: if (empty($info)) { goto x4zQw; } goto ML_Aq; opsOh: $info = $config->where("\x6b\x65\171", "\x54\x45\x43\x48\116\x49\x43\101\114")->find(); goto lqnYb; ML_Aq: $value = json_decode($info["\x76\x61\154\x75\145"], true); goto waqEe; kMU65: $value[0]["\x71\x72\143\157\144\145"] = IMG_PAH . $value[0]["\x71\162\143\x6f\144\145"]; goto DKXiB; KqzcZ: return json_encode($rs); goto tmRLI; mPuMY: $rs = array("\143\x6f\x64\145" => 0, "\151\156\x66\x6f" => array()); goto RWyfQ; DKXiB: jN9W1: goto ngq3x; VqKdX: x4zQw: goto KqzcZ; waqEe: if (empty($value[0]["\x71\x72\143\x6f\144\145"])) { goto jN9W1; } goto kMU65; RWyfQ: $config = new Config(); goto opsOh; ngq3x: $rs["\x69\156\146\157"] = $value[0]; goto VqKdX; tmRLI: } public function uploadFile() { goto PFUko; qp75S: $ext = "\x2e" . $file_name_explode[$suffix]; goto s0CY9; c2LU6: NGNVM: goto xb_mL; ApVrJ: $file_type = $_FILES["\146\x69\x6c\x65\x5f\165\x70\x6c\157\141\144"]["\164\171\160\145"]; goto xqSHm; edzDW: return null; goto Vns5G; YPbe9: if (file_exists($file_path)) { goto NGNVM; } goto zlM_m; s0yHs: FsaZ1: goto YPbe9; skRX4: $mch_id = $this->getMchId($app_key); goto uQ_9y; Ezjg_: $file_name_explode = explode("\56", $file_name); goto sy4zZ; JKEPS: if (!($file_type != "\x69\155\141\147\145\x2f\147\151\146" && $file_type != "\151\x6d\141\147\x65\x2f\160\156\147" && $file_type != "\151\155\141\147\145\57\152\160\x65\147" && $file_size > 5000000)) { goto kV2NW; } goto edzDW; DMnIa: LsxEt: goto OqQt9; u0XCz: $file_size = $_FILES["\146\x69\154\x65\137\x75\160\x6c\157\x61\x64"]["\x73\x69\172\x65"]; goto ApVrJ; MSf0C: $app_key = Request::instance()->param("\151"); goto RfZKz; nweR9: if (!($file_path == '')) { goto FsaZ1; } goto W_rwS; AOXWH: return "\150\x74\164\x70\x3a\x2f\57" . $_SERVER["\110\x54\124\x50\x5f\x48\x4f\123\124"] . strstr($ok["\x70\141\164\x68"], "\x2f\x61\x74\x74\x61\143\x68\155\x65\x6e\164"); goto DMnIa; uQ_9y: $file_path = $_SERVER["\x44\117\103\x55\x4d\x45\x4e\x54\x5f\122\117\x4f\x54"] . "\57\141\x74\x74\x61\143\150\155\145\156\x74\57\165\x70\x6c\x6f\141\144\57" . $path . "\57\141\143\x69\144\137" . $mch_id . "\x2f" . date("\x59\55\155\55\x64", time()) . "\x2f"; goto nweR9; zlM_m: $mode = intval("\60\x37\67\x37", 8); goto d2P5v; aKolC: if ($ok["\143\157\144\145"]) { goto iGqUK; } goto XQOcc; RfZKz: $path = Request::instance()->param("\x70\141\164\x68"); goto skRX4; XkgKg: return null; goto C0Txi; s0CY9: $newfile = $guid . $ext; goto LVBxc; xb_mL: $file_name = $_FILES["\146\x69\154\x65\137\x75\x70\x6c\157\141\144"]["\x6e\141\x6d\145"]; goto u0XCz; IrRgM: @unlink($_FILES["\146\x69\154\x65\x5f\x75\160\154\157\x61\x64"]); goto AOXWH; OHK7S: $guid = time() . rand(10000, 99999); goto Ezjg_; W_rwS: return null; goto s0yHs; xqSHm: if (!($file_size == 0)) { goto itlfn; } goto XkgKg; d2P5v: mkdir($file_path, $mode, true); goto c2LU6; Vns5G: kV2NW: goto OHK7S; XQOcc: return null; goto hYWQj; sy4zZ: $suffix = count($file_name_explode) - 1; goto qp75S; C0Txi: itlfn: goto JKEPS; hYWQj: goto LsxEt; goto YDNtd; LVBxc: $ok = $this->moveUploadFile($_FILES["\x66\x69\x6c\x65\137\165\160\x6c\x6f\141\x64"]["\164\155\x70\x5f\156\141\155\145"], $file_path . $newfile); goto aKolC; YDNtd: iGqUK: goto IrRgM; PFUko: $rs = array("\143\x6f\144\145" => 0, "\151\156\x66\157" => array()); goto MSf0C; OqQt9: } private $upload_type = 1; private function moveUploadFile($file_path, $key) { goto EOqZj; SWRyg: hD0vj: goto l96Pe; IaMSB: $result = ["\143\157\144\x65" => $ok, "\160\x61\164\150" => $key, "\144\x6f\x6d\x61\151\156" => '', "\142\165\x63\153\x65\x74" => '']; goto KDqX4; UZlqJ: $ok = @move_uploaded_file($file_path, $key); goto IaMSB; EOqZj: if (!($this->upload_type == 1)) { goto hD0vj; } goto UZlqJ; KDqX4: return $result; goto SWRyg; l96Pe: } public function ModIndex() { goto PI7yR; t49u7: if (!empty($info)) { goto qBsne; } goto RThhV; fzSK9: $app_id = Request::instance()->param("\x69"); goto dHQpg; w3WtO: return json_encode($rs); goto H5Nbc; PI7yR: $rs = array("\143\x6f\144\145" => 0, "\151\x6e\146\157" => array()); goto fzSK9; H5Nbc: Mled1: goto Ah1rv; I5PQ2: if (empty($result)) { goto Mled1; } goto GUfIn; GUfIn: $rs["\143\x6f\x64\x65"] = 1; goto tUrrz; Q7sT2: $rs["\x69\156\x66\x6f"] = $info; goto DzfKJ; SZe2f: $rule = [["\155\143\x68\x5f\151\144", "\162\x65\x71\x75\x69\162\x65", "\350\xaf\xa5\xe5\x95\x86\xe6\x88\267\xe4\xb8\x8d\xe5\xad\x98\345\x9c\250\x2c\xe8\257\267\xe9\x87\215\xe6\x96\260\346\240\xb8\xe5\257\xb9\xe5\xb0\217\347\xa8\213\xe5\xba\217\xe9\205\215\xe7\xbd\256"]]; goto GPiip; RThhV: $rs["\143\157\144\x65"] = 1; goto Mpbno; F1RH5: return json_encode($rs); goto Upzim; dHQpg: $mch_id = $this->getMchId($app_id); goto gkWA3; Mpbno: $rs["\x6d\163\x67"] = "\xe6\x9c\252\351\x80\x89\xe6\x8b\xa9\351\246\x96\351\241\265\xe6\250\241\xe6\235\277"; goto F1RH5; Ah1rv: $index = new IndexService(); goto MvQur; Upzim: qBsne: goto Q7sT2; tUrrz: $rs["\x6d\x73\147"] = $result; goto w3WtO; GPiip: $result = $this->checkParam($rule, $data); goto I5PQ2; DzfKJ: return json_encode($rs); goto pFH26; MvQur: $info = $index->mod_index($mch_id); goto t49u7; gkWA3: $data = ["\x6d\x63\x68\x5f\151\x64" => $mch_id]; goto SZe2f; pFH26: } public function power() { goto H3E50; VnFJu: $rs["\143\157\144\x65"] = 1; goto Hdl5l; xsO_o: return json_encode($rs); goto gqZGk; ErHOG: $rs["\x69\156\x66\157"] = $info; goto g98Sc; PqbMi: $rule = [["\x6d\x63\x68\137\151\x64", "\162\145\x71\x75\151\162\x65", "\350\257\245\xe5\225\x86\346\210\267\344\xb8\215\345\255\x98\345\x9c\250\x2c\350\257\267\351\x87\x8d\xe6\x96\260\346\xa0\xb8\xe5\xaf\271\345\xb0\217\347\xa8\x8b\345\272\217\xe9\205\x8d\347\275\xae"], ["\x69\x64", "\162\x65\x71\x75\151\x72\145", "\346\234\252\351\200\211\346\x8b\251\xe4\xb8\x87\350\x83\275\351\xa1\265\xe9\235\xa2"]]; goto WrL3G; RC2sk: return json_encode($rs); goto WP5oV; uEiOE: if (!empty($info)) { goto f0VKN; } goto zVHsh; Ykr9F: $mch_id = $this->getMchId($app_id); goto ZL89K; H3E50: $rs = array("\143\157\144\145" => 0, "\x69\156\146\157" => array()); goto O5vBI; RgQIn: $index = new IndexService(); goto VqyeU; Hdl5l: $rs["\155\x73\147"] = $result; goto xsO_o; WrL3G: $result = $this->checkParam($rule, $data); goto MkpbO; g98Sc: return json_encode($rs); goto JmX4T; ZL89K: $id = Request::instance()->param("\x69\x64"); goto GnbZu; O5vBI: $app_id = Request::instance()->param("\x69"); goto Ykr9F; WP5oV: f0VKN: goto ErHOG; gqZGk: XWjvb: goto RgQIn; GnbZu: $data = ["\x6d\143\x68\x5f\151\144" => $mch_id, "\151\x64" => $id]; goto PqbMi; zVHsh: $rs["\x63\x6f\x64\145"] = 1; goto vh4i4; vh4i4: $rs["\155\163\x67"] = "\350\xaf\267\xe5\xa1\253\345\205\x85\xe9\241\xb5\351\x9d\xa2\xe5\x86\205\345\256\271"; goto RC2sk; MkpbO: if (empty($result)) { goto XWjvb; } goto VnFJu; VqyeU: $info = $index->get_power($data); goto uEiOE; JmX4T: } public function menu() { goto DMq3E; TD_cj: return json_encode($rs); goto fUkiB; IVFh2: return json_encode($rs); goto KxRtV; fUkiB: GgFQJ: goto Inp3K; JGBBv: $app_id = Request::instance()->param("\151"); goto v7jkw; CT782: if (empty($result)) { goto MEWoD; } goto FZxI1; rhZ30: $rs["\x6d\163\147"] = $result; goto VHQpE; VHQpE: return json_encode($rs); goto QJqX3; hkpC8: $data = ["\155\143\150\x5f\151\144" => $mch_id]; goto BLQ3k; FUZiI: $index = new IndexService(); goto S1yFo; Inp3K: $rs["\151\x6e\x66\x6f"] = $info; goto IVFh2; FZxI1: $rs["\143\x6f\x64\x65"] = 1; goto rhZ30; v7jkw: $mch_id = $this->getMchId($app_id); goto hkpC8; DMq3E: $rs = array("\143\157\x64\145" => 0, "\x69\x6e\146\157" => array()); goto JGBBv; QJqX3: MEWoD: goto FUZiI; mF1bG: $result = $this->checkParam($rule, $data); goto CT782; S1yFo: $info = $index->get_menu($mch_id); goto wlDUl; RaoVd: $rs["\x6d\163\147"] = "\xe6\x9c\252\351\200\x89\xe6\x8b\251\xe5\272\225\351\x83\250\350\217\x9c\xe5\x8d\x95"; goto TD_cj; m_Hkx: $rs["\143\157\144\x65"] = 1; goto RaoVd; BLQ3k: $rule = [["\155\143\x68\x5f\x69\x64", "\x72\145\x71\x75\x69\x72\145", "\xe8\257\245\xe5\225\x86\xe6\x88\xb7\xe4\270\x8d\345\255\x98\xe5\x9c\xa8\54\350\xaf\267\xe9\207\x8d\346\x96\xb0\346\xa0\xb8\345\257\xb9\345\260\217\347\xa8\213\xe5\xba\217\xe9\x85\x8d\xe7\xbd\xae"]]; goto mF1bG; wlDUl: if (!empty($info)) { goto GgFQJ; } goto m_Hkx; KxRtV: } public function tabbar() { goto KRSpQ; SGLzv: $rs["\155\x73\147"] = "\346\234\252\xe9\x80\x89\346\x8b\xa9\xe5\xba\x95\351\203\250\350\217\x9c\xe5\x8d\225"; goto zYcJi; sOnQt: $rs["\143\157\x64\145"] = 1; goto SGLzv; tb_lN: if (empty($result)) { goto MBlu4; } goto Qobt1; KRSpQ: $rs = array("\x63\x6f\144\145" => 0, "\151\x6e\146\x6f" => array()); goto sqXQ2; StV3V: return json_encode($rs); goto YnPCS; C7xFs: $rule = [["\155\143\150\x5f\151\x64", "\162\x65\161\x75\151\162\x65", "\350\257\245\345\x95\x86\346\210\267\xe4\270\215\345\xad\230\345\234\xa8\x2c\xe8\xaf\xb7\xe9\x87\215\346\x96\260\346\xa0\270\xe5\257\271\xe5\260\x8f\347\xa8\213\xe5\272\x8f\xe9\205\215\347\275\xae"]]; goto aM3zC; YnPCS: MBlu4: goto epYjE; XwdfI: $info = $index->get_tabbar($mch_id); goto ie2J7; GDZTC: $mch_id = $this->getMchId($app_id); goto BPkR8; ilxGP: $rs["\151\x6e\x66\x6f"] = $info; goto fn049; zYcJi: return json_encode($rs); goto Sg26T; Sg26T: mfsh5: goto ilxGP; ie2J7: if (!empty($info)) { goto mfsh5; } goto sOnQt; sqXQ2: $app_id = Request::instance()->param("\151"); goto GDZTC; Qobt1: $rs["\x63\x6f\144\x65"] = 1; goto RwWqQ; aM3zC: $result = $this->checkParam($rule, $data); goto tb_lN; fn049: return json_encode($rs); goto MrGaB; RwWqQ: $rs["\x6d\163\x67"] = $result; goto StV3V; epYjE: $index = new IndexService(); goto XwdfI; BPkR8: $data = ["\x6d\143\150\137\151\x64" => $mch_id]; goto C7xFs; MrGaB: } public function form() { goto ehdE9; uy8em: x50BT: goto T2bAy; Tz2CS: $rs["\x63\x6f\144\145"] = 1; goto q1QEg; z7QqX: if (empty($result)) { goto pb2O4; } goto Tz2CS; rduH3: return json_encode($rs); goto uy8em; wODBJ: $info = $index->get_form($data); goto chwG2; chwG2: if (!empty($info)) { goto x50BT; } goto RF6Vv; Eoepb: return json_encode($rs); goto QHBOq; h28P_: $data = ["\155\143\150\137\x69\144" => $mch_id, "\151\x64" => $id]; goto SscLl; afaXH: $rs["\155\x73\x67"] = "\xe8\241\xa8\345\215\225\344\xb8\215\345\xad\x98\345\x9c\250"; goto rduH3; t9n0F: $index = new IndexService(); goto wODBJ; QHBOq: pb2O4: goto t9n0F; ehdE9: $rs = array("\143\x6f\144\145" => 0, "\x69\x6e\146\157" => array()); goto xBOKL; hxjcm: $id = Request::instance()->param("\x69\144"); goto GRvS6; a2wvx: return json_encode($rs); goto Qp7yQ; GRvS6: $mch_id = $this->getMchId($app_id); goto h28P_; q1QEg: $rs["\155\163\x67"] = $result; goto Eoepb; T2bAy: $rs["\151\156\146\x6f"] = $info; goto a2wvx; furfx: $result = $this->checkParam($rule, $data); goto z7QqX; xBOKL: $app_id = Request::instance()->param("\151"); goto hxjcm; SscLl: $rule = [["\155\x63\150\x5f\151\144", "\162\145\x71\x75\151\x72\x65", "\350\257\245\345\225\x86\xe6\x88\267\xe4\270\215\345\xad\230\345\x9c\xa8\54\xe8\257\267\xe9\207\215\346\226\260\xe6\xa0\xb8\345\xaf\271\xe5\260\x8f\xe7\250\x8b\xe5\272\x8f\xe9\x85\x8d\347\275\xae"], ["\x69\x64", "\162\145\161\x75\x69\x72\x65", "\346\234\252\351\x80\x89\xe6\x8b\251\350\xa1\xa8\xe5\215\x95"]]; goto furfx; RF6Vv: $rs["\x63\157\x64\145"] = 1; goto afaXH; Qp7yQ: } public function submitform() { goto mUQHM; gpCmY: return json_encode($rs); goto anSiE; KTGYq: $index = new IndexService(); goto T3nGW; ZK6Rq: $rs["\151\156\x66\157"] = $info; goto Bs9uv; PJZ3N: XU7U8: goto JdC9Q; aJ4Zv: $app_id = Request::instance()->param("\151"); goto u0epG; W6eea: $rs["\143\157\x64\145"] = 1; goto jOkqH; kvg5s: s17gy: goto o2CiR; YEy36: $mch_id = $this->getMchId($app_id); goto WkNgU; mUQHM: $rs = array("\x63\157\144\x65" => 0, "\151\x6e\x66\157" => array()); goto aJ4Zv; tPbsS: $num = Db::name("\171\x62\x73\143\137\165\163\145\162\137\146\157\162\x6d")->where(["\155\x63\150\x5f\151\144" => $mch_id, "\x62\165\163\137\146\x6f\162\155\x5f\x69\144" => $bus_form_id, "\165\x73\145\162\137\151\144" => $user_id])->count(); goto dY_wo; jOkqH: $rs["\155\163\x67"] = $result; goto h4oao; JdC9Q: $limit_num = Db::name("\x79\142\163\143\x5f\142\x75\x73\x5f\146\157\162\155")->where("\x69\144", $bus_form_id)->value("\154\151\x6d\x69\x74\x5f\x6e\165\x6d"); goto tPbsS; k1p8s: return json_encode($rs); goto Mb2jn; rfqyd: $result = $this->checkParam($rule, $data); goto KnvR6; o2CiR: if (!($info == -1)) { goto EEWAP; } goto Dy_wb; Bs9uv: return json_encode($rs); goto YpiKj; Mb2jn: cHNBf: goto KTGYq; kVJmJ: $rs["\x6d\x73\147"] = "\345\267\262\346\xb7\273\345\212\xa0\xe6\210\220\xe5\x8a\x9f"; goto gpCmY; SvmKs: return json_encode($rs); goto kvg5s; T3nGW: $info = $index->submit_form($data); goto EOPFf; MTbIt: $bus_form_id = Request::instance()->param("\142\x75\x73\x5f\146\x6f\162\x6d\137\x69\144"); goto NPC5S; NPC5S: $user_id = Request::instance()->param("\165\x73\145\162\x5f\x69\144"); goto gOzhb; dY_wo: if (!($limit_num != 0 && $num >= $limit_num)) { goto cHNBf; } goto cii7e; TLfTz: $rs["\x6d\x73\147"] = "\xe6\x8f\x90\344\272\244\346\xac\xa1\346\225\260\345\267\xb2\350\xbe\276\xe5\x88\xb0\xe4\xb8\x8a\xe7\272\xbf"; goto k1p8s; WkNgU: $data = ["\155\143\x68\x5f\151\144" => $mch_id, "\160\141\162\x61\155" => $param, "\165\163\x65\162\137\151\x64" => $user_id, "\x62\x75\x73\137\146\157\x72\155\137\x69\144" => $bus_form_id, "\x66\157\x72\155" => $form]; goto S_t5o; S_t5o: $rule = [["\155\x63\x68\137\151\144", "\162\145\161\165\x69\x72\145", "\350\257\245\xe5\x95\206\xe6\210\267\xe4\xb8\x8d\345\xad\x98\345\234\xa8\x2c\xe8\xaf\xb7\351\x87\215\xe6\x96\xb0\xe6\xa0\xb8\345\xaf\271\345\260\x8f\xe7\250\213\xe5\xba\217\xe9\205\x8d\347\xbd\xae"], ["\x70\x61\x72\141\155", "\162\x65\x71\x75\151\x72\145", "\xe5\206\205\345\256\xb9\xe4\270\x8d\xe8\203\275\xe4\270\xba\xe7\xa9\xba"], ["\x62\x75\x73\137\x66\x6f\x72\155\137\151\144", "\162\x65\161\x75\x69\x72\x65", "\xe8\241\250\345\215\x95\xe4\xb8\215\xe5\xad\230\345\234\250"], ["\x66\x6f\x72\x6d", "\x72\145\161\x75\151\162\145", "\xe8\241\250\345\x8d\x95\344\xb8\215\345\255\230\xe5\234\xa8"], ["\165\163\x65\162\x5f\151\144", "\x72\x65\x71\x75\151\x72\x65", "\346\x9c\252\xe8\x8e\xb7\xe5\x8f\226\345\x88\260\347\x94\250\xe6\210\267\344\277\xa1\346\x81\xaf\xef\274\x8c\xe8\xaf\267\351\207\215\350\xaf\x95"]]; goto rfqyd; gOzhb: $form = Request::instance()->param("\146\x6f\162\155"); goto YEy36; rOKzb: $rs["\143\157\x64\145"] = 1; goto UXCLr; UXCLr: $rs["\x6d\163\147"] = "\346\223\x8d\xe4\275\x9c\345\xa4\261\xe8\xb4\245"; goto SvmKs; Dy_wb: $rs["\143\x6f\x64\145"] = 1; goto kVJmJ; anSiE: EEWAP: goto ZK6Rq; cii7e: $rs["\143\157\144\x65"] = 1; goto TLfTz; u0epG: $param = Request::instance()->param("\x64\x61\164\141"); goto MTbIt; h4oao: return json_encode($rs); goto PJZ3N; KnvR6: if (empty($result)) { goto XU7U8; } goto W6eea; EOPFf: if (!empty($info)) { goto s17gy; } goto rOKzb; YpiKj: } public function ucenter() { goto ykXxT; AsRpH: $str = "\173\42\x61\x6c\154\137\144\x61\164\x61\42\72\x5b\173\42\164\171\x70\145\x22\72\42\155\x65\x6d\142\145\x72\x22\54\42\x74\151\x6d\145\137\x6b\x65\x79\42\72\42\x31\65\63\x38\61\63\67\60\66\63\66\x31\67\67\60\x22\54\42\156\x61\x6d\145\x22\x3a\x22\134\x75\x34\146\x31\141\x5c\165\65\64\65\70\x5c\165\x34\x66\x65\x31\x5c\x75\x36\60\66\146\42\175\x2c\173\x22\164\x79\x70\x65\42\72\x22\x63\x61\151\x64\141\x6e\42\54\42\x74\x69\155\145\137\x6b\x65\171\x22\x3a\42\61\65\63\70\x31\63\x37\60\66\x33\x38\62\x35\x36\x36\x22\54\x22\156\x61\155\145\x22\x3a\42\x5c\165\x36\x32\x31\x31\x5c\x75\x37\66\x38\x34\134\x75\x38\142\x61\x32\134\x75\x35\x33\65\65\42\x2c\x22\160\x61\x74\150\x5f\165\162\154\x22\72\42\x5c\x2f\x79\x62\137\x73\x68\x6f\160\x5c\x2f\x70\141\x67\145\x73\134\x2f\x6f\162\144\145\x72\134\57\151\156\x64\145\x78\x22\54\x22\x66\x6c\141\x67\42\x3a\x22\157\162\144\145\162\x22\x7d\54\173\x22\164\x79\x70\x65\42\72\x22\x6f\x72\144\x65\162\137\163\x74\x61\x74\165\x73\x22\54\42\x74\151\x6d\x65\137\153\x65\171\42\72\42\61\x35\63\70\62\x32\70\65\x35\x30\70\x39\65\62\71\42\175\54\x7b\42\164\171\x70\145\42\72\x22\143\x61\151\144\141\x6e\x22\x2c\42\164\x69\x6d\x65\x5f\x6b\145\x79\42\x3a\42\x31\65\x33\70\x31\63\67\60\66\x34\65\64\67\70\70\42\54\x22\x6e\141\155\x65\x22\x3a\x22\134\165\66\x32\x31\x31\134\165\67\x36\70\64\x5c\x75\65\x31\x37\x33\134\x75\66\x63\x65\70\42\54\x22\160\141\x74\150\x5f\165\162\154\x22\72\42\134\57\x79\142\137\163\150\x6f\x70\x5c\x2f\160\x61\147\145\x73\x5c\x2f\x6d\x65\155\142\x65\162\x5c\x2f\146\141\x76\x6f\162\151\x74\x65\134\57\x69\156\144\145\x78\x22\x2c\x22\x66\x6c\x61\147\42\72\42\x66\157\154\154\x6f\x77\42\175\x2c\173\42\164\x79\160\145\42\x3a\x22\143\141\x69\144\141\x6e\42\x2c\42\x74\151\x6d\x65\137\153\x65\x79\42\x3a\42\x31\65\x33\x38\x31\63\67\x30\66\64\63\63\60\x35\x31\x22\x2c\x22\x6e\x61\155\x65\42\72\x22\134\165\66\x32\x31\61\134\165\67\66\x38\x34\x5c\x75\64\146\x31\70\x5c\165\66\60\145\60\x5c\x75\65\x32\x33\x38\x22\x2c\x22\x70\x61\164\x68\137\165\162\x6c\x22\72\42\x5c\x2f\171\x62\x5f\163\x68\157\x70\x5c\57\160\x61\147\x65\163\134\x2f\155\x65\155\x62\x65\x72\134\x2f\x63\x6f\165\160\x6f\x6e\x5c\x2f\151\x6e\144\145\x78\42\54\42\146\x6c\x61\x67\x22\x3a\x22\143\157\165\160\x6f\156\42\175\x2c\x7b\42\x74\171\x70\x65\x22\72\x22\x63\141\151\144\x61\156\42\x2c\42\x74\x69\155\x65\137\x6b\x65\171\42\72\x22\x31\x35\63\70\61\x33\67\60\66\66\67\x31\70\x31\x33\x22\x2c\42\x6e\141\155\145\x22\72\42\134\x75\65\67\62\70\x5c\x75\67\145\142\x66\x5c\x75\65\x62\141\x32\x5c\165\x36\x37\60\x64\42\x2c\x22\x70\141\x74\150\x5f\x75\162\154\42\72\x22\42\54\42\x66\154\141\x67\42\x3a\x22\153\145\146\x75\42\175\x2c\173\42\x74\x79\160\145\x22\72\42\143\x61\x69\x64\x61\x6e\42\54\42\x74\151\155\145\137\x6b\x65\171\x22\x3a\42\x31\x35\x33\70\x31\x33\67\x30\66\x36\x36\x33\64\x38\62\42\x2c\x22\156\141\x6d\x65\42\x3a\42\134\x75\66\65\x33\x36\134\x75\x38\144\62\x37\x5c\x75\x35\x37\x33\x30\134\x75\65\67\x34\x30\x22\x2c\x22\x70\x61\x74\x68\137\x75\x72\x6c\x22\72\x22\134\57\171\142\x5f\163\x68\x6f\160\x5c\57\160\x61\x67\145\163\134\x2f\155\145\155\142\145\162\x5c\x2f\x61\144\144\x72\145\163\163\x5c\57\151\156\144\x65\x78\x22\54\42\x66\154\x61\147\x22\x3a\x22\x61\x64\144\162\x65\x73\163\x22\x7d\54\173\42\x74\171\160\145\x22\72\42\143\x61\x69\144\x61\156\x22\x2c\x22\164\151\155\x65\x5f\x6b\x65\x79\x22\72\42\x31\x35\63\70\61\63\67\x30\x36\67\71\x34\65\x32\x34\42\54\x22\x6e\141\155\145\42\72\x22\134\x75\65\61\67\63\134\165\x34\x65\x38\145\x5c\165\66\62\x31\61\x5c\x75\64\x65\145\143\42\54\42\x70\141\164\x68\137\x75\162\x6c\x22\x3a\42\134\x2f\171\x62\x5f\x73\150\x6f\160\x5c\57\x70\x61\x67\145\x73\134\x2f\155\145\155\142\x65\162\134\x2f\141\142\x6f\x75\164\x5c\57\x69\x6e\144\x65\170\x22\54\42\x66\154\x61\147\42\72\x22\141\x62\x6f\x75\x74\x22\175\135\54\42\160\141\147\145\x22\x3a\x7b\42\x6e\x61\155\145\42\x3a\42\134\165\x34\146\x31\141\134\x75\65\64\65\x38\134\165\64\x65\x32\144\134\x75\65\146\x63\x33\x22\x2c\42\156\x76\137\x63\x6f\154\157\x72\x22\72\42\43\146\62\146\62\x66\x32\42\54\x22\142\147\137\x63\157\x6c\157\x72\42\x3a\x22\43\x66\x32\146\x32\x66\62\42\x2c\x22\164\x65\x78\x74\137\143\157\x6c\157\x72\x22\72\x22\x23\60\x30\x30\60\x30\x30\42\54\42\142\147\137\x69\x6d\147\x22\x3a\x6e\165\x6c\154\54\42\x6f\x70\x65\x6e\x5f\x69\155\x67\42\72\156\x75\154\x6c\x2c\x22\x6f\160\x65\x6e\137\151\155\x67\137\165\x72\x6c\42\x3a\156\x75\154\x6c\x2c\x22\157\160\145\156\x5f\x69\x6d\x67\137\x6e\x61\155\145\x22\x3a\156\165\x6c\x6c\x2c\42\163\x68\157\x77\137\x74\141\142\142\x61\x72\42\72\x22\146\141\x6c\x73\x65\x22\x7d\175"; goto J2ztC; xeiCY: ZzbKp: goto nT4Dd; f0x4Q: $mch_id = $this->getMchId($app_id); goto Ujzgp; Vbqgg: Ez2Sy: goto Vc0qo; JnTEA: if (!empty($list)) { goto Tyhnf; } goto AsRpH; nT4Dd: goto Ez2Sy; goto S7Y3U; S7Y3U: HF3B5: goto QxgSw; g_E4D: $info = $index->get_ucenter($mch_id); goto KwMK0; QxgSw: $list = array(); goto Vbqgg; YcOys: $rs["\x63\157\144\x65"] = 1; goto Z57I2; Ujzgp: $data = ["\x6d\143\150\x5f\151\x64" => $mch_id]; goto WwN1D; Vc0qo: Hf0QW: goto JnTEA; X6ZrD: sUdk1: goto wHfox; KwMK0: if (empty($info)) { goto Hf0QW; } goto Q43XU; fpxJ5: Tyhnf: goto UER5P; UER5P: return json_encode($list); goto AsSQo; bsJ8T: foreach ($list["\141\154\154\x5f\144\141\164\141"] as $k => $v) { goto PnKP6; w1B7_: $list["\x61\154\x6c\x5f\x64\141\164\x61"][$k]["\164\x79\x70\x65"] = "\143\141\x69\144\141\156"; goto yHLRr; DXwTS: WZY_V: goto v0OC_; PnKP6: if (!isset($this->mem_path[$v["\x74\171\x70\x65"]])) { goto WZY_V; } goto w1B7_; v0OC_: iDJDK: goto i0XGp; rvO1p: $list["\x61\x6c\154\137\144\x61\164\141"][$k]["\146\154\x61\x67"] = $v["\164\x79\x70\145"]; goto DXwTS; yHLRr: $list["\x61\x6c\154\x5f\x64\141\x74\x61"][$k]["\x70\x61\x74\150\137\165\x72\154"] = $this->mem_path[$v["\164\171\160\145"]]; goto rvO1p; i0XGp: } goto xeiCY; tjVUY: return json_encode($rs); goto X6ZrD; Q43XU: $list = json_decode($info, true); goto UrbVH; J2ztC: return $str; goto fpxJ5; Z57I2: $rs["\155\x73\x67"] = $result; goto tjVUY; YqNBT: if (empty($result)) { goto sUdk1; } goto YcOys; b05Nd: $result = $this->checkParam($rule, $data); goto YqNBT; wHfox: $index = new IndexService(); goto g_E4D; WwN1D: $rule = [["\155\143\150\137\x69\x64", "\x72\x65\x71\x75\x69\x72\x65", "\350\257\xa5\xe5\225\206\346\x88\xb7\xe4\xb8\215\345\255\230\xe5\234\250\x2c\350\257\267\351\207\x8d\346\226\xb0\346\240\xb8\xe5\257\xb9\345\260\217\xe7\250\213\345\272\217\351\205\x8d\xe7\275\xae"]]; goto b05Nd; UrbVH: if (empty($list["\160\141\147\x65"])) { goto HF3B5; } goto bsJ8T; ykXxT: $app_id = Request::instance()->param("\151"); goto f0x4Q; AsSQo: } private $mem_path = array("\x66\145\156\170\x69\141\157" => "\57\x79\x62\137\x73\x68\x6f\160\x2f\x70\x61\x67\x65\163\x2f\146\145\x6e\x78\x69\141\x6f\x2f\160\141\x67\145\163\x2f\151\x6e\x64\x65\170\57\x69\x6e\144\145\x78\77\164\151\164\154\x65\75\xe5\x88\206\351\x94\x80\344\xb8\255\xe5\277\x83", "\x66\x6f\x6c\x6c\157\167" => "\x2f\x79\142\137\x73\150\x6f\x70\57\x70\141\147\145\x73\x2f\155\x65\x6d\142\x65\162\x2f\146\141\166\157\x72\x69\x74\145\x2f\151\156\x64\145\x78", "\x6f\x72\144\x65\x72" => "\57\171\x62\x5f\x73\150\x6f\x70\x2f\x70\x61\147\145\x73\x2f\157\162\x64\x65\x72\57\x69\x6e\144\145\x78", "\x63\157\x75\x70\x6f\156" => "\x2f\x79\x62\137\x73\x68\157\160\57\160\x61\x67\145\x73\57\x6d\x65\x6d\142\x65\x72\57\x63\157\165\160\x6f\x6e\57\151\156\x64\x65\170", "\142\157\x6f\x6b" => "\x2f\171\142\137\163\x68\x6f\160\57\x70\141\147\145\163\57\x61\160\160\157\x69\156\x74\155\145\156\164\57\151\156\144\x65\170", "\x6b\152\x6d" => "\57\171\x62\137\x73\150\x6f\x70\57\160\141\147\x65\163\57\153\x61\156\152\151\x61\x2f\155\x79\x5f\162\x65\x63\157\x72\144\x2f\x69\x6e\x64\145\170", "\x6b\152\157" => "\57\x79\x62\137\x73\x68\157\x70\57\160\141\x67\145\x73\57\153\141\156\x6a\151\141\x2f\157\162\x64\145\162\x2f\x69\156\144\x65\x78", "\x70\x74\x6d" => "\57\171\142\x5f\x73\150\x6f\x70\57\x70\x61\147\145\x73\x2f\160\151\x6e\164\x75\x61\x6e\57\160\141\x67\x65\x73\57\x67\162\x6f\x75\160\57\x69\156\x64\x65\170", "\x70\164\157" => "\x2f\x79\142\x5f\x73\x68\x6f\160\57\160\x61\147\145\163\x2f\160\x69\x6e\x74\165\141\156\x2f\x70\141\x67\145\163\x2f\x6f\x72\144\x65\162\x73\57\x69\156\x64\x65\x78", "\x61\x64\144\x72\145\163\x73" => "\57\171\142\137\x73\x68\157\160\57\x70\x61\147\145\x73\57\x6d\x65\155\x62\145\162\x2f\x61\144\x64\x72\145\x73\x73\x2f\151\x6e\144\x65\x78", "\141\142\x6f\x75\x74" => "\57\171\142\x5f\x73\x68\157\x70\57\x70\x61\x67\145\x73\57\x6d\x65\155\x62\145\x72\x2f\141\142\157\x75\x74\57\x69\x6e\x64\x65\x78", "\160\141\x79\143\x6f\156\164\x65\156\x74" => "\x2f\x79\x62\x5f\163\150\x6f\x70\57\x70\x61\147\x65\163\x2f\160\141\x79\143\157\x6e\164\145\156\164\57\155\171\x2f\151\156\144\x65\170", "\153\x65\x66\x75" => ''); }
