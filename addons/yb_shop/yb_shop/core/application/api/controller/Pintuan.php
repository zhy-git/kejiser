<?php
 namespace app\api\controller; require_once BASE_ROOT . "\x63\x6f\162\145\57\x61\x70\x70\154\151\143\141\x74\x69\157\x6e\57\141\x70\x69\x2f\143\x6f\156\164\x72\157\x6c\x6c\145\162\57\x42\x61\x73\x65\x43\157\x6e\164\x72\157\154\154\145\x72\x2e\x70\x68\160"; use think\Request; use think\Db; use think\Cache; use app\api\service\PintuanService; class Pintuan extends BaseController { public function ptIndex() { goto qnn5o; xvwHz: Cnufy: goto kgnVl; D7k3I: $rs["\151\156\x66\x6f"] = $info; goto BvqJl; J50cF: $data = ["\x6d\x63\x68\x5f\151\144" => $mch_id]; goto zk5Wk; Hbpke: return json_encode($rs); goto xvwHz; A5cLf: $mch_id = $this->getMchId($app_id); goto J50cF; EUVQb: $rs["\x63\157\x64\x65"] = 1; goto SFVuA; BvqJl: return json_encode($rs); goto lPqj7; Xpbu8: if (empty($result)) { goto Cnufy; } goto EUVQb; JdpW6: $app_id = Request::instance()->param("\x69"); goto A5cLf; qnn5o: $rs = array("\x63\x6f\x64\x65" => 0, "\151\156\x66\x6f" => array()); goto JdpW6; zk5Wk: $rule = [["\155\x63\x68\x5f\151\144", "\162\145\x71\x75\151\x72\x65", "\344\270\215\345\xad\x98\xe5\234\250\xe5\xba\x94\347\224\250"]]; goto HLax9; SFVuA: $rs["\155\163\147"] = $result; goto Hbpke; kgnVl: $bargain = new PintuanService(); goto TzO5F; TzO5F: $info = $bargain->get_ptIndex($data); goto D7k3I; HLax9: $result = $this->checkParam($rule, $data); goto Xpbu8; lPqj7: } public function ptGoodsList() { goto Btg_b; Q0JlW: ydC1V: goto S2mL5; VpSQA: $cate_id = Request::instance()->param("\x63\141\164\145\x5f\151\x64", 0); goto ecakc; rmJUy: return json_encode($rs); goto Q0JlW; Prl4_: $rs["\x63\x6f\144\145"] = 1; goto NXn1i; O1kQ3: $result = $this->checkParam($rule, $data); goto TobVn; vxB5J: $rule = [["\x6d\143\x68\x5f\x69\x64", "\162\145\x71\x75\x69\x72\x65", "\344\270\215\xe5\xad\x98\xe5\x9c\250\xe5\xba\x94\xe7\x94\xa8"]]; goto O1kQ3; S2mL5: if (!($cate_id != 0)) { goto YbrJa; } goto Kdpg5; Kdpg5: $data["\143\151\x64"] = $cate_id; goto Q1voJ; uENMU: $page = Request::instance()->param("\160\x61\x67\x65", 1); goto VpSQA; TobVn: if (empty($result)) { goto ydC1V; } goto Prl4_; Btg_b: $rs = array("\x63\157\x64\145" => 0, "\x69\156\146\x6f" => array()); goto idPS6; NXn1i: $rs["\155\x73\x67"] = $result; goto rmJUy; GwiGt: $info = $bargain->get_ptGoodsList($data, $page); goto YtF2z; Q1voJ: YbrJa: goto w1JAr; w1JAr: $bargain = new PintuanService(); goto GwiGt; ecakc: $data = ["\x6d\x63\150\137\151\144" => $mch_id]; goto vxB5J; cAgbJ: $mch_id = $this->getMchId($app_id); goto uENMU; YtF2z: $rs["\x69\x6e\x66\x6f"] = $info; goto v7edS; idPS6: $app_id = Request::instance()->param("\x69"); goto cAgbJ; v7edS: return json_encode($rs); goto s4Hzo; s4Hzo: } public function ptGoodsDetail() { goto H6vFn; vJDTG: $rs["\155\x73\x67"] = "\xe8\xaf\245\345\225\x86\345\223\x81\xe4\xb8\215\xe5\255\230\xe5\234\250\xe6\x88\226\xe5\267\262\350\242\253\xe5\x88\xa0\xe9\x99\244"; goto Ul4JM; nFkOm: $app_id = Request::instance()->param("\151"); goto xEaho; usAqR: $bargain = new PintuanService(); goto W3BPC; fk5iR: if (!empty($info)) { goto k3jcj; } goto mi3i3; Ul4JM: return json_encode($data); goto k7ivz; nwpxc: Vr_Hh: goto usAqR; k7ivz: k3jcj: goto O9Ubo; GO5Y2: return json_encode($rs); goto nwpxc; W3BPC: $info = $bargain->get_ptGoodsDetail($data); goto fk5iR; k_eZL: $rs["\155\163\147"] = $result; goto GO5Y2; O9Ubo: $rs["\151\156\x66\x6f"] = $info; goto kIjbS; H6vFn: $rs = array("\143\157\x64\x65" => 0, "\151\156\146\x6f" => array()); goto nFkOm; retjx: $result = $this->checkParam($rule, $data); goto UD4up; f1kLb: $rule = [["\x6d\x63\x68\x5f\151\x64", "\x72\x65\x71\165\151\162\145", "\xe4\270\215\xe5\255\230\345\234\xa8\345\272\224\347\x94\250"], ["\x75\x69\144", "\x72\x65\x71\x75\x69\162\145"], ["\x69\x64", "\162\x65\161\165\151\162\x65"]]; goto retjx; IdBBV: $rs["\x63\157\144\x65"] = 1; goto k_eZL; nqO05: $data = ["\x6d\x63\150\x5f\151\x64" => $mch_id, "\165\x69\144" => Request::instance()->param("\x75\x69\x64"), "\151\x64" => Request::instance()->param("\147\x69\144")]; goto f1kLb; xEaho: $mch_id = $this->getMchId($app_id); goto nqO05; mi3i3: $rs["\x63\157\144\x65"] = 1; goto vJDTG; UD4up: if (empty($result)) { goto Vr_Hh; } goto IdBBV; kIjbS: return json_encode($rs); goto L1TlF; L1TlF: } public function ptCreateOrder() { goto z4Ub0; KowCQ: spuPH: goto FgIs1; f7dFp: $mch_id = $this->getMchId($app_id); goto eE38a; Se5rM: Hw1XV: goto QtVrF; zvVqj: $app_id = Request::instance()->param("\151"); goto f7dFp; QpYdC: return json_encode($rs); goto JKCIk; z4Ub0: $rs = array("\x63\157\x64\145" => 0, "\151\156\x66\x6f" => array()); goto zvVqj; DW3sB: abj7T: goto EV4Kh; EV4Kh: $rs["\x63\x6f\x64\145"] = 1; goto VwUF6; rQWH1: $rs["\x69\x6e\146\157"] = $info["\x69\156\146\x6f"]; goto QpYdC; HwMbb: $rs["\155\x73\x67"] = $result; goto wzo78; AmZUP: $result = $this->checkParam($rule, $data); goto zMkrj; JKCIk: goto Hw1XV; goto DW3sB; VwUF6: $rs["\155\163\147"] = $info["\x6d\x73\x67"] ? $info["\155\163\147"] : "\344\270\x8b\345\215\x95\xe5\244\261\350\264\245"; goto waCga; zMkrj: if (empty($result)) { goto spuPH; } goto MlLmg; rtrQe: if ($info["\x65\x72\162\x5f\143\x6f\144\x65"] == 1) { goto abj7T; } goto rQWH1; MlLmg: $rs["\x63\157\144\x65"] = 1; goto HwMbb; eE38a: $data = ["\155\x63\150\x5f\x69\144" => $mch_id, "\165\151\144" => Request::instance()->param("\x75\x69\144"), "\x70\151\x64" => Request::instance()->param("\x70\151\x64"), "\x69\x73\107\162\x6f\165\160" => Request::instance()->param("\x69\163\x47\x72\157\165\160"), "\147\151\x64" => Request::instance()->param("\147\151\144"), "\x67\157\x6f\x64\163\116\x75\155" => Request::instance()->param("\147\x6f\x6f\144\x73\116\165\155"), "\x61\x64\144\162\145\163\x73" => Request::instance()->param("\141\x64\x64\162\145\163\x73"), "\x6c\151\x6d\151\x74\x54\x69\155\x65" => Request::instance()->param("\x6c\151\x6d\x69\x74\x54\x69\155\145", 0), "\164\157\x74\x61\x6c\x50\x72\151\x63\145" => Request::instance()->param("\164\x6f\164\141\154\x50\162\x69\x63\x65")]; goto P8TLw; P8TLw: $rule = [["\155\143\x68\x5f\151\x64", "\162\x65\x71\165\x69\x72\145", "\xe4\270\215\345\255\x98\xe5\234\xa8\345\xba\x94\xe7\224\250"], ["\165\151\x64", "\162\145\161\x75\151\x72\x65"], ["\160\x69\x64", "\x72\145\161\165\x69\x72\x65"], ["\x67\x69\144", "\x72\145\161\x75\151\162\145"], ["\x69\163\107\x72\157\165\160", "\162\x65\161\165\x69\162\x65"], ["\x67\x6f\x6f\x64\163\116\165\155", "\x72\x65\x71\165\151\162\x65"], ["\x61\x64\144\162\x65\x73\163", "\162\x65\x71\x75\x69\x72\145"], ["\154\x69\155\151\164\x54\x69\x6d\145", "\162\145\161\165\151\162\145"], ["\164\x6f\164\x61\154\120\x72\151\143\x65", "\x72\145\x71\165\x69\162\145"]]; goto AmZUP; gEBm0: $info = $bargain->get_ptCreateOrder($data); goto rtrQe; waCga: return json_encode($rs); goto Se5rM; FgIs1: $data["\x6f\x72\144\x65\x72\x4e\165\155"] = $this->createOutTradeNo(); goto gBcc_; wzo78: return json_encode($rs); goto KowCQ; gBcc_: $bargain = new PintuanService(); goto gEBm0; QtVrF: } public function ptOrderList() { goto ITqV4; muGp8: $status = Request::instance()->param("\163\164\141\x74\x75\x73", 0); goto Y2ZDG; Sd_kT: if ($status != 0) { goto vlLDP; } goto sBVda; f5b01: $result = $this->checkParam($rule, $data); goto lBIl6; Y2ZDG: $data = ["\155\143\x68\x5f\151\144" => $mch_id, "\x75\x69\144" => Request::instance()->param("\x75\x69\144")]; goto WWUa1; pBwo5: $page = Request::instance()->param("\160\x61\147\145", 1); goto muGp8; Z_1G2: $data["\x6f\x72\144\145\x72\x5f\163\x74\141\164\x75\x73"] = $status; goto eRMZG; CKYt4: $mch_id = $this->getMchId($app_id); goto pBwo5; Wevfd: OuR_z: goto Sd_kT; IuvNN: $app_id = Request::instance()->param("\x69"); goto CKYt4; vxE2t: $bargain = new PintuanService(); goto TbMCr; sBVda: $data["\x6f\162\144\x65\x72\x5f\x73\164\x61\x74\x75\163"] = ["\74\x3e", -1]; goto dj_u0; ITqV4: $rs = array("\143\157\x64\x65" => 0, "\151\156\146\157" => array()); goto IuvNN; lBIl6: if (empty($result)) { goto OuR_z; } goto MVKp2; oSp25: return json_encode($rs); goto Wevfd; XqlTh: $rs["\x6d\163\x67"] = $result; goto oSp25; WWUa1: $rule = [["\155\x63\150\137\x69\144", "\162\145\x71\165\151\x72\145", "\xe4\xb8\x8d\345\255\230\xe5\x9c\xa8\345\272\224\347\x94\250"], ["\x75\151\144", "\x72\x65\161\165\151\x72\145"]]; goto f5b01; TbMCr: $info = $bargain->get_ptOrderList($data, $page); goto UCIlA; I8iGy: vlLDP: goto Z_1G2; MVKp2: $rs["\x63\157\144\145"] = 1; goto XqlTh; eRMZG: mVBug: goto vxE2t; UCIlA: $rs["\151\x6e\146\x6f"] = $info; goto ZpLK9; ZpLK9: return json_encode($rs); goto oR2NU; dj_u0: goto mVBug; goto I8iGy; oR2NU: } public function ptOrderDetail() { goto PyV7j; RgzXH: mfCJO: goto T3U3V; Aj2hV: $info = $bargain->get_ptOrderDetail($data); goto Rk2X1; GToYQ: $rs["\x6d\163\147"] = $result; goto bH3aB; Rk2X1: if (!empty($info)) { goto mfCJO; } goto b4XkW; T3U3V: $rs["\x69\156\146\x6f"] = $info; goto Oi_lA; dUHop: $bargain = new PintuanService(); goto Aj2hV; o08xT: $rule = [["\155\143\x68\137\x69\144", "\x72\145\x71\x75\x69\x72\145", "\xe4\270\x8d\xe5\xad\230\345\x9c\xa8\345\xba\x94\347\x94\250"], ["\151\144", "\162\x65\161\x75\x69\162\145"]]; goto NGVGM; PyV7j: $rs = array("\143\x6f\144\x65" => 0, "\151\x6e\146\157" => array()); goto IIhnO; MHGGE: $mch_id = $this->getMchId($app_id); goto auBmz; OuY3E: $rs["\x63\x6f\144\145"] = 1; goto GToYQ; Oi_lA: return json_encode($rs); goto Y61C0; auBmz: $data = ["\x6d\x63\150\x5f\x69\x64" => $mch_id, "\151\144" => Request::instance()->param("\x69\144")]; goto o08xT; bH3aB: return json_encode($rs); goto TrWcN; TrWcN: bAByW: goto dUHop; IIhnO: $app_id = Request::instance()->param("\151"); goto MHGGE; NGVGM: $result = $this->checkParam($rule, $data); goto KePLj; KePLj: if (empty($result)) { goto bAByW; } goto OuY3E; FWaeo: $rs["\x6d\x73\147"] = "\350\xaf\245\350\xae\242\345\215\x95\344\xb8\x8d\xe5\xad\x98\345\x9c\250\346\x88\x96\xe5\xb7\262\xe8\xa2\253\xe5\210\xa0\351\231\244"; goto OeCbg; OeCbg: return json_encode($data); goto RgzXH; b4XkW: $rs["\143\157\x64\x65"] = 1; goto FWaeo; Y61C0: } public function ptGroupList() { goto eaBYm; hieu1: $app_id = Request::instance()->param("\x69"); goto xsUxi; xsUxi: $mch_id = $this->getMchId($app_id); goto f7plY; UcnhC: Bsy1l: goto clZzk; eaBYm: $rs = array("\x63\157\144\x65" => 0, "\151\x6e\x66\x6f" => array()); goto hieu1; UrY3E: $status = Request::instance()->param("\x73\x74\x61\x74\165\163", 0); goto vPNRU; rIE4y: $result = $this->checkParam($rule, $data); goto pL3OD; sy9vJ: return json_encode($rs); goto UcnhC; MQdF4: $rs["\155\x73\147"] = $result; goto sy9vJ; f7plY: $page = Request::instance()->param("\x70\x61\147\145", 1); goto UrY3E; dD3gK: $rs["\143\x6f\x64\145"] = 1; goto MQdF4; clZzk: $bargain = new PintuanService(); goto tX2If; pL3OD: if (empty($result)) { goto Bsy1l; } goto dD3gK; ynVgv: return json_encode($rs); goto FSMLR; cDpFd: $rs["\151\156\x66\x6f"] = $info; goto ynVgv; dqOUZ: $rule = [["\x6d\x63\150\x5f\x69\x64", "\x72\x65\161\165\151\x72\x65", "\xe4\xb8\x8d\xe5\255\x98\xe5\234\250\xe5\272\x94\xe7\224\xa8"], ["\165\x69\144", "\x72\x65\x71\165\151\x72\x65"]]; goto rIE4y; vPNRU: $data = ["\155\x63\x68\137\x69\144" => $mch_id, "\x75\151\x64" => Request::instance()->param("\x75\151\144")]; goto dqOUZ; tX2If: $info = $bargain->get_ptGroupList($data, $page, $status); goto cDpFd; FSMLR: } public function ptGroupDetail() { goto WfF3Y; mSLfc: return json_encode($rs); goto JC0t1; fQqnl: $info = $bargain->get_ptGroupDetail($data, $uid); goto ZehTB; WfF3Y: $rs = array("\x63\157\x64\x65" => 0, "\151\156\x66\157" => array()); goto lg5bP; RSW12: return json_encode($data); goto qxds_; qxds_: FncLQ: goto samny; Dj1co: unset($data["\x75\x69\x64"]); goto wXSIY; JC0t1: eiZww: goto czN00; S20hq: return json_encode($rs); goto p5eoO; czN00: $uid = $data["\x75\151\144"]; goto Dj1co; wXSIY: $bargain = new PintuanService(); goto fQqnl; samny: $rs["\x69\x6e\146\x6f"] = $info; goto S20hq; Z_VIy: $rs["\143\157\x64\x65"] = 1; goto Bncoc; Fh5_X: $data = ["\x6d\x63\150\137\151\x64" => $mch_id, "\151\144" => Request::instance()->param("\151\144"), "\x75\x69\x64" => Request::instance()->param("\x75\x69\x64")]; goto KPGnU; cctmQ: $mch_id = $this->getMchId($app_id); goto Fh5_X; XNOgk: $result = $this->checkParam($rule, $data); goto kApKl; KPGnU: $rule = [["\155\143\150\x5f\x69\144", "\x72\145\x71\x75\x69\x72\x65", "\344\270\215\345\255\x98\xe5\234\250\xe5\xba\224\xe7\x94\250"], ["\x69\x64", "\x72\x65\161\x75\x69\162\145"], ["\x75\151\144", "\162\145\161\x75\x69\x72\145"]]; goto XNOgk; lg5bP: $app_id = Request::instance()->param("\151"); goto cctmQ; kApKl: if (empty($result)) { goto eiZww; } goto rIv1I; pDVoU: $rs["\x6d\163\147"] = $result; goto mSLfc; ZehTB: if (!empty($info)) { goto FncLQ; } goto Z_VIy; rIv1I: $rs["\143\x6f\144\x65"] = 1; goto pDVoU; Bncoc: $rs["\155\163\x67"] = "\xe8\xaf\245\xe6\213\274\345\x9b\xa2\344\xb8\215\345\xad\x98\xe5\234\xa8\xe6\210\226\xe5\267\262\350\xa2\xab\xe5\210\xa0\xe9\231\xa4"; goto RSW12; p5eoO: } public function SignOrder() { goto NPxDr; ju239: $rs["\x63\x6f\x64\x65"] = 1; goto SSejn; kDpYQ: return json_encode($rs); goto YlnkI; r3uq1: $result = $this->checkParam($rule, $data); goto N2QRG; NPxDr: $rs = array("\x63\157\x64\x65" => 0, "\x69\x6e\146\x6f" => array()); goto T410v; OBN0F: YNYzE: goto t91Ml; bLhCD: return json_encode($rs); goto OBN0F; FR5P3: $info = $order->signOrder($data); goto fkA6y; N2QRG: if (empty($result)) { goto YNYzE; } goto ju239; t91Ml: $order = new PintuanService(); goto FR5P3; T410v: $rule = [["\165\151\144", "\162\x65\161\165\151\x72\145"], ["\151\144", "\x72\x65\161\x75\x69\162\145"]]; goto LKYWG; SSejn: $rs["\x6d\163\x67"] = $result; goto bLhCD; fkA6y: $rs["\x69\156\x66\x6f"] = $info; goto kDpYQ; LKYWG: $data = ["\165\x69\144" => Request::instance()->param("\165\x69\x64"), "\x69\x64" => Request::instance()->param("\151\144"), "\x6f\x72\144\145\162\x5f\x73\x74\141\164\165\x73" => 4]; goto r3uq1; YlnkI: } public function RefundOrder() { goto tGt36; QtITx: $rule = [["\165\x69\144", "\162\x65\x71\x75\x69\x72\x65"], ["\151\144", "\162\x65\161\x75\151\162\x65"]]; goto NGffY; LjTar: $result = $this->checkParam($rule, $data); goto VNSLC; VNSLC: if (empty($result)) { goto SMQyh; } goto gYhkF; qcW3M: return json_encode($rs); goto Zg6wi; kIkYy: C3bj1: goto xPBke; Z7WNQ: if (!empty($info)) { goto C3bj1; } goto gmrA3; tGt36: $rs = array("\143\157\x64\x65" => 0, "\151\x6e\x66\157" => array()); goto QtITx; NGffY: $data = ["\x75\x69\144" => Request::instance()->param("\165\151\x64"), "\151\x64" => Request::instance()->param("\151\x64"), "\x6f\162\x64\145\x72\x5f\x73\164\141\164\165\163" => ["\x69\156", "\62\x2c\63\x2c\x34"]]; goto LjTar; gYhkF: $rs["\x63\x6f\144\x65"] = 1; goto fl_0c; zH3P8: $info = $order->refundOrder($data); goto Z7WNQ; Y3uUQ: return json_encode($rs); goto ugSS0; nymz0: $order = new PintuanService(); goto zH3P8; Zg6wi: SMQyh: goto nymz0; Zmca0: $rs["\155\163\147"] = "\350\256\xa2\xe5\215\225\xe9\x80\x80\346\xac\276\xe5\xa4\261\xe8\xb4\245"; goto Zz544; fl_0c: $rs["\x6d\x73\147"] = $result; goto qcW3M; gmrA3: $rs["\x63\157\144\x65"] = 1; goto Zmca0; Zz544: return json_encode($rs); goto kIkYy; xPBke: $rs["\151\156\x66\x6f"] = $info; goto Y3uUQ; ugSS0: } public function ptPay() { goto LxNhS; glNJ4: $app_id = Request::instance()->param("\x69"); goto DIZnD; DIZnD: $mch_id = $this->getMchId($app_id); goto qQM_2; JnLqV: return json_encode($rs); goto ki9kr; RVWFW: Q5dKG: goto m5o8z; Kzff0: $info = $pay->orderPay($data); goto r9RnA; Ab0IQ: $rs["\143\157\144\145"] = 1; goto TmSma; Mj7VW: $rs["\155\163\147"] = $result; goto JnLqV; AQn7s: $pay = new PintuanService(); goto Kzff0; qQM_2: $data = ["\x69\144" => Request::instance()->param("\x6f\x69\144"), "\157\160\x65\156\x69\144" => Request::instance()->param("\x6f\160\145\x6e\x69\x64"), "\x6d\143\150\x5f\x69\144" => $mch_id]; goto N4HRk; XdFF4: $rs["\x63\157\x64\145"] = 1; goto Mj7VW; wKKIQ: return json_encode($rs); goto l39wD; LxNhS: $rs = array("\x63\x6f\x64\x65" => 0, "\151\x6e\x66\157" => array()); goto glNJ4; u1ma0: unset($pay_info["\x73\151\147\156"]); goto Uk0bk; TmSma: $rs["\x6d\163\x67"] = $info["\x6d\x73\x67"]; goto WvVbM; ki9kr: GXFg9: goto AQn7s; B3BT5: xj72N: goto Bw0km; D5snP: if (empty($result)) { goto GXFg9; } goto XdFF4; mvDKZ: $result = $this->checkParam($rule, $data); goto D5snP; WvVbM: return json_encode($rs); goto RVWFW; r9RnA: if (!($info["\x63\157\144\x65"] == 1)) { goto Q5dKG; } goto Ab0IQ; m5o8z: $pay_info = array(); goto osXyK; Bw0km: $pay_info["\160\141\171\x53\151\147\x6e"] = $pay_info["\163\x69\x67\x6e"]; goto u1ma0; N4HRk: $rule = [["\151\x64", "\x72\x65\x71\x75\151\162\x65"], ["\157\160\145\156\x69\x64", "\x72\x65\x71\165\x69\162\x65"], ["\155\x63\150\x5f\151\x64", "\x72\145\x71\x75\151\162\x65", "\xe4\xb8\x8d\345\xad\230\345\x9c\xa8\xe5\272\x94\xe7\x94\xa8"]]; goto mvDKZ; Uk0bk: $rs["\151\x6e\x66\157"] = $pay_info; goto wKKIQ; osXyK: foreach ($this->objectArray($info["\151\x6e\x66\x6f"]) as $value) { $pay_info = $value; GWlLr: } goto B3BT5; l39wD: } }
