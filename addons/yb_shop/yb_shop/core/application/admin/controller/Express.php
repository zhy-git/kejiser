<?php
 namespace app\admin\controller; use app\admin\service\Area; use think\Db; class Express extends Base { public function express_list() { goto rQXVa; SUI9N: $expressCompany = new \app\admin\service\Express(); goto TFP9t; wKm4Z: $condition["\x63\157\155\160\141\x6e\171\x5f\x6e\141\155\145"] = array("\154\151\153\x65", "\x25{$search_text}\45"); goto ZoDCn; TFP9t: $mch_id = isset($this->bus_id) ? $this->bus_id : "\x30"; goto ZLrGt; rQXVa: $search_text = request()->param("\163\145\141\x72\x63\150\137\164\145\x78\164", ''); goto SUI9N; qjByX: $this->assign("\163\145\x61\x72\x63\x68\137\164\145\x78\164", $search_text); goto JJOk1; ZLrGt: $condition["\x6d\143\x68\137\151\144"] = array("\x65\x71", $mch_id); goto wKm4Z; KzaJj: return view("\x65\170\x70\x72\x65\163\163\137\154\x69\x73\164"); goto db9bD; ZoDCn: $retval = $expressCompany->getExpressCompanyList($condition, '', "\x63\x72\x65\x61\164\145\x5f\164\x69\x6d\145"); goto T3T_5; JJOk1: $this->assign("\x72\x65\x74\166\141\154", $retval); goto Wch32; T3T_5: $page = $retval->render(); goto qjByX; Wch32: $this->assign("\x70\x61\147\145", $page); goto KzaJj; db9bD: } public function express_add() { goto oZ8RI; i0Tkz: return AjaxReturn($retval); goto DIXDv; Qt66B: return view("\145\170\x70\x72\145\163\x73\x2f\x65\x78\160\162\145\x73\163\x5f\141\x64\x64"); goto xjgp6; jUpfp: $express_no = request()->post("\x65\170\x70\x72\x65\x73\163\137\156\x6f", ''); goto uT0v9; Ii7in: $is_default = request()->post("\x69\163\x5f\x64\x65\146\141\165\154\x74", "\60"); goto lmN8J; DIXDv: gK8op: goto Qt66B; oZ8RI: $expressCompany = new \app\admin\service\Express(); goto JjTA_; lmN8J: $retval = $expressCompany->addExpressCompany($company_name, $express_logo, $express_no, $is_enabled, $phone, $is_default, $mch_id); goto i0Tkz; GZai1: $phone = request()->post("\x70\x68\x6f\156\145", ''); goto Ii7in; JjTA_: if (!request()->isAjax()) { goto gK8op; } goto KstQ7; UsKSu: $company_name = request()->post("\x63\157\155\x70\x61\156\x79\x5f\156\141\x6d\x65", ''); goto zvl6Q; zvl6Q: $express_logo = request()->post("\x65\x78\x70\162\x65\163\x73\137\x6c\x6f\x67\x6f", ''); goto jUpfp; uT0v9: $is_enabled = request()->post("\151\x73\x5f\x65\x6e\x61\x62\154\x65\144", ''); goto GZai1; KstQ7: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto UsKSu; xjgp6: } public function freightTemplateList() { goto APamN; Sjey1: $express_list_pagequery = $shippingfee_list->getShippingFeeList($condition, "\x2a", "\x69\163\137\144\145\x66\141\165\x6c\164\40\x64\145\163\x63\54\x63\162\145\x61\164\x65\x5f\164\151\x6d\145\x20\x64\145\x73\143"); goto xLAbW; APamN: $co_id = request()->get("\143\157\137\151\x64", 0); goto D19vT; U3foh: return view("\145\170\160\162\x65\x73\x73\57\145\170\x70\162\145\163\x73\x5f\146\145\145"); goto ufHZL; M_qiL: $this->assign("\x65\x78\160\162\x65\163\x73\x5f\x6c\x69\x73\164\x5f\x70\x61\147\x65\161\x75\145\162\x79", $express_list_pagequery); goto U3foh; RXfDp: uGz9b: goto Yb1jU; D19vT: if (!($co_id > 0)) { goto uGz9b; } goto LmwkG; LmwkG: $condition["\x63\157\137\x69\144"] = $co_id; goto RXfDp; xLAbW: $this->assign("\143\157\x5f\x69\144", $co_id); goto M_qiL; Yb1jU: $shippingfee_list = new \app\admin\service\Express(); goto Sjey1; ufHZL: } public function expressDelete() { goto YzAtq; YzAtq: if (!request()->isAjax()) { goto HfsxH; } goto z0X3W; z0X3W: $expressCompany = new \app\admin\service\Express(); goto YUhdb; mMGLI: HfsxH: goto M7Yxh; ujXp4: $retval = $expressCompany->expressCompanyDelete($co_id); goto a6OOa; a6OOa: return AjaxReturn($retval); goto mMGLI; YUhdb: $co_id = request()->post("\143\157\137\151\144", ''); goto ujXp4; M7Yxh: } public function express_edit() { goto kL1zc; Pdga5: $is_default = request()->post("\x69\163\137\144\x65\146\x61\165\x6c\164", "\60"); goto KAdit; knavY: return AjaxReturn($retval); goto Okkkc; ZYezz: $express_logo = request()->post("\x65\170\x70\x72\145\163\163\x5f\x6c\x6f\147\x6f", ''); goto yA9Tw; kL1zc: $expressCompany = new \app\admin\service\Express(); goto BRyJl; BRyJl: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto UA3dZ; P0ilj: $this->assign("\145\170\x70\162\x65\x73\x73\103\x6f\x6d\x70\141\156\171", $expressCompanyinfo); goto ReQCe; WqJyi: $co_id = request()->post("\143\157\x5f\x69\x64", ''); goto OF7yj; ziYHq: $expressCompanyinfo = $expressCompany->expressCompanyDetail($co_id); goto P0ilj; OF7yj: $company_name = request()->post("\x63\157\x6d\160\x61\156\171\137\x6e\x61\x6d\x65", ''); goto ZYezz; ReQCe: return view("\145\170\x70\x72\145\163\x73\x2f\x65\x78\160\x72\145\163\163\x5f\145\x64\x69\x74"); goto vQIIk; UA3dZ: if (!request()->isAjax()) { goto nFMLi; } goto WqJyi; yA9Tw: $express_no = request()->post("\145\170\x70\x72\x65\163\x73\137\x6e\157", ''); goto KYFbT; KAdit: $retval = $expressCompany->updateExpressCompany($co_id, $company_name, $express_logo, $express_no, $is_enabled, $phone, $is_default, $mch_id); goto knavY; S22iQ: $phone = request()->post("\160\x68\x6f\156\x65", ''); goto Pdga5; KYFbT: $is_enabled = request()->post("\x69\x73\137\145\x6e\x61\142\x6c\145\x64", ''); goto S22iQ; NZfn1: $co_id = request()->get("\143\157\137\x69\x64", ''); goto ziYHq; Okkkc: nFMLi: goto NZfn1; vQIIk: } public function freightTemplateEdit() { goto h6eWs; Fsm7y: $district_id_array = $json_data["\x64\x69\x73\164\x72\151\x63\164\137\x69\144\137\141\x72\x72\x61\171"]; goto JVvv5; DnyS7: U8Pf4: goto OW_vg; YSnmh: $is_default = $express->isHasExpressCompanyDefaultTemplate($co_id); goto oJRHR; PcrFE: if (!$shipping_fee_detail["\151\x73\137\x64\x65\146\141\x75\x6c\164"]) { goto LI11Y; } goto dmslD; jvCFZ: LI11Y: goto HZIhz; o8pJU: $weight_xprice = $json_data["\x77\x65\x69\x67\150\164\137\x78\160\x72\x69\143\145"]; goto vEjqK; Gw9yQ: $shipping_fee_id = $json_data["\163\x68\151\160\160\x69\156\147\137\146\x65\145\137\151\144"]; goto GXr4F; THfzr: $this->assign("\x61\x64\144\x72\145\163\x73\137\154\x69\x73\x74", $address_list); goto pL5_w; pL5_w: return view("\145\170\160\x72\x65\163\x73\x2f\145\170\160\162\145\x73\x73\137\146\x65\145\137\141\144\144"); goto qioVe; oJRHR: if (!$shipping_fee_id) { goto jFRz5; } goto tvxQo; k14U1: $weight_xnum = $json_data["\x77\145\x69\x67\x68\164\137\170\x6e\165\155"]; goto o8pJU; HZIhz: $current_province_id_array = $shipping_fee_detail["\x70\162\157\x76\x69\156\143\x65\137\151\144\x5f\141\x72\x72\141\171"]; goto sycq1; sycq1: $this->assign("\x73\x68\151\160\160\x69\x6e\x67\x5f\146\145\145\137\x64\x65\164\x61\151\x6c", $shipping_fee_detail); goto NNmnl; qioVe: goto tuC6i; goto yIiha; yXKtv: $weight_snum = $json_data["\167\x65\151\147\x68\164\x5f\x73\156\165\x6d"]; goto XdCTx; vEjqK: $volume_is_use = $json_data["\166\x6f\x6c\x75\155\x65\137\151\163\x5f\165\163\x65"]; goto eQUfM; yIiha: hgML9: goto LR5QI; GXr4F: $co_id = $json_data["\x63\x6f\x5f\151\x64"]; goto LyrGo; k8fqX: $address = new Area(); goto fFrr4; sqgnu: $data = request()->post("\x64\x61\164\x61", ''); goto JfiJb; Ho4Ph: $co_id = request()->get("\x63\157\x5f\x69\x64", 0); goto JOPTk; fR3K0: $bynum_snum = $json_data["\x62\x79\156\x75\x6d\x5f\163\156\x75\155"]; goto pdxSq; O53po: $shipping_fee_name = $json_data["\163\150\151\160\160\x69\x6e\x67\137\x66\x65\x65\137\156\x61\x6d\x65"]; goto pl51h; ZDmW6: $retval = $express->addShippingFee($co_id, $is_default, $shipping_fee_name, $province_id_array, $city_id_array, $district_id_array, $weight_is_use, $weight_snum, $weight_sprice, $weight_xnum, $weight_xprice, $volume_is_use, $volume_snum, $volume_sprice, $volume_xnum, $volume_xprice, $bynum_is_use, $bynum_snum, $bynum_sprice, $bynum_xnum, $bynum_xprice); goto Id2UT; eQUfM: $volume_snum = $json_data["\166\x6f\154\x75\x6d\x65\x5f\x73\156\165\155"]; goto SIysb; xhn8L: $bynum_xprice = $json_data["\142\171\x6e\x75\x6d\137\x78\x70\x72\151\x63\x65"]; goto EBK_Z; wL8HO: $this->assign("\x73\x68\151\x70\160\151\156\147\x5f\x66\x65\x65\137\151\x64", $shipping_fee_id); goto z92Wb; n6tIJ: $volume_xnum = $json_data["\166\157\154\165\x6d\x65\137\x78\156\165\x6d"]; goto KDOzZ; Hls7Z: $this->assign("\x69\163\137\x64\x65\146\x61\165\154\164", $is_default); goto vgtUa; fFrr4: if (request()->isAjax()) { goto hgML9; } goto Ho4Ph; pdxSq: $bynum_sprice = $json_data["\142\x79\x6e\165\x6d\137\163\x70\x72\x69\143\145"]; goto Y0HE7; h6eWs: $express = new \app\admin\service\Express(); goto k8fqX; k4gSp: tuC6i: goto ZXxCn; JfiJb: $json_data = json_decode($data, true); goto Gw9yQ; fCql8: $address_list = $address->getProvince($existing_address_list); goto THfzr; EBK_Z: if ($shipping_fee_id) { goto HYQtX; } goto ZDmW6; OW_vg: return AjaxReturn($retval); goto k4gSp; JOPTk: $shipping_fee_id = request()->get("\x73\150\x69\x70\160\x69\x6e\147\x5f\x66\145\145\x5f\151\x64", 0); goto cFHWc; a1lq1: $bynum_is_use = $json_data["\142\x79\x6e\165\x6d\x5f\x69\163\137\165\163\x65"]; goto fR3K0; L63lZ: HYQtX: goto CGrMT; JVvv5: $weight_is_use = $json_data["\167\x65\151\147\x68\164\x5f\x69\163\x5f\165\x73\145"]; goto yXKtv; z92Wb: $current_province_id_array = ''; goto YSnmh; SIysb: $volume_sprice = $json_data["\166\x6f\154\x75\155\145\x5f\x73\160\162\151\x63\x65"]; goto n6tIJ; NNmnl: jFRz5: goto Hls7Z; Y0HE7: $bynum_xnum = $json_data["\142\171\x6e\x75\155\x5f\170\x6e\x75\x6d"]; goto xhn8L; vgtUa: $existing_address_list = $express->getExpressCompanyProvincesAndCitiesById($co_id, $current_province_id_array); goto fCql8; KDOzZ: $volume_xprice = $json_data["\166\157\154\165\x6d\145\137\170\160\162\151\x63\x65"]; goto a1lq1; tvxQo: $shipping_fee_detail = $express->shippingFeeDetail($shipping_fee_id); goto PcrFE; Id2UT: goto U8Pf4; goto L63lZ; LR5QI: $retval = -1; goto sqgnu; z1Gsf: $city_id_array = $json_data["\x63\151\164\171\137\151\x64\x5f\x61\162\162\x61\x79"]; goto Fsm7y; cFHWc: $this->assign("\143\x6f\x5f\x69\x64", $co_id); goto wL8HO; dmslD: $is_default = $shipping_fee_detail["\x69\163\x5f\144\145\146\141\x75\x6c\x74"]; goto jvCFZ; CGrMT: $retval = $express->updateShippingFee($shipping_fee_id, $is_default, $shipping_fee_name, $province_id_array, $city_id_array, $district_id_array, $weight_is_use, $weight_snum, $weight_sprice, $weight_xnum, $weight_xprice, $volume_is_use, $volume_snum, $volume_sprice, $volume_xnum, $volume_xprice, $bynum_is_use, $bynum_snum, $bynum_sprice, $bynum_xnum, $bynum_xprice); goto DnyS7; XdCTx: $weight_sprice = $json_data["\x77\145\x69\x67\x68\x74\x5f\x73\160\x72\x69\143\145"]; goto k14U1; pl51h: $province_id_array = $json_data["\x70\162\157\166\x69\x6e\x63\x65\137\x69\144\137\141\x72\162\141\171"]; goto z1Gsf; LyrGo: $is_default = $json_data["\151\163\x5f\x64\x65\146\x61\165\x6c\x74"]; goto O53po; ZXxCn: } public function freightTemplateDelete() { goto uVSZa; A2P_1: return AjaxReturn($retval); goto p0l4m; uVSZa: $shipping_fee_id = request()->post("\163\x68\x69\x70\x70\151\x6e\x67\x5f\x66\145\145\137\x69\144", ''); goto zA3fq; zA3fq: $express = new \app\admin\service\Express(); goto VFrUF; VFrUF: $retval = $express->shippingFeeDelete($shipping_fee_id); goto A2P_1; p0l4m: } }
