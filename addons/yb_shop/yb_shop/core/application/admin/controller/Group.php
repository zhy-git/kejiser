<?php
 namespace app\admin\controller; use think\Db; use think\Request; require EXTEND_PATH . "\x57\170\x70\141\x79\57\x57\170\120\x61\x79\56\x41\x70\151\x2e\x70\150\x70"; class Group extends Base { public function index() { return view(); } public function type() { goto Ljx7P; voBfg: $search = "\x25" . $soname . "\45"; goto JTTw_; WP3ic: $list = Db::name("\x79\x62\163\x63\x5f\160\x74\x5f\143\141\164\145\x67\x6f\x72\x79")->where("\x6d\143\x68\137\151\144", $this->bus_id)->order("\x73\x6f\x72\x74\40\x61\163\143")->paginate(15, false, $config = ["\x71\x75\x65\x72\171" => ["\x73" => $url]]); goto xr4Fq; Pg82R: return view(); goto cVuED; a32xh: $url = explode("\x3d\57", $url); goto PZnsP; JTTw_: $list = Db::name("\x79\x62\163\x63\137\x70\164\137\x63\x61\164\145\x67\x6f\162\x79")->where("\156\x61\155\145", "\x6c\151\153\145", $search)->where("\155\143\x68\x5f\151\x64", $this->bus_id)->order("\x73\157\162\x74\x20\141\x73\x63")->paginate(15, false, $config = ["\x71\165\145\162\x79" => ["\x73" => $url, "\163\157\156\x61\x6d\145" => $soname]]); goto M1p_M; N9kfN: $url = "\x2f" . $url[0]; goto hbI5X; hbI5X: $soname = request()->param("\x73\x6f\156\x61\155\x65"); goto nEh2c; YZyqs: CPF2K: goto voBfg; DGO4g: $this->assign("\154\151\x73\164", $list); goto uFCpT; nEh2c: if ($soname != '' && !empty($soname)) { goto CPF2K; } goto WP3ic; PZnsP: $url = explode("\46", $url[1]); goto N9kfN; Ljx7P: $url = request()->query(); goto a32xh; xr4Fq: goto GSTZy; goto YZyqs; M1p_M: GSTZy: goto DGO4g; uFCpT: $this->assign("\x73\x6f\x6e\x61\x6d\145", $soname); goto Pg82R; cVuED: } public function type_add() { goto tn2O7; Q0ZAL: om4Dx: goto IVvw_; lTlwU: $data = request()->post(); goto lcrBV; XnxvO: return AjaxReturn(0); goto FDNMn; FDNMn: goto om4Dx; goto b2rzA; IYIVH: if ($result !== false) { goto RLYFb; } goto XnxvO; tn2O7: if (!(request()->isAjax() && request()->isPost())) { goto rDdR5; } goto lTlwU; b2rzA: RLYFb: goto AQGva; IVvw_: rDdR5: goto z08Yf; lcrBV: $data["\x6d\x63\150\137\151\144"] = $this->bus_id; goto rhc4h; AQGva: return AjaxReturn(1); goto Q0ZAL; rhc4h: $result = Db::name("\171\142\x73\143\x5f\x70\x74\x5f\143\x61\164\145\147\157\x72\x79")->insert($data); goto IYIVH; z08Yf: return view(); goto yuqFK; yuqFK: } public function type_edit() { goto jUVSo; jUVSo: if (!(request()->isAjax() && request()->isPost())) { goto FEnkv; } goto QicRc; QicRc: $data = request()->post(); goto boYYD; DWNrG: Y3p8c: goto srBCm; lIZAG: if (!($id != '' && !empty($id))) { goto jaqEk; } goto uvpdK; boYYD: $result = Db::name("\x79\142\x73\143\137\x70\164\x5f\x63\141\164\x65\147\157\x72\171")->where("\151\144", $data["\151\144"])->where("\x6d\143\x68\x5f\x69\144", $this->bus_id)->update($data); goto FM8Vu; srBCm: FEnkv: goto pInaX; pInaX: $id = request()->get("\151\144"); goto lIZAG; zi8_X: P6f3p: goto rFN08; gxt2v: goto Y3p8c; goto zi8_X; rFN08: return AjaxReturn(1); goto DWNrG; DwZmd: return view(); goto aFf9a; HKvFe: return AjaxReturn(0); goto gxt2v; uvpdK: $list = Db::name("\x79\x62\163\x63\137\x70\x74\137\143\141\x74\x65\x67\157\x72\171")->where("\x69\144", $id)->where("\x6d\x63\x68\x5f\151\x64", $this->bus_id)->find(); goto rd5GG; rd5GG: $this->assign("\154\x69\163\164", $list); goto DwZmd; FM8Vu: if ($result !== false) { goto P6f3p; } goto HKvFe; aFf9a: jaqEk: goto f7pNs; f7pNs: } public function type_del() { goto IMe1q; IMe1q: $id = input("\x70\x61\162\x61\x6d\x2e\151\144"); goto o3Dyp; o3Dyp: $res = Db::name("\171\x62\163\x63\x5f\160\164\137\143\x61\164\145\x67\157\162\x79")->where("\151\144", $id)->delete(); goto zSB7r; zSB7r: return AjaxReturn($res); goto nHi_g; nHi_g: } public function group_list() { goto D3gPQ; aRfJp: $this->assign("\x6c\151\163\x74", $list); goto WVhI2; mPSFq: empty($data["\x67\162\x6f\165\160\x5f\x6e\x61\155\145"]) || ($where["\156\x61\155\145"] = ["\x6c\x69\x6b\x65", "\45" . $data["\x67\162\157\x75\160\137\x6e\141\x6d\x65"] . "\x25"]); goto wMCOa; D3gPQ: $url = request()->query(); goto faJ_I; WVhI2: $this->assign("\147\162\157\165\x70\137\156\141\x6d\145", $data["\x67\162\x6f\165\160\137\156\141\x6d\145"]); goto qiLss; q0mp3: $url = "\x2f" . $url[0]; goto MAnts; hTRr5: $url = explode("\46", $url[1]); goto q0mp3; wMCOa: $data["\147\x72\157\165\x70\137\156\141\155\x65"] = empty($data["\147\x72\x6f\x75\x70\x5f\156\141\x6d\145"]) ? '' : $data["\147\x72\157\x75\160\137\156\x61\155\x65"]; goto e8V0s; faJ_I: $url = explode("\75\x2f", $url); goto hTRr5; mm10E: $where = []; goto mPSFq; e8V0s: $list = Db::name("\x79\142\x73\x63\137\x70\164\x5f\x67\157\x6f\x64\x73")->where("\155\x63\150\137\151\x64", $this->bus_id)->where($where)->order("\151\144\x20\x64\145\x73\x63")->paginate(15, false, $config = ["\x71\165\x65\162\x79" => ["\x73" => $url, "\x67\162\157\165\x70\x5f\x6e\x61\x6d\x65" => $data["\x67\x72\x6f\165\x70\x5f\156\x61\155\x65"]]]); goto aRfJp; qiLss: return view(); goto Id85x; MAnts: $data = Request::instance()->param(); goto mm10E; Id85x: } public function group_add() { goto qnEkH; cmJf0: return AjaxReturn($res); goto j8EHg; tA1OF: $data["\151\156\144\145\170\111\x6d\147"] = $array_img[0]["\x69\144"]; goto oyJH1; OiMHy: $data["\156\141\x6d\x65"] = input("\x70\141\x72\141\x6d\56\x67\162\157\165\x70\137\156\141\x6d\145"); goto YoQE2; hnJFj: $data["\142\x72\151\x65\x66"] = input("\x70\x61\162\141\x6d\56\x62\162\151\145\146"); goto xnXTm; qnEkH: if (!request()->isAjax()) { goto QYk9R; } goto OiMHy; lhyQj: $data["\x70\162\x69\x63\145"] = input("\160\x61\162\x61\x6d\56\x70\162\151\x63\x65"); goto mkhxr; YoQE2: $data["\151\155\x67"] = input("\x70\141\162\x61\x6d\56\x69\155\x67"); goto yfMIO; SFWXr: $group_type = Db::name("\171\x62\163\143\137\160\x74\137\x63\141\164\x65\147\x6f\x72\171")->where("\155\x63\150\137\x69\x64", $this->bus_id)->select(); goto pZ2_I; N2mWf: $data["\x6d\x63\150\x5f\151\x64"] = $this->bus_id; goto n3ofC; mkhxr: $data["\147\162\x6f\165\x70\116\x75\x6d"] = input("\160\x61\162\x61\155\56\x67\162\157\165\x70\x5f\156\x75\155"); goto DaAEa; Qqalw: LsWw0: goto tzv8m; wu7ZU: foreach ($array_img as $k => $v) { $arr_str_img .= $v["\151\x64"] . "\54"; P15dY: } goto Qqalw; ReMXo: $data["\151\x6e\164\162\x6f"] = input("\x70\141\162\141\x6d\56\x64\x65\x74\141\x69\x6c\163"); goto IxikH; pZ2_I: $this->assign("\147\x72\157\x75\160\x5f\x74\x79\160\x65", $group_type); goto lz5Sk; cbShD: $array_img = json_decode(input("\x70\x61\x72\141\155\56\x69\x6d\147\137\141\x72\162", ''), true); goto tA1OF; n3ofC: $data["\163\x61\x6c\145\x4e\165\155"] = input("\160\141\162\141\155\x2e\163\141\x6c\x65\163"); goto hnJFj; DaAEa: $data["\154\x69\x6d\151\164\x54\151\x6d\145"] = input("\160\x61\162\x61\155\56\x67\x72\157\x75\x70\x5f\164\x69\155\x65"); goto VUaNd; RtWHT: $res = Db::name("\x79\142\x73\x63\137\160\x74\x5f\147\157\157\x64\x73")->insert($data); goto cmJf0; VUaNd: $data["\163\x74\x6f\143\x6b"] = input("\160\141\162\141\x6d\56\163\164\x6f\143\153"); goto N2mWf; IxikH: $data["\147\160\x72\151\143\145"] = input("\160\x61\162\141\155\56\147\x72\x6f\x75\x70\137\x6d\x6f\x6e\x65\171"); goto lhyQj; yfMIO: $data["\143\x69\144"] = input("\160\x61\162\x61\155\x2e\x74\171\x70\145"); goto ReMXo; xnXTm: $data["\x75\x6e\151\x74"] = input("\x70\x61\162\x61\155\56\165\x6e\x69\x74"); goto cbShD; tzv8m: $arr_str_img = substr($arr_str_img, 0, strlen($arr_str_img) - 1); goto hltpO; lz5Sk: return view(); goto DVXoO; hltpO: $data["\141\154\x62\165\155"] = $arr_str_img; goto RtWHT; j8EHg: QYk9R: goto SFWXr; oyJH1: $arr_str_img = ''; goto wu7ZU; DVXoO: } public function group_edit() { goto S1JlL; kl221: $arr[$a]["\165\162\x6c"] = $img_url["\151\155\147\x5f\x63\x6f\166\x65\162"]; goto YqQUK; S2I4S: $this->assign("\147\162\x6f\165\x70\137\x74\171\x70\145", $group_type); goto S2HUr; TX3O8: k6nqQ: goto DOA28; S4onC: FWHEk: goto uz13p; dzW9u: $data["\x75\156\151\x74"] = input("\x70\x61\x72\x61\x6d\56\x75\156\151\x74"); goto ZZAmJ; kecI2: $data["\147\x72\157\165\x70\116\165\155"] = input("\x70\x61\x72\x61\x6d\56\x67\162\x6f\165\160\x5f\156\x75\x6d"); goto GInWa; AN9_2: $data["\x69\156\144\145\x78\111\x6d\147"] = $array_img[0]["\151\x64"]; goto TfPbv; waE_A: R8WOZ: goto LvG4x; F8WBH: return AjaxReturn(0); goto K5yU2; Jkxl6: $data["\163\141\154\145\116\x75\x6d"] = input("\x70\x61\162\141\x6d\x2e\163\141\x6c\x65\163"); goto PbTXx; PbTXx: $data["\x62\x72\151\145\146"] = input("\x70\x61\162\x61\x6d\x2e\142\x72\151\145\146"); goto dzW9u; OnZ2d: $a++; goto xKyXM; tWUCw: foreach ($array_img as $k => $v) { $arr_str_img .= $v["\x69\x64"] . "\x2c"; cHYHQ: } goto CNt8t; Yuszk: $img_url = Db::name("\x79\142\163\143\x5f\x69\x6d\x61\147\x65\x73")->where("\151\x6d\147\x5f\x69\x64", $img_id[$a])->find(); goto UUAAV; ABrVE: $data["\141\x6c\142\165\x6d"] = $arr_str_img; goto wedyH; S1JlL: if (!request()->isAjax()) { goto mbfxL; } goto myp8s; Kue0M: $data["\151\155\x67"] = input("\160\x61\x72\x61\x6d\56\x69\x6d\x67"); goto z3FxW; INSwu: $data["\x69\156\x74\x72\157"] = input("\x70\x61\x72\x61\155\x2e\144\x65\x74\x61\151\154\x73"); goto scc3A; zmLYg: $data["\x6d\x63\150\x5f\x69\x64"] = $this->bus_id; goto Jkxl6; h6lwE: $a = 0; goto S4onC; z3FxW: $data["\143\x69\144"] = input("\160\141\162\x61\x6d\56\164\171\x70\x65"); goto INSwu; nGD1G: $group_type = Db::name("\x79\x62\163\143\x5f\x70\x74\x5f\143\x61\164\x65\147\x6f\x72\x79")->where("\x6d\x63\x68\137\x69\x64", $this->bus_id)->select(); goto S2I4S; LvG4x: $list["\x61\162\162\141\x79\137\151\x6d\147"] = json_encode($arr); goto iiLSI; TvrAe: $data["\x70\162\151\x63\x65"] = input("\160\x61\162\141\155\56\160\162\151\x63\145"); goto kecI2; c3kSg: $arr_str_img = substr($arr_str_img, 0, strlen($arr_str_img) - 1); goto ABrVE; VgcGN: BMbza: goto xm0RD; TfPbv: $arr_str_img = ''; goto tWUCw; myp8s: $id = input("\x70\x61\162\141\x6d\x2e\x69\144"); goto ngTIi; CvLsO: $list = Db::name("\x79\x62\x73\x63\137\x70\x74\137\x67\157\157\x64\x73")->where("\x69\x64", $id)->find(); goto QJP6S; K5yU2: goto k6nqQ; goto VgcGN; ZZAmJ: $array_img = json_decode(input("\x70\x61\x72\141\x6d\x2e\x69\x6d\x67\x5f\141\162\162", ''), true); goto AN9_2; QJP6S: $img_id = explode("\54", $list["\x61\154\x62\x75\x6d"]); goto rxs0Q; S2HUr: return view(); goto afLWF; ngTIi: $data["\x6e\141\155\x65"] = input("\x70\x61\162\x61\155\x2e\x67\162\157\x75\160\x5f\x6e\x61\x6d\x65"); goto Kue0M; xKyXM: goto FWHEk; goto waE_A; UUAAV: $arr[$a]["\x69\x64"] = $img_id[$a]; goto kl221; GInWa: $data["\x6c\x69\x6d\151\164\124\x69\x6d\145"] = input("\x70\141\x72\141\155\56\x67\162\x6f\x75\x70\x5f\164\151\155\x65"); goto eQ5kF; DOA28: mbfxL: goto doRTh; rxs0Q: $arr = []; goto h6lwE; CNt8t: DzZF0: goto c3kSg; wedyH: $res = Db::name("\x79\142\163\143\x5f\x70\x74\x5f\147\157\157\144\x73")->where("\x69\144", $id)->update($data); goto Q5yx7; uz13p: if (!($a < count($img_id))) { goto R8WOZ; } goto Yuszk; YqQUK: F1zh0: goto OnZ2d; doRTh: $id = input("\x70\141\162\x61\x6d\56\151\x64", ''); goto CvLsO; xm0RD: return AjaxReturn(1); goto TX3O8; iiLSI: $this->assign("\x6c\x69\163\164", $list); goto nGD1G; Q5yx7: if ($res !== false) { goto BMbza; } goto F8WBH; scc3A: $data["\x67\160\162\151\x63\145"] = input("\x70\x61\162\x61\x6d\56\147\x72\157\165\x70\137\155\157\x6e\145\171"); goto TvrAe; eQ5kF: $data["\x73\164\157\143\153"] = input("\x70\x61\x72\x61\x6d\x2e\x73\x74\157\143\153"); goto zmLYg; afLWF: } public function group_status() { goto v10it; G6pZ7: $res = Db::name("\x79\x62\x73\x63\x5f\x70\164\x5f\x67\x6f\157\x64\163")->where("\151\x64", $id)->update(["\x69\163\x53\150\x6f\x77" => 1]); goto GYjbS; GYjbS: goto K8Mnl; goto c3xUr; v10it: $id = input("\x70\x61\162\x61\155\56\x69\x64"); goto EfOJJ; c3xUr: HKsWR: goto zyQEL; zyQEL: $res = Db::name("\171\x62\163\143\137\x70\164\x5f\147\157\157\144\163")->where("\x69\144", $id)->update(["\x69\x73\x53\150\157\167" => 2]); goto W_Wjv; EfOJJ: $key = input("\x70\x61\162\141\x6d\x2e\x6b\x65\171"); goto GDpn9; MSwqO: return AjaxReturn($res); goto K5E0_; W_Wjv: K8Mnl: goto MSwqO; GDpn9: if ($key == "\x6f\146\x66") { goto HKsWR; } goto G6pZ7; K5E0_: } public function group_carousel() { goto oerv2; tsdMM: $this->assign("\x70\x61\147\145", $page); goto HwML6; HwML6: return view(); goto oZY2e; Qpkav: $this->assign("\x6c\151\163\164", $list); goto tsdMM; f1jil: $list = Db::name("\171\142\x73\x63\137\x70\x74\137\141\x64\x76\x65\x72\164")->where("\155\143\150\137\151\144", $this->bus_id)->order("\163\x6f\x72\x74")->paginate(15, false, $config = ["\x71\165\145\162\x79" => ["\x73" => $url]]); goto jo3Y_; RvPm_: $url = "\x2f" . $url[0]; goto f1jil; H3Pkv: $url = explode("\75\x2f", $url); goto qOMFZ; oerv2: $url = request()->query(); goto H3Pkv; qOMFZ: $url = explode("\46", $url[1]); goto RvPm_; jo3Y_: $page = $list->render(); goto Qpkav; oZY2e: } public function group_carousel_sort() { goto zpLTJ; r5lBg: return AjaxReturn($res); goto PRPVH; aykEg: $val = input("\x70\141\x72\x61\155\x2e\x76\141\x6c"); goto x77Th; x77Th: $res = Db::name("\171\142\163\143\x5f\x70\x74\x5f\141\x64\x76\x65\162\164")->where("\151\144", $id)->update(["\163\x6f\x72\x74" => $val]); goto r5lBg; zpLTJ: $id = input("\x70\x61\x72\x61\x6d\x2e\151\144"); goto aykEg; PRPVH: } public function group_class_use() { goto jMuHb; rt3Ws: if ($key == "\157\x6e") { goto tayY0; } goto HwKI1; SJDD0: $res = Db::name("\171\142\x73\143\x5f\x70\x74\137\141\x64\166\145\162\x74")->where("\151\144", $id)->update(["\145\x6e\141\x62\154\145\144" => 1]); goto Cuz8m; SRlxE: rGu1e: goto YpZGp; YpZGp: return AjaxReturn($res); goto A0yId; Cuz8m: exSiL: goto uHtyp; i6_Kz: Fz9ir: goto vMc15; qcKyl: $key = input("\160\141\162\x61\155\x2e\x6b\x65\171"); goto aP8WC; iBUF4: goto exSiL; goto rg74h; aP8WC: if ($key == "\x6f\x66\x66") { goto Fz9ir; } goto rt3Ws; HwKI1: $res = Db::name("\171\142\163\x63\x5f\160\164\137\141\x64\166\x65\162\164")->where("\x69\x64", $id)->delete(); goto iBUF4; rg74h: tayY0: goto SJDD0; jMuHb: $id = input("\x70\x61\x72\141\x6d\x2e\151\144"); goto qcKyl; uHtyp: goto rGu1e; goto i6_Kz; vMc15: $res = Db::name("\x79\x62\x73\143\137\x70\164\x5f\141\144\166\x65\x72\x74")->where("\151\x64", $id)->update(["\x65\156\141\x62\x6c\145\x64" => 2]); goto SRlxE; A0yId: } public function group_carousel_add() { goto ivKpO; yBFhs: $data["\155\x63\x68\137\x69\144"] = $this->bus_id; goto WjW7W; WjW7W: $res = Db::name("\x79\142\163\x63\x5f\x70\x74\x5f\x61\144\166\x65\x72\x74")->insert($data); goto KA7Sn; jHzPo: $data["\x69\x6d\x67"] = input("\x70\x61\x72\x61\x6d\x2e\x6c\157\147\x6f", ''); goto RPi7N; RPi7N: $data["\x73\x6f\162\x74"] = input("\x70\141\162\141\x6d\x2e\163\x6f\x72\164", ''); goto yBFhs; ivKpO: if (!request()->isAjax()) { goto wupmR; } goto c03NN; c03NN: $data = []; goto jHzPo; xljxU: wupmR: goto i3eX8; KA7Sn: return AjaxReturn($res); goto xljxU; i3eX8: return view(); goto ZWV70; ZWV70: } public function group_carousel_edit() { goto kyGuA; FFWjA: return AjaxReturn($res); goto BRTEX; C7O1f: $id = input("\160\141\162\141\155\x2e\x69\144"); goto qkjsH; EWSdx: $data["\163\x6f\x72\x74"] = input("\160\x61\x72\x61\155\56\x73\x6f\162\x74", ''); goto glDN5; qkjsH: $info = Db::name("\171\x62\x73\x63\137\160\164\x5f\x61\144\166\145\162\164")->where("\151\144", $id)->find(); goto dAasi; GqTaU: $res = Db::name("\171\142\x73\143\137\160\164\x5f\141\144\x76\145\162\164")->where("\151\144", $id)->update($data); goto FFWjA; dAasi: $this->assign("\151\156\146\x6f", $info); goto SNPid; glDN5: $data["\x6d\x63\150\137\151\x64"] = $this->bus_id; goto GqTaU; BRTEX: SH927: goto C7O1f; Jw8yD: $id = input("\x70\x61\162\x61\155\56\151\x64"); goto sc_Y_; sc_Y_: $data["\151\x6d\147"] = input("\160\141\162\x61\155\56\x6c\x6f\147\157", ''); goto EWSdx; qSucA: $data = []; goto Jw8yD; SNPid: return view(); goto HhHNd; kyGuA: if (!request()->isAjax()) { goto SH927; } goto qSucA; HhHNd: } public function group_order() { goto NxB8a; R8NcW: $status = Request::instance()->param("\x73\x74\x61\x74\x75\x73", -2); goto mLFpW; amOr4: goto xTSwT; goto ZQYpn; zN18k: BeNFf: goto ClJCG; zhxfR: $this->assign("\162\x65\146\x75\x6e\144\x5f\164\x79\x70\x65", 0); goto O83t_; cQTsy: $this->assign("\162\145\146\x75\x6e\144\137\164\x79\160\x65", 1); goto amOr4; z5VwI: global $_W; goto oJprt; zOHGU: $page = $list->render(); goto z5VwI; SdeL9: return view(); goto CZZTX; ZQYpn: QPCyn: goto zhxfR; lJ3Ms: $refund_setting = $setting["\160\x61\x79\x6d\145\x6e\164"]["\167\x65\143\150\141\x74\x5f\162\145\146\x75\x6e\x64"]; goto ccpOX; ju4tG: $where = []; goto qPwY8; iA7sx: $list = Db::name("\x79\x62\x73\x63\x5f\160\164\137\157\162\x64\145\x72\x73")->alias("\x6f")->join("\171\142\163\x63\137\160\164\137\147\157\157\x64\163\x20\147", "\157\56\147\151\x64\x3d\147\x2e\x69\x64")->where("\157\x2e\155\143\x68\x5f\151\x64", $this->bus_id)->field("\157\56\x2a\54\x67\x2e\156\x61\155\x65\54\147\56\151\x6d\147")->order("\x6f\56\x63\x72\145\x61\x74\x65\x54\151\155\145\40\x64\145\163\x63")->where($where)->paginate(15, false, $config = ["\x71\165\145\x72\171" => ["\x73" => $url]]); goto zOHGU; O83t_: xTSwT: goto yzGxG; NxB8a: $url = request()->query(); goto NAbyp; vAiwg: $url = explode("\46", $url[1]); goto S5_IJ; qPwY8: empty($data["\x6f\x72\144\145\x72\137\x6e\x75\x6d"]) || ($where["\x6f\x2e\x6f\162\x64\145\x72\116\x75\x6d"] = ["\x6c\151\x6b\x65", "\x25" . $data["\x6f\x72\144\145\x72\x5f\x6e\165\155"] . "\x25"]); goto Pvkwr; ClJCG: $data["\x6f\x72\x64\145\162\x5f\x6e\x75\x6d"] = empty($data["\x6f\x72\144\x65\x72\137\156\x75\155"]) ? '' : $data["\157\x72\x64\145\x72\137\156\165\155"]; goto iA7sx; NAbyp: $url = explode("\x3d\57", $url); goto vAiwg; oJprt: $setting = uni_setting_load("\x70\141\171\x6d\145\156\164", $_W["\x75\x6e\x69\x61\x63\151\144"]); goto lJ3Ms; yzGxG: $this->assign("\x6f\x72\144\x65\162\x5f\156\x75\155", $data["\x6f\162\144\145\162\137\156\x75\x6d"]); goto Osj0J; S5_IJ: $url = "\x2f" . $url[0]; goto R8NcW; nXjto: $where["\157\x2e\157\162\x64\145\x72\x5f\163\x74\x61\164\165\x73"] = $status; goto zN18k; ccpOX: if ($refund_setting["\x73\167\x69\x74\143\150"] != 1 || empty($refund_setting["\153\x65\171"]) || empty($refund_setting["\x63\x65\162\x74"])) { goto QPCyn; } goto cQTsy; HTc2c: $data = Request::instance()->param(); goto ju4tG; Osj0J: $this->assign("\154\151\163\164", $list); goto sTmrz; sTmrz: $this->assign("\160\141\147\145", $page); goto SdeL9; mLFpW: $this->assign("\x73\x74\141\x74\165\x73", $status); goto HTc2c; Pvkwr: if (!($status != -2)) { goto BeNFf; } goto nXjto; CZZTX: } public function OrderDetail() { goto VCiVk; VCiVk: $id = input("\x70\141\x72\x61\x6d\56\x6f\x72\x64\145\x72\137\x69\x64"); goto GsHo3; GsHo3: $list = Db::name("\171\142\x73\x63\x5f\160\164\137\157\x72\144\145\x72\x73")->alias("\157")->join("\171\142\163\143\x5f\160\164\x5f\x67\157\157\144\163\x20\x67", "\x6f\56\x67\151\144\x3d\x67\56\x69\x64")->where("\157\56\x6d\143\150\x5f\x69\144", $this->bus_id)->where("\157\56\151\144", $id)->field("\x6f\x2e\x2a\x2c\147\x2e\x6e\141\155\145\x2c\x67\x2e\151\155\147")->find(); goto v4Icr; v4Icr: $this->assign("\151\156\x66\x6f", $list); goto CilNU; CilNU: return view("\147\162\157\165\160\x2f\147\162\157\165\x70\x5f\x6f\162\144\145\x72\137\x69\156\x66\x6f"); goto wfMgK; wfMgK: } public function collage() { goto ZHYMf; Z9CXg: $url = "\x2f" . $url[0]; goto B_t4I; yUpOu: $page = $list->render(); goto PXBVN; x7Xcz: empty($data["\x67\x6f\x6f\x64\x73\x5f\x6e\141\x6d\x65"]) || ($where["\x67\x2e\156\x61\155\145"] = ["\x6c\x69\153\145", "\45" . $data["\x67\x6f\x6f\144\163\137\x6e\x61\155\145"] . "\x25"]); goto UdKVK; RMC4o: $list = Db::name("\x79\x62\163\x63\137\160\x74\137\157\x72\x64\145\x72\163")->alias("\x6f")->join("\171\142\163\x63\x5f\160\164\x5f\x67\x6f\x6f\144\x73\40\147", "\x6f\56\x67\151\144\x3d\147\56\151\144")->where("\x6f\56\155\x63\150\x5f\151\x64", $this->bus_id)->where("\x6f\56\160\151\144\75\60")->where("\x6f\56\151\163\x47\x72\x6f\165\x70\x3d\61")->field("\x6f\56\52\54\147\56\x6e\141\x6d\x65\54\147\56\151\155\x67")->order("\x6f\x2e\x63\x72\145\141\164\145\x54\x69\x6d\145\x20\x64\145\x73\x63")->where($where)->paginate(15, false, $config = ["\x71\x75\x65\162\x79" => ["\163" => $url]]); goto yUpOu; Nc1NH: $where = []; goto x7Xcz; B_t4I: $data = Request::instance()->param(); goto Nc1NH; Oto68: return view(); goto Do1eE; PXBVN: $this->assign("\154\x69\x73\164", $list); goto e4dNr; UdKVK: $data["\147\x6f\157\x64\163\137\156\x61\x6d\145"] = empty($data["\x67\x6f\x6f\144\x73\x5f\156\141\x6d\x65"]) ? '' : $data["\x67\x6f\157\144\163\x5f\x6e\x61\x6d\145"]; goto RMC4o; ZHYMf: $url = request()->query(); goto TeSlJ; gmUrn: $this->assign("\147\x6f\157\144\163\x5f\156\141\x6d\x65", $data["\147\x6f\x6f\x64\163\137\x6e\x61\155\x65"]); goto Oto68; hVxY3: $url = explode("\46", $url[1]); goto Z9CXg; TeSlJ: $url = explode("\x3d\57", $url); goto hVxY3; e4dNr: $this->assign("\160\x61\x67\x65", $page); goto gmUrn; Do1eE: } public function group_user_list() { goto FPVPo; bLvkL: $this->assign("\x69\x6e\146\157", $list); goto HFIdr; nFwA6: $list = Db::name("\x79\142\x73\143\x5f\160\x74\137\157\x72\x64\x65\162\x73")->alias("\157")->join("\171\142\163\143\137\x70\x74\137\x67\157\x6f\x64\x73\40\x67", "\157\56\147\x69\x64\x3d\x67\x2e\151\x64")->where("\x6f\56\155\143\x68\x5f\x69\144", $this->bus_id)->where("\x6f\x2e\151\144\x7c\x6f\56\160\x69\x64", $id)->field("\x6f\x2e\x2a\54\x67\x2e\x6e\141\155\x65\54\147\56\x69\x6d\x67")->select(); goto bLvkL; HFIdr: return view("\147\162\x6f\165\x70\57\143\x6f\x6c\154\x61\x67\x65\x5f\154\x69\x73\x74"); goto B3g39; FPVPo: $id = input("\x70\141\162\x61\155\x2e\x69\x64"); goto nFwA6; B3g39: } public function deleteOrder() { goto GDTu4; Stf8g: return AjaxReturn($res); goto Ds7AP; GDTu4: if (!request()->isAjax()) { goto pORP0; } goto QIX5y; QIX5y: $id = request()->post("\x69\x64", ''); goto Ep2k3; Ds7AP: pORP0: goto Nia84; Ep2k3: $res = Db::name("\x79\142\163\x63\137\x70\164\137\157\162\144\x65\x72\163")->where(["\151\x64" => $id, "\157\x72\144\145\162\x5f\x73\x74\x61\x74\165\x73" => -1])->delete(); goto Stf8g; Nia84: } public function group_order_send() { goto bHJKb; bHJKb: $id = input("\160\141\x72\x61\x6d\x2e\x69\x64"); goto mAu_d; mAu_d: $res = Db::name("\x79\142\x73\143\137\x70\164\137\157\x72\144\x65\x72\163")->where("\x69\144", $id)->update(["\157\162\x64\x65\162\x5f\x73\x74\141\x74\165\163" => 4]); goto qNGlf; qNGlf: return AjaxReturn($res); goto azxgM; azxgM: } public function orderTakeRefund() { goto rKrNF; qYf6b: $refund_setting = $setting["\x70\x61\x79\155\145\x6e\x74"]["\167\145\143\x68\141\x74\137\x72\145\146\x75\x6e\x64"]; goto RQsLn; RQsLn: if ($refund_setting["\x73\x77\x69\x74\x63\150"] != 1 || empty($refund_setting["\153\x65\x79"]) || empty($refund_setting["\143\x65\x72\x74"])) { goto TsruG; } goto LqOfS; YfRQp: $input->SetTotal_fee($order_info["\x74\157\164\141\154\120\162\151\143\x65"] * 100); goto ZScnW; ZScnW: $input->SetRefund_fee($order_info["\x74\x6f\164\141\x6c\x50\162\x69\143\145"] * 100); goto jh7XK; u6UOU: VozBk: goto UyGjg; qHGlE: JAvs1: goto AWOQa; GsLzw: $temp = json_decode($bus_config["\166\141\x6c\x75\145"], true); goto ZbV74; Bge5l: return AjaxReturn($order_info); goto qHGlE; AeARi: $input->SetOut_trade_no($order_info["\157\x72\x64\x65\x72\116\x75\x6d"]); goto YfRQp; SOiVA: $cert_path = ATTACHMENT_ROOT . "\x70\x75\x62\154\151\143\x2f" . $this->bus_id . "\137\167\x65\143\150\x61\164\x5f\162\x65\146\165\156\x64\137\143\145\162\164\x2e\160\x65\x6d"; goto ztPN2; jh7XK: $input->SetOut_refund_no($res); goto SLHKX; fQMvv: $key = $key; goto SOiVA; fS9vy: $setting = uni_setting_load("\160\x61\171\155\145\156\x74", $_W["\x75\156\x69\141\143\x69\144"]); goto qYf6b; FE0aG: $bus_config = Db::name("\171\x62\163\143\137\143\157\x6e\146\x69\147")->where("\155\143\x68\137\151\x64", $this->bus_id)->where("\153\x65\x79", "\127\x58\x50\x41\131")->find(); goto GsLzw; zsbr8: $errmsg = empty($param["\145\x72\x72\137\x63\x6f\144\145\x5f\144\x65\x73"]) ? "\xe9\200\x80\xe6\254\xbe\345\xa4\xb1\350\264\245" : $param["\145\x72\162\x5f\x63\157\x64\145\x5f\144\145\x73"]; goto sAOIK; R49Aw: $key = authcode($refund_setting["\x6b\x65\x79"], "\104\x45\103\x4f\104\105"); goto LxBHh; rKrNF: $order_id = request()->post("\x69\144", ''); goto ruFek; ZbV74: $res = $temp["\101\x50\120\137\115\103\x48\111\104"] . date("\x59\155\x64\x48\x69\163") . rand(10000, 9999999); goto Co3H0; LqOfS: $cert = authcode($refund_setting["\x63\x65\162\164"], "\104\105\x43\117\x44\x45"); goto R49Aw; IS5hw: goto JAvs1; goto u6UOU; qIJ5o: TsruG: goto owc02; BKfga: J7AWh: goto qTqam; SLHKX: $input->SetOp_user_id($temp["\x41\x50\x50\x5f\x4d\x43\110\111\104"]); goto zNi1n; owc02: $res = Db::name("\171\142\x73\143\x5f\160\164\137\x6f\162\144\145\x72\x73")->where("\x69\x64", $order_id)->update(["\157\x72\144\x65\162\x5f\x73\164\x61\x74\165\x73" => 7, "\x72\x65\x66\165\156\x64\x5f\x74\x69\155\x65" => time()]); goto MGIIW; Um0VM: $cert = $cert; goto fQMvv; zNi1n: $input->SetAppid($temp["\x41\x50\120\137\x49\x44"]); goto Um0VM; sAOIK: return AjaxReturnMsg(0, $errmsg); goto IS5hw; UyGjg: $order_info = Db::name("\x79\142\x73\x63\137\x70\x74\137\x6f\x72\x64\145\162\163")->where("\x69\x64", $order_id)->update(["\157\x72\144\x65\162\137\x73\x74\x61\164\x75\x73" => 7, "\x72\145\x66\165\156\x64\x5f\164\x69\155\145" => time()]); goto Bge5l; ztPN2: $key_path = ATTACHMENT_ROOT . "\x70\165\142\154\x69\x63\57" . $this->bus_id . "\x5f\x77\145\x63\x68\x61\x74\137\162\x65\146\x75\156\x64\137\x6b\x65\x79\56\x70\145\x6d"; goto viVGc; SapLT: if ($param["\162\x65\x73\165\154\x74\x5f\143\x6f\x64\145"] == "\123\x55\103\x43\x45\123\x53") { goto VozBk; } goto zsbr8; AWOQa: goto J7AWh; goto qIJ5o; ruFek: global $_W; goto fS9vy; MGIIW: return AjaxReturn($res); goto BKfga; Co3H0: $input = new \WxPayRefund(); goto AeARi; LxBHh: $order_info = Db::name("\x79\x62\163\x63\137\x70\x74\137\157\x72\x64\x65\x72\163")->where("\x69\x64", $order_id)->find(); goto FE0aG; viVGc: file_put_contents($cert_path, $cert); goto Sseec; Sseec: file_put_contents($key_path, $key); goto n0GNB; n0GNB: $param = \WxPayApi::refund($input); goto SapLT; qTqam: } }
