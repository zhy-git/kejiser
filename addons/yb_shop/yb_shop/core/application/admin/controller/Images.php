<?php
 namespace app\admin\controller; use think\Db; class Images extends Base { public function image_list() { goto yumPX; yumPX: $album = new \app\admin\service\Images(); goto Xm6PT; Fonzn: $condition["\x67\162\x6f\x75\x70\137\x6e\x61\x6d\x65"] = ["\154\x69\153\x65", "\45" . $search_text . "\45"]; goto eSBiO; jlUHT: $this->assign("\x70\141\x67\145", $page); goto ro3w1; LxpLp: return view("\151\x6d\141\147\145\x73\x5f\154\151\x73\x74"); goto sUw_C; rxjKm: $retval = $album->getAlbumClassList($condition, '', "\x73\157\x72\x74"); goto f2YEO; Xm6PT: $search_text = input("\x70\x61\x72\141\x6d\x2e\163\145\141\162\x63\150\137\164\145\170\164"); goto Fonzn; eSBiO: $condition["\x6d\143\x68\x5f\x69\144"] = array("\145\161", $this->bus_id); goto rxjKm; f2YEO: $page = $retval->render(); goto r8xvd; ro3w1: $this->assign("\x73\145\141\162\x63\150\137\164\145\170\x74", $search_text); goto LxpLp; r8xvd: $this->assign("\162\x65\164\166\141\x6c", $retval); goto jlUHT; sUw_C: } public function images_add() { goto fcd9m; MID5c: return AjaxReturn($retval); goto h7Sqq; CRgEx: $images_sort = request()->post("\x69\155\x61\147\x65\163\137\163\x6f\x72\164", 0); goto WaTFo; WaTFo: $album = new \app\admin\service\Images(); goto a0rI5; XH8ND: lMrLm: goto VxPV5; VxPV5: $images_name = request()->post("\x69\x6d\141\x67\145\163\137\156\x61\155\x65", ''); goto CRgEx; fcd9m: if (request()->isAjax()) { goto lMrLm; } goto blhWt; h7Sqq: VI7n1: goto l8533; blhWt: return view("\151\x6d\x61\x67\x65\163\137\141\144\144"); goto m53y9; m53y9: goto VI7n1; goto XH8ND; a0rI5: $retval = $album->addAlbumClass($images_name, $images_sort, 0, '', 0, $this->bus_id); goto MID5c; l8533: } public function images_edit() { goto pW1eZ; yj7fn: $this->assign("\x6c\151\163\164", $list); goto Ag3VV; Ag3VV: $this->assign("\160\x61\x67\x65", $page); goto vRw7z; pW1eZ: $group_id = input("\x70\x61\x72\141\x6d\56\x73\145\x61\x72\x63\x68\137\164\145\x78\164", 0); goto bowWb; GVbVj: return view("\151\155\141\147\145\163\57\151\x6d\x61\147\x65\x73\137\x73\x68\157\167"); goto wGzB6; hPlol: $list = $album->getPictureList($condition, $group_id, "\x75\x70\154\x6f\141\x64\137\x74\x69\x6d\145\x20\144\x65\x73\x63"); goto LWYlf; vRw7z: $this->assign("\x67\162\157\x75\x70\137\151\144", $group_id); goto GVbVj; LWYlf: $page = $list->render(); goto yj7fn; bowWb: $condition = array("\147\162\157\165\x70\x5f\x69\x64" => $group_id); goto AweDG; AweDG: $album = new \app\admin\service\Images(); goto hPlol; wGzB6: } public function dialogAlbumList() { goto n9X0e; CghVk: $this->assign("\165\160\x6c\x6f\141\x64\x5f\164\171\160\145", $upload_type); goto QTtfA; yVbj6: $spec_id = request()->get("\163\x70\145\x63\137\151\144", 0); goto WGhps; rdBd1: $this->assign("\144\145\x66\x61\165\154\x74\137\x61\154\x62\x75\155\137\x69\x64", $default_album_detail["\147\x72\x6f\x75\160\x5f\151\x64"] ? $default_album_detail["\x67\x72\x6f\165\160\137\151\144"] : 0); goto gAKHK; eBkJP: $condition["\155\x63\x68\137\151\x64"] = array("\x65\x71", $this->bus_id); goto mspg8; yJIsZ: $this->assign("\164\150\x69\163\137\151\x64", $this_id); goto A2Aiz; Ncho0: $this_id = request()->get("\x74\x68\151\163\137\x69\144", 0); goto sxYlX; WGhps: $spec_value_id = request()->get("\x73\160\145\x63\137\166\x61\x6c\165\x65\137\x69\144", 0); goto vzct2; A2Aiz: $this->assign("\x63\x6f\x6d", $com); goto Iw3Fm; D_kWD: $this->assign("\x74\171\x70\145", $type); goto YTRbU; vzct2: $upload_type = request()->get("\x75\160\154\x6f\141\x64\137\x74\171\x70\x65", 1); goto FDK1p; FDK1p: $type = request()->get("\x74\x79\160\145", ''); goto Ncho0; YTRbU: $this->assign("\156\x75\x6d\142\x65\162", $number); goto yJIsZ; Iw3Fm: $this->assign("\x73\x70\x65\143\x5f\151\144", $spec_id); goto wt9c1; sxYlX: $com = request()->get("\x63\x6f\x6d", ''); goto D_kWD; wt9c1: $this->assign("\163\x70\x65\x63\x5f\166\x61\154\x75\145\x5f\x69\x64", $spec_value_id); goto CghVk; QTtfA: $album = new \app\admin\service\Images(); goto eBkJP; n9X0e: $number = request()->get("\x6e\165\x6d\142\145\162", 1); goto yVbj6; mspg8: $default_album_detail = $album->getDefaultAlbumDetail(); goto rdBd1; gAKHK: return view("\151\x6d\x61\147\x65\x73\x2f\151\155\141\x67\x65\163\137\x73\x65\154\145\x63\x74"); goto N9yJ4; N9yJ4: } public function getAlbumClassALL() { goto mml_n; mml_n: $condition["\x6d\x63\150\x5f\151\x64"] = array("\145\161", $this->bus_id); goto IQgPE; LisQG: return $retval; goto fbrZI; IQgPE: $album = new \app\admin\service\Images(); goto msYK8; msYK8: $retval = $album->getAlbumClassAll($condition); goto LisQG; fbrZI: } public function albumPictureList() { goto tFmSj; Xg1K9: $condition["\147\x72\x6f\165\160\x5f\x69\144"] = array("\x65\x71", $album_id); goto TPgy0; TPgy0: $album = new \app\admin\service\Images(); goto Xv65G; kJDN2: return $list; goto uc2zV; tFmSj: $album_id = request()->post("\x67\162\157\x75\160\x5f\x69\144", 0); goto hKcNZ; hKcNZ: $condition = array(); goto Xg1K9; Xv65G: $list = $album->getImgList($condition, '', "\x75\x70\154\157\x61\x64\x5f\x74\x69\x6d\x65\40\144\x65\x73\143"); goto kJDN2; uc2zV: } public function deletePicture() { goto rCtGC; QMT88: return AjaxReturn($retval); goto G7FOq; rCtGC: $pic_id_array = request()->post("\x69\155\x67\x5f\151\x64\x5f\141\x72\x72\x61\x79", ''); goto APp1P; APp1P: $album = new \app\admin\service\Images(); goto tXNxj; tXNxj: $retval = $album->deletePicture($pic_id_array); goto QMT88; G7FOq: } public function imagesDel() { goto JEFvZ; qNZta: $img_id = input("\160\141\162\141\155\x2e\151\x6d\x67\137\151\x64", "\60"); goto LuMAR; JEFvZ: $img = new \app\admin\service\Images(); goto qNZta; LuMAR: $res = $img->deleteImgGroup($img_id); goto DB09l; DB09l: return AjaxReturn($res); goto SCo9j; SCo9j: } public function imagesBox() { goto HZkWy; HZkWy: $img = new \app\admin\service\Images(); goto hXLt0; hXLt0: $img_id = input("\160\141\x72\141\155\56\x69\x6d\x67\x5f\151\144"); goto Rjy5c; Rjy5c: $res = $img->updateImagesGroupBox($img_id); goto h_lRj; h_lRj: return AjaxReturn($res); goto cRd_Q; cRd_Q: } public function zhan_img_box() { goto iehOI; AB798: $this->assign("\160\x69\143\x5f\x69\144\137\x61\162\x72\141\171", $pic_id_array); goto GBqX9; A3PwV: $pic_id_array = input("\160\141\162\x61\x6d\56\160\x69\143\x5f\151\x64\137\x61\x72\x72\x61\171"); goto yrFsC; a579f: $this->assign("\147\162\x6f\x75\160", $group); goto Zs5Hm; YWMp7: P1nNL: goto ymU6U; Zs5Hm: return view(); goto D2Mkl; yrFsC: $res = Db::name("\x79\x62\x73\143\137\x69\155\x61\147\145\163")->where("\x69\x6d\x67\x5f\x69\x64", "\x69\x6e", $pic_id_array)->update(["\147\162\x6f\165\x70\x5f\151\x64" => $group_id]); goto Jp8N2; GBqX9: $group = Db::name("\171\x62\x73\143\137\x69\155\141\x67\145\163\137\x67\162\157\x75\160")->where("\155\x63\x68\137\x69\x64", $this->bus_id)->select(); goto a579f; iehOI: if (!request()->isAjax()) { goto P1nNL; } goto cDx76; cDx76: $group_id = input("\x70\x61\x72\x61\155\x2e\147\x72\157\x75\x70\137\x69\144"); goto A3PwV; ymU6U: $pic_id_array = request()->param("\x69\x6d\147\137\151\144\137\x61\x72\162\x61\x79", ''); goto AB798; Jp8N2: return AjaxReturn($res); goto YWMp7; D2Mkl: } public function silent() { goto nrqrB; nrqrB: if (!(request()->isAjax() && request()->isPost())) { goto TFz0a; } goto R_371; stWDG: return AjaxReturn(1); goto p_PAJ; TQBVG: goto dZJZV; goto qWgLG; Zn2m0: if ($result !== false) { goto blUm8; } goto FI18i; qWgLG: blUm8: goto stWDG; p_PAJ: dZJZV: goto FwOSC; R_371: $data = request()->post(); goto OPyo9; FwOSC: TFz0a: goto MLWes; OPyo9: $result = Db::name("\x79\142\x73\x63\x5f\x69\x6d\141\147\145\x73\x5f\147\162\157\165\160")->where("\x6d\x63\150\137\x69\x64", $this->bus_id)->where("\x67\x72\157\x75\x70\137\151\144", $data["\x69\144"])->update(["\147\x72\157\165\160\137\156\x61\x6d\145" => $data["\x6e\x61\x6d\x65"]]); goto Zn2m0; FI18i: return AjaxReturn(0); goto TQBVG; MLWes: } }
