<?php
 namespace app\admin\controller; use app\admin\service\ConfigService; use app\admin\service\GoodsCate; use app\admin\service\AdvertService; use think\Db; class Advert extends Base { public function index() { goto g3QB2; j1bUe: $this->assign("\123\x6c\151\x64\145\x48\145\151\147\150\164", $SlideHeight["\166\141\x6c\x75\145"]); goto alcTD; g3QB2: $advert = new AdvertService(); goto KqwRU; HCb9p: $list = $advert->getAdvert($condition, '', "\x73\157\x72\164\40\144\145\163\x63"); goto icCd5; Uz5yx: $this->assign("\x70\141\x67\145", $page); goto OCKrq; HW3vh: $condition["\x6d\157\144\x5f\x69\144"] = array("\x65\161", 1); goto HCb9p; OCKrq: $SlideHeight = db::name("\171\142\163\143\x5f\x63\157\x6e\x66\151\147")->where("\x6d\x63\150\x5f\x69\144", $this->bus_id)->where("\x6b\145\x79", "\x53\x4c\x49\104\x45\110\x45\111\107\110\124")->find(); goto j1bUe; alcTD: return view("\141\144\x76\145\x72\x74\x2f\141\144\166\145\x72\164\x5f\160\x6f\163\151\164\151\157\x6e\x5f\x6c\x69\163\x74"); goto pLxjx; icCd5: $page = $list->render(); goto lO0FX; lO0FX: $this->assign("\x6c\151\163\164", $list); goto Uz5yx; KqwRU: $condition["\155\x63\150\137\x69\144"] = array("\145\x71", $this->bus_id); goto HW3vh; pLxjx: } public function navigation() { goto qKL2S; evFJ_: $this->assign("\154\x69\163\x74", $list); goto I_CoH; yzrtH: $list = $advert->getAdvert($condition, '', "\x73\x6f\162\x74\x20\144\x65\163\143"); goto b7mR7; qKL2S: $advert = new AdvertService(); goto ao14v; ao14v: $condition["\155\x63\x68\137\x69\144"] = array("\x65\x71", $this->bus_id); goto a7lsX; b7mR7: $page = $list->render(); goto evFJ_; a7lsX: $condition["\155\x6f\144\x5f\x69\x64"] = array("\145\x71", 2); goto yzrtH; I_CoH: $this->assign("\160\x61\147\x65", $page); goto hbf3L; hbf3L: return view("\x61\144\166\145\162\164\x2f\x61\144\166\x65\162\x74\x5f\x70\x6f\x73\x69\164\x69\x6f\156\x5f\156\x61\166\151\x67\141\x74\151\157\156"); goto BMI0N; BMI0N: } public function advertising() { goto nnHoT; xknUs: $condition["\x6d\x63\x68\137\151\x64"] = array("\145\161", $this->bus_id); goto e_PVz; f5grG: $this->assign("\160\141\x67\145", $page); goto sF08T; NV2u7: $page = $list->render(); goto LSVpn; e_PVz: $list = $advert->getAdvertPosition($condition, '', "\x73\157\162\x74\40\x64\x65\x73\143"); goto FHFRG; FHFRG: foreach ($list as $k => $v) { goto W1eQw; C7Vvd: KP3uy: goto okLWd; anC0y: $list[$k]["\x61\x64\x76\137\151\155\x67"] = $adv_list; goto C7Vvd; W1eQw: $condition["\x61\x70\x5f\151\144"] = array("\75", $v["\x61\x70\x5f\x69\144"]); goto rBf7i; rBf7i: $adv_list = $advert->getAdvertPosImg($condition, '', "\163\157\x72\164\x20\x64\145\163\143"); goto anC0y; okLWd: } goto x2p1O; nnHoT: $advert = new AdvertService(); goto xknUs; LSVpn: $this->assign("\154\151\x73\x74", $list); goto f5grG; x2p1O: gFIQn: goto NV2u7; sF08T: return view("\141\x64\x76\x65\162\164\x2f\141\144\166\145\x72\164\x5f\160\x6f\163\x69\164\151\x6f\156\x5f\141\x64\x76\145\162\164\151\x73\x69\156\x67"); goto mi9Gn; mi9Gn: } public function add_height() { goto hRdFH; aqll5: $res = $config->addHeight($info, $this->bus_id); goto KbNbZ; hRdFH: $info = isset($_POST["\x69\x6e\x66\x6f"]) ? $_POST["\151\x6e\x66\x6f"] : 0; goto Gf9xl; KbNbZ: return AjaxReturn($res); goto ee5EQ; Gf9xl: $config = new ConfigService(); goto aqll5; ee5EQ: } public function AdvertPositionSort() { goto KF3aO; JRVi6: return AjaxReturn($res); goto pPFC0; IztKD: $advert = new AdvertService(); goto pF30z; KTEHN: $sort = isset($_POST["\x73\157\x72\x74"]) ? $_POST["\163\157\162\x74"] : 0; goto IztKD; KF3aO: $ap_id = isset($_POST["\141\x64\166\x5f\151\x64"]) ? $_POST["\x61\x64\x76\137\x69\144"] : 0; goto KTEHN; pF30z: $res = $advert->AdvertPositionSort($ap_id, $sort); goto JRVi6; pPFC0: } public function AdvertSort() { goto ULi00; ULi00: $ap_id = isset($_POST["\x61\160\137\151\x64"]) ? $_POST["\x61\x70\x5f\151\x64"] : 0; goto vFtSZ; moqsA: return AjaxReturn($res); goto Aca93; mg1DH: $res = $advert->AdvertSort($ap_id, $sort); goto moqsA; vFtSZ: $sort = isset($_POST["\x73\157\x72\x74"]) ? $_POST["\163\x6f\x72\x74"] : 0; goto F6bOx; F6bOx: $advert = new AdvertService(); goto mg1DH; Aca93: } public function addAdvert() { goto dIxkq; vz2Dn: $res = $advert->addAdvert($cate_id, $mod_id, $ap_id, $adv_title, $adv_url, $adv_image, $sort, $background, $mch_id); goto Btr9W; yHSTD: $ap_id = 0; goto czxsq; h5xp5: $mod_id = 1; goto yHSTD; dIxkq: $advert = new AdvertService(); goto RzFxF; mIwMY: if (!request()->isAjax()) { goto cww6U; } goto h5xp5; LeYlT: $adv_image = isset($_POST["\141\144\x76\x5f\151\x6d\x61\147\x65"]) ? $_POST["\x61\x64\166\x5f\x69\155\141\x67\145"] : ''; goto vz2Dn; RHTMa: $sort = isset($_POST["\163\x6f\162\x74"]) ? $_POST["\163\157\162\x74"] : ''; goto u7GLv; u7GLv: $background = isset($_POST["\142\141\x63\153\147\x72\157\165\156\x64"]) ? $_POST["\x62\x61\x63\153\x67\162\157\165\x6e\x64"] : ''; goto AYDgL; lWFxb: cww6U: goto fGp0n; dlfX1: $adv_title = isset($_POST["\141\144\166\137\164\x69\x74\154\x65"]) ? $_POST["\x61\144\x76\x5f\164\151\164\154\145"] : ''; goto RHTMa; czxsq: $cate_id = isset($_POST["\143\x61\x74\145\x5f\151\144"]) ? $_POST["\143\x61\164\145\x5f\151\144"] : "\x30"; goto dlfX1; fGp0n: return view("\141\144\x76\x65\x72\164\57\141\x64\166\x65\x72\x74\137\141\x64\144"); goto iVX8n; Btr9W: return AjaxReturn($res); goto lWFxb; AYDgL: $adv_url = isset($_POST["\141\144\x76\137\165\162\x6c"]) ? $_POST["\141\144\x76\x5f\x75\x72\x6c"] : ''; goto LeYlT; RzFxF: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto mIwMY; iVX8n: } public function addNavigation() { goto LfnXc; HhjHa: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto XQSay; USoYS: $mod_id = 2; goto HZjPd; CaeeN: $cate = new GoodsCate(); goto qS1y0; CFGNg: $sort = isset($_POST["\x73\157\162\164"]) ? $_POST["\x73\157\x72\164"] : ''; goto LkNYi; qy6_l: mzJfO: goto CaeeN; eGhLV: $res = $advert->addAdvert($cate_id, $mod_id, $ap_id, $adv_title, $adv_url, $adv_image, $sort, $background, $mch_id); goto Tn0Bq; HS5MD: $adv_image = isset($_POST["\141\144\166\x5f\x69\155\x61\x67\x65"]) ? $_POST["\x61\x64\166\137\x69\155\x61\147\x65"] : ''; goto eGhLV; Tn0Bq: return AjaxReturn($res); goto qy6_l; av415: $adv_url = isset($_POST["\x61\x64\x76\137\x75\x72\x6c"]) ? $_POST["\x61\x64\166\137\165\x72\x6c"] : ''; goto HS5MD; XQSay: if (!request()->isAjax()) { goto mzJfO; } goto USoYS; HZjPd: $ap_id = 0; goto vzWTm; LkNYi: $background = isset($_POST["\x62\141\x63\x6b\x67\x72\157\x75\x6e\x64"]) ? $_POST["\142\141\x63\x6b\x67\162\x6f\165\156\144"] : ''; goto av415; vzWTm: $cate_id = isset($_POST["\x63\141\164\145\137\x69\x64"]) ? $_POST["\143\141\164\145\x5f\151\x64"] : "\x30"; goto thopO; EIYF8: $this->assign("\x6c\x69\163\x74", $list); goto DECAh; qS1y0: $list = $cate->getFormatGoodsCategoryList($mch_id); goto EIYF8; thopO: $adv_title = isset($_POST["\141\x64\x76\137\x74\x69\x74\x6c\145"]) ? $_POST["\x61\x64\x76\x5f\x74\151\164\154\x65"] : ''; goto CFGNg; DECAh: return view("\141\x64\x76\145\x72\x74\x2f\x61\144\x64\x5f\x6e\x61\x76\x69\x67\141\x74\151\157\x6e"); goto dTR3I; LfnXc: $advert = new AdvertService(); goto HhjHa; dTR3I: } public function addAdvertising() { goto YgAs4; bGtmt: $ap_name = isset($_POST["\141\x70\137\156\141\155\x65"]) ? $_POST["\141\x70\x5f\x6e\141\x6d\x65"] : ''; goto I2VM3; Yt1s7: $res = $advert->addAdvertPosition($mch_id, $ap_intro, $ap_name, $sort, $height, $width); goto UCGXm; I2VM3: $sort = isset($_POST["\x73\157\162\164"]) ? $_POST["\x73\x6f\x72\164"] : ''; goto IIsIC; mKKSE: UZ_4s: goto rZiVH; IIsIC: $height = isset($_POST["\x68\145\151\147\150\x74"]) ? $_POST["\x68\x65\151\x67\150\x74"] : "\60"; goto pm0IB; YgAs4: $advert = new AdvertService(); goto rjmOg; pm0IB: $width = isset($_POST["\x77\x69\144\x74\150"]) ? $_POST["\167\x69\144\x74\150"] : "\60"; goto Yt1s7; rZiVH: return view("\141\x64\166\x65\x72\164\57\x61\144\144\x5f\x61\144\166\145\x72\x74\x69\163\x69\156\x67"); goto cuL4J; ykTx3: if (!request()->isAjax()) { goto UZ_4s; } goto nuezJ; nuezJ: $ap_intro = isset($_POST["\141\160\137\x69\156\164\x72\157"]) ? $_POST["\141\160\137\151\x6e\x74\x72\x6f"] : ''; goto bGtmt; UCGXm: return AjaxReturn($res); goto mKKSE; rjmOg: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto ykTx3; cuL4J: } public function setAdvertUse() { goto DZ175; Pg2PU: CPp2h: goto IULEl; VIzC_: $is_use = request()->post("\151\x73\x5f\165\x73\x65", ''); goto u2h4C; BNqxI: $res = $advert->setAdvertUse($adv_id, $is_use); goto P2yN4; DZ175: if (!request()->isAjax()) { goto CPp2h; } goto nJ61Q; P2yN4: return AjaxReturn($res); goto Pg2PU; u2h4C: $advert = new AdvertService(); goto BNqxI; nJ61Q: $adv_id = request()->post("\141\x64\x76\137\151\144", ''); goto VIzC_; IULEl: } public function updateAdvert() { goto EQHv4; mGssn: $adv_id = isset($_GET["\x61\144\166\137\151\144"]) ? $_GET["\x61\144\166\137\151\144"] : ''; goto rtuDd; AXYN_: $advert = new AdvertService(); goto cszeY; Ngn8m: $res = $advert->updateAdvert($adv_id, $adv_title, $adv_url, $adv_image, $sort, $background, $mch_id); goto VFrEh; EQHv4: $mch_id = isset($this->bus_id) ? $this->bus_id : "\x30"; goto lt9op; VFrEh: return AjaxReturn($res); goto JgF7h; wNcVM: $sort = isset($_POST["\x73\x6f\x72\164"]) ? $_POST["\x73\157\x72\164"] : ''; goto lrqGk; lt9op: if (!request()->isAjax()) { goto aaGJe; } goto AXYN_; cszeY: $adv_id = isset($_POST["\x61\144\x76\137\x69\144"]) ? $_POST["\141\144\166\137\x69\x64"] : ''; goto lzSJi; lrqGk: $background = isset($_POST["\x62\141\143\153\147\x72\x6f\x75\x6e\144"]) ? $_POST["\142\141\143\153\x67\x72\x6f\165\156\x64"] : ''; goto Ngn8m; rtuDd: $info = $advert->getAdvertDetail($adv_id); goto msDRS; JgF7h: aaGJe: goto xQLRF; a2DZZ: $adv_image = isset($_POST["\141\x64\x76\137\x69\x6d\141\x67\x65"]) ? $_POST["\141\x64\x76\137\x69\x6d\x61\x67\x65"] : ''; goto wNcVM; lzSJi: $adv_title = isset($_POST["\141\x64\166\x5f\x74\151\164\154\x65"]) ? $_POST["\x61\x64\166\x5f\164\151\x74\154\145"] : ''; goto OLkkq; nVltV: return view("\x61\x64\166\145\162\x74\57\x61\144\166\145\162\164\x5f\145\x64\151\x74"); goto AuyM1; xQLRF: $advert = new AdvertService(); goto mGssn; OLkkq: $adv_url = isset($_POST["\141\x64\166\x5f\165\162\x6c"]) ? $_POST["\x61\x64\x76\x5f\x75\162\154"] : ''; goto a2DZZ; msDRS: $this->assign("\x69\156\146\157", $info); goto nVltV; AuyM1: } public function updateAdvertPos() { goto pmQ05; zVXJJ: return view("\x61\x64\x76\145\x72\x74\57\141\x64\x76\145\162\x74\x5f\x70\157\x73\151\x74\x69\x6f\x6e\x5f\x65\x64\151\x74"); goto ZiTl4; CJ1cG: $ap_id = isset($_POST["\141\160\x5f\x69\144"]) ? $_POST["\x61\160\137\x69\144"] : ''; goto UKJq1; MRuKY: $ap_intro = isset($_POST["\141\160\x5f\x69\156\164\x72\157"]) ? $_POST["\x61\x70\x5f\x69\156\164\162\157"] : ''; goto wqK5F; NeQfM: if (!request()->isAjax()) { goto xT0Gc; } goto gEP1i; R__Jj: return AjaxReturn($res); goto RDRI_; gEP1i: $advert = new AdvertService(); goto CJ1cG; cre1c: $info = $advert->getAdvertPositionDetail($ap_id); goto n1TbO; RDRI_: xT0Gc: goto xhVsu; fFB8i: $height = isset($_POST["\x68\x65\x69\147\x68\164"]) ? $_POST["\x68\145\151\147\150\164"] : "\60"; goto VmWW2; VmWW2: $width = isset($_POST["\x77\x69\144\164\150"]) ? $_POST["\x77\x69\x64\x74\x68"] : "\60"; goto rwhtx; BUnsA: $ap_id = isset($_GET["\141\x70\137\151\x64"]) ? $_GET["\x61\x70\x5f\151\x64"] : ''; goto cre1c; wqK5F: $sort = isset($_POST["\163\x6f\x72\x74"]) ? $_POST["\x73\x6f\x72\164"] : ''; goto fFB8i; rwhtx: $res = $advert->updateAdvertPositionDetail($mch_id, $ap_id, $ap_name, $ap_intro, $sort, $height, $width); goto R__Jj; pmQ05: $mch_id = isset($this->bus_id) ? $this->bus_id : "\x30"; goto NeQfM; UKJq1: $ap_name = isset($_POST["\141\160\x5f\x6e\x61\155\145"]) ? $_POST["\141\160\x5f\x6e\141\x6d\x65"] : ''; goto MRuKY; xhVsu: $advert = new AdvertService(); goto BUnsA; n1TbO: $this->assign("\151\x6e\x66\157", $info); goto zVXJJ; ZiTl4: } public function AddAdvertPosImg() { goto oBiFW; F1Pd1: $condition["\x61\x70\x5f\151\144"] = array("\145\x71", $ap_id); goto qLwJi; oBiFW: $advert = new AdvertService(); goto l6yV6; LB4Uu: $condition["\155\143\150\x5f\151\x64"] = array("\x65\x71", $mch_id); goto F1Pd1; xcDvc: $this->assign("\x61\160\137\x69\144", $ap_id); goto XGgMg; qLwJi: $img_list = $advert->getAdvertPosImg($condition, '', "\163\157\162\x74\x20\x64\x65\x73\143"); goto lvJca; XGgMg: return view("\x61\144\x76\x65\x72\x74\x2f\141\x64\x76\x65\162\164\x5f\151\155\x67"); goto jb3QD; l6yV6: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto kBlLV; bTFYX: $ap_id = input("\160\141\162\141\x6d\56\x61\x70\137\x69\144", "\60"); goto LB4Uu; nKL2U: $ap_id = input("\x70\141\162\x61\155\56\x61\x70\137\151\144", ''); goto vLO4J; lvJca: $this->assign("\x69\x6d\147\x5f\154\151\163\164", $img_list); goto xcDvc; ubQpf: $adv_img = input("\160\141\162\141\155\x2e\x61\x64\x76\x5f\151\x6d\x67", ''); goto nKL2U; kBlLV: if (!request()->isAjax()) { goto U_01B; } goto eCA30; JCxRG: return AjaxReturn($res); goto Nw0nf; Nw0nf: U_01B: goto bTFYX; eCA30: $mod_id = 3; goto ubQpf; vLO4J: $res = $advert->addAdvert('', $mod_id, $ap_id, '', '', $adv_img, '', '', $mch_id); goto JCxRG; jb3QD: } public function AdvertImg() { goto aTaEW; kpFXI: $adv_id = input("\x70\141\162\x61\155\x2e\x61\x64\x76\137\151\144", ''); goto oJJ7R; zdEmv: $res = $advert->UpdateAdvertImg($adv_title, $adv_id, $key); goto e_FUJ; aTaEW: $advert = new AdvertService(); goto t5huk; oJJ7R: $key = input("\160\x61\162\141\x6d\56\x6b\x65\171", ''); goto zdEmv; t5huk: if (!request()->isAjax()) { goto fr2VC; } goto JnzFj; JnzFj: $adv_title = input("\x70\141\x72\141\155\56\141\144\x76\137\x74\x69\164\x6c\x65", ''); goto kpFXI; Ed0FB: fr2VC: goto kOsDj; e_FUJ: return AjaxReturn($res); goto Ed0FB; kOsDj: } public function AdvertPositionProportion() { goto QGgw4; hTEV4: $info = input("\160\x61\x72\x61\x6d\56\151\156\146\x6f", ''); goto cdH34; cdH34: $ap_id = input("\160\141\162\141\x6d\x2e\141\160\137\x69\x64", ''); goto u5mV9; QGgw4: $advert = new AdvertService(); goto fCZQA; fCZQA: if (!request()->isAjax()) { goto Wd7qh; } goto hTEV4; VoYHG: $res = $advert->UpdateAdvertProportion($info, $ap_id, $key); goto ys9xH; yZnxy: Wd7qh: goto apFDE; ys9xH: return AjaxReturn($res); goto yZnxy; u5mV9: $key = input("\x70\x61\162\x61\x6d\x2e\153\145\171", ''); goto VoYHG; apFDE: } public function editNavigation() { goto huqyd; FoQqU: $res = $advert->editNavigation($adv_id, $cate_id, $adv_title, $sort, $background, $adv_url, $adv_image); goto DtNrA; nurHm: $adv_url = isset($_POST["\141\x64\x76\137\x75\x72\x6c"]) ? $_POST["\141\144\166\x5f\x75\162\x6c"] : ''; goto klzIO; bB_V4: $this->assign("\141\144\x76\137\151\144", $adv_id); goto c53cx; t4sZX: $adv_list = $advert->getAdvertDetail($adv_id); goto aAKz_; tZ6f8: $adv_id = isset($_POST["\141\x64\x76\x5f\151\144"]) ? $_POST["\141\144\166\x5f\151\x64"] : "\x30"; goto sBgUY; uwPEM: if (!request()->isAjax()) { goto yonSb; } goto tZ6f8; cJqDN: $condition["\x6d\143\x68\x5f\151\144"] = array("\145\161", $mch_id); goto a2EEn; sBgUY: $cate_id = isset($_POST["\x63\141\x74\x65\x5f\x69\x64"]) ? $_POST["\143\x61\164\x65\x5f\x69\144"] : "\60"; goto dBNuF; XKIbr: yonSb: goto gy6fI; HwoeB: $sort = isset($_POST["\163\x6f\x72\x74"]) ? $_POST["\x73\157\162\x74"] : ''; goto SwJYp; k5NuA: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto uwPEM; DtNrA: return AjaxReturn($res); goto XKIbr; VRvP8: $list = $cate->getFormatGoodsCategoryList($mch_id); goto v9mOf; huqyd: $advert = new AdvertService(); goto k5NuA; v9mOf: $this->assign("\154\151\x73\164", $list); goto PTRik; SwJYp: $background = isset($_POST["\x62\x61\143\x6b\x67\x72\x6f\x75\156\x64"]) ? $_POST["\142\141\x63\x6b\147\x72\157\165\156\144"] : ''; goto nurHm; c53cx: return view("\141\144\x76\x65\162\x74\57\145\x64\151\164\x5f\x6e\x61\x76\151\147\141\164\151\157\156"); goto p54Jv; gy6fI: $cate = new GoodsCate(); goto VRvP8; PTRik: $adv_id = input("\160\x61\x72\x61\155\56\x61\x64\166\x5f\151\x64", "\60"); goto cJqDN; dBNuF: $adv_title = isset($_POST["\x61\x64\166\137\164\x69\164\154\x65"]) ? $_POST["\141\x64\x76\137\164\x69\x74\154\x65"] : ''; goto HwoeB; a2EEn: $condition["\155\x6f\144\137\151\x64"] = array("\145\161", 2); goto t4sZX; aAKz_: $this->assign("\141\x64\x76\x5f\154\x69\x73\164", $adv_list); goto bB_V4; klzIO: $adv_image = isset($_POST["\x61\144\x76\x5f\151\x6d\141\x67\145"]) ? $_POST["\141\144\166\x5f\x69\155\141\x67\x65"] : ''; goto FoQqU; p54Jv: } public function delAdvert() { goto vomv9; mcDI7: $res = $advert->delAdvert($adv_id); goto D_Cui; D_Cui: return AjaxReturn($res); goto GXshD; Ukpiq: $advert = new AdvertService(); goto mcDI7; vomv9: $adv_id = isset($_POST["\141\144\166\x5f\x69\x64"]) ? $_POST["\x61\x64\166\137\151\144"] : ''; goto Ukpiq; GXshD: } public function delAdvertPos() { goto BRqSc; BRqSc: $ap_id = isset($_POST["\141\160\137\151\144"]) ? $_POST["\141\160\x5f\x69\x64"] : ''; goto ii3Yv; xFSSi: return AjaxReturn($res); goto PD1y2; ii3Yv: $advert = new AdvertService(); goto r4YoM; r4YoM: $res = $advert->delAdvertPosition($ap_id); goto xFSSi; PD1y2: } }
