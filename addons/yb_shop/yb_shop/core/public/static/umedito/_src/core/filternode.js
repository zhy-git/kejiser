var filterNode=UM.filterNode=function(){function a(b,c){var d,e,f,h,g,i,k,j,l,m;switch(b.type){case"text":break;case"element":if(d=c[b.tagName])if("-"===d)b.parentNode.removeChild(b);else if(utils.isFunction(d))if(e=b.parentNode,f=b.getIndex(),d(b),b.parentNode){if(b.children)for(g=0;h=b.children[g];)a(h,c),h.parentNode&&g++}else for(g=f;h=e.children[g];)a(h,c),h.parentNode&&g++;else{if(i=d["$"],i&&b.attrs){j={};for(l in i)k=b.getAttr(l),"style"==l&&utils.isArray(i[l])&&(m=[],utils.each(i[l],function(a){var c;(c=b.getStyle(a))&&m.push(a+":"+c)}),k=m.join(";")),k&&(j[l]=k);b.attrs=j}if(b.children)for(g=0;h=b.children[g];)a(h,c),h.parentNode&&g++}else if(dtd.$cdata[b.tagName])b.parentNode.removeChild(b);else for(e=b.parentNode,f=b.getIndex(),b.parentNode.removeChild(b,!0),g=f;h=e.children[g];)a(h,c),h.parentNode&&g++;break;case"comment":b.parentNode.removeChild(b)}}return function(b,c){var d,f,e;if(utils.isEmptyObject(c))return b;for((d=c["-"])&&utils.each(d.split(" "),function(a){c[a]="-"}),e=0;f=b.children[e];)a(f,c),f.parentNode&&e++;return b}}();