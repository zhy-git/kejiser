<?php
 error_reporting(0); define("\111\116\x5f\x49\101", ''); date_default_timezone_set("\101\x73\151\141\57\x63\150\157\x6e\147\x71\151\x6e\x67"); define("\x41\x50\x50\137\x50\x41\x54\110", __DIR__ . "\x2f\141\160\x70\154\151\x63\141\x74\151\x6f\x6e\x2f"); define("\103\x4f\x4e\x46\137\120\101\124\x48", APP_PATH); define("\x45\x58\x54\105\116\x44\x5f\x50\101\124\x48", __DIR__ . "\57\x65\170\164\145\x6e\144\x2f"); require __DIR__ . "\57\x74\x68\x69\x6e\x6b\x70\150\x70\x2f\x62\141\163\145\56\160\x68\x70"; require EXTEND_PATH . "\127\170\160\141\171\x2f\x57\170\x50\x61\x79\56\x41\160\151\56\x70\150\x70"; use think\config; use think\Db; use think\Log; use think\Exception; goto AQkmE; AQkmE: $filename = APP_PATH . "\144\x61\164\141\142\x61\x73\x65\x2e\x70\150\160"; goto FtDcQ; Ss981: iEV9K: goto GVDl_; tdg_1: $data_pay = array("\160\141\x79\137\x73\164\141\164\165\163" => 1, "\x70\141\x79\137\x74\151\x6d\x65" => time()); goto ri6Ri; n6KEu: $notify_data = isset($GLOBALS["\x48\x54\x54\120\x5f\122\101\127\137\x50\x4f\x53\x54\137\x44\101\124\101"]) ? $GLOBALS["\x48\124\x54\120\137\x52\101\x57\x5f\x50\x4f\x53\x54\137\x44\x41\124\x41"] : file_get_contents("\x70\x68\160\x3a\57\x2f\151\x6e\x70\x75\x74"); goto vil1R; Jj6EX: if (!$info) { goto B1gHa; } goto SkKIB; NrF4P: try { goto cyCIq; Na99r: AXb5n: goto XicbK; vg0u2: $aa = Db::name("\171\x62\163\143\x5f\160\x74\x5f\x6f\x72\144\x65\x72\x73")->where("\x69\x64", $info["\160\151\x64"])->whereOr("\160\151\144", $info["\160\151\144"])->update(["\x6f\x72\144\145\162\x5f\x73\x74\x61\164\x75\x73" => 3, "\147\162\157\x75\x70\124\x69\x6d\145" => time(), "\151\163\x50\141\x79" => 1]); goto jKeYL; pucfE: $res = Db::name("\x79\142\x73\x63\x5f\160\164\137\157\x72\144\145\x72\163")->where(["\x6f\x72\144\145\162\116\165\x6d" => $out_trade_no, "\x6f\162\144\x65\162\137\163\164\x61\164\x75\163" => 1, "\x69\163\x50\x61\171" => 0])->update($data); goto B97qg; QbwgX: if ($info["\x70\x69\144"] != 0) { goto mg2Ul; } goto IRC3j; uTOXX: $res = Db::name("\171\142\x73\x63\137\160\164\x5f\x6f\162\x64\x65\x72\163")->where(["\157\x72\144\x65\162\116\165\155" => $out_trade_no, "\x6f\162\x64\x65\x72\137\163\164\x61\x74\165\163" => 1, "\x69\x73\120\141\x79" => 0])->update($data); goto rueMy; hIq_Y: R0E4F: goto xTb2l; cyCIq: Db::name("\171\142\163\143\x5f\x70\164\137\x6f\x72\x64\x65\x72\x5f\160\x61\171\x6d\145\x6e\x74")->where(["\x6f\x75\164\x5f\x74\x72\141\144\x65\x5f\156\x6f" => $out_trade_no, "\x70\x61\171\137\163\x74\x61\164\x75\163" => 0])->update($data_pay); goto rvpw0; drxjn: xI1x1: goto AyL1s; rvpw0: if ($info["\151\163\x47\x72\157\165\160"] == 0) { goto ApY8o; } goto QbwgX; xTb2l: MWwSL: goto T19vf; rDrD_: if (!$res) { goto nGwzZ; } goto gT3Lt; tqW03: DbIJ6: goto Ac2A_; N1lID: $count = Db::name("\171\x62\163\x63\x5f\x70\x74\x5f\157\162\x64\x65\x72\x73")->where(["\x70\x69\144" => $info["\160\151\x64"], "\x69\163\120\x61\x79" => 1])->count(); goto Abjmy; Ac2A_: J7PZd: goto CfI1n; Abjmy: if ($groupNum == $count + 2) { goto oebh1; } goto pucfE; zGgMg: Log::write($out_trade_no . "\54\xe6\213\xbc\xe5\x9b\242\xe7\x8a\266\xe6\200\201\346\x9b\xb4\346\224\271", "\x70\164\137\x70\x61\171\137\163\164\141\x74\x65\x5f\x63\x68\x61\x6e\147\145\137\163\165\x63\x63\x65\163\163\x31"); goto hIq_Y; XicbK: goto J7PZd; goto HlD6V; IRC3j: $res = Db::name("\x79\x62\x73\143\137\x70\164\x5f\157\x72\144\145\x72\x73")->where(["\157\x72\x64\x65\162\116\x75\x6d" => $out_trade_no, "\x6f\162\144\x65\x72\x5f\x73\164\141\164\165\x73" => 1, "\151\163\x50\141\x79" => 0])->update($data); goto rDrD_; vUdKR: nGwzZ: goto k3ubf; LzGd2: Log::write($out_trade_no . "\x2c\xe6\224\257\xe4\xbb\x98\347\x8a\266\xe6\x80\x81\xe6\x9b\264\xe6\224\271\xe6\210\220\xe5\x8a\x9f\x5f\x6c\141\163\164", "\x70\164\x5f\160\141\171\x5f\163\x74\141\x74\145\x5f\143\150\141\156\147\x65\x5f\x73\x75\143\x63\145\x73\x73\x32"); goto tqW03; gT3Lt: Log::write($out_trade_no . "\x2c\346\224\xaf\344\273\230\xe7\212\266\xe6\x80\201\xe6\x9b\xb4\xe6\x94\271\xe6\x88\x90\345\x8a\237\137\x6c\141\163\x74", "\160\164\137\x70\x61\x79\x5f\163\164\x61\164\x65\x5f\143\x68\141\156\x67\x65\137\x73\x75\x63\x63\x65\x73\163\x32"); goto vUdKR; jbLH0: if (!($info["\x70\151\144"] != 0 && $info["\x69\163\107\162\157\x75\160"] == 1)) { goto H4gPZ; } goto N1lID; jKeYL: if (!$aa) { goto R0E4F; } goto zGgMg; A015h: oebh1: goto vg0u2; kEalU: Log::write($out_trade_no . "\x2c\xe6\x94\257\344\273\230\xe7\x8a\xb6\346\x80\201\346\233\xb4\xe6\x94\xb9\346\x88\220\xe5\212\237\x5f\154\x61\163\164", "\x70\164\x5f\160\141\171\137\163\x74\x61\x74\145\x5f\x63\x68\141\x6e\147\x65\x5f\x73\165\x63\x63\145\x73\163\x32"); goto drxjn; B97qg: if (!$res) { goto xI1x1; } goto kEalU; T19vf: H4gPZ: goto Na99r; CfI1n: Db::commit(); goto yVF1p; yf9TP: $groupNum = Db::name("\x79\x62\163\143\137\160\164\137\x67\x6f\x6f\144\x73")->where("\151\x64", $info["\147\x69\144"])->value("\147\x72\x6f\165\160\116\x75\155"); goto jbLH0; AyL1s: goto MWwSL; goto A015h; k3ubf: goto AXb5n; goto k5eYy; k5eYy: mg2Ul: goto yf9TP; bTpEd: $data["\157\162\x64\x65\162\137\x73\x74\x61\164\x75\163"] = 3; goto uTOXX; rueMy: if (!$res) { goto DbIJ6; } goto LzGd2; HlD6V: ApY8o: goto bTpEd; yVF1p: } catch (\Exception $e) { Db::rollback(); Log::write($out_trade_no . "\x2c\346\224\257\344\273\230\xe7\x8a\xb6\346\x80\201\346\233\264\346\224\xb9\345\xa4\xb1\xe8\264\xa5" . $e, "\160\164\x5f\x70\141\x79\x5f\163\x74\141\164\145\137\x63\150\x61\x6e\147\x65\x5f\x66\141\151\x6c"); } goto zS65F; SkKIB: Db::startTrans(); goto NrF4P; Md3HI: $data = array("\x6f\x72\144\x65\x72\x5f\163\164\x61\x74\165\163" => 2, "\151\x73\x50\141\x79" => 1, "\x70\x61\x79\124\x69\x6d\145" => time()); goto tdg_1; wO81S: exit("\346\x9c\xaa\346\x94\xb6\345\210\260\xe5\233\x9e\xe8\260\203"); goto Ss981; FtDcQ: Config::load($filename, "\x64\x61\x74\141\x62\x61\x73\145"); goto O2bZz; vil1R: if ($notify_data) { goto iEV9K; } goto wO81S; CJRZD: $doc->loadXML($notify_data); goto cWbEb; cWbEb: $out_trade_no = $doc->getElementsByTagName("\x6f\x75\164\x5f\x74\x72\141\144\x65\x5f\156\x6f")->item(0)->nodeValue; goto Md3HI; GVDl_: $doc = new \DOMDocument(); goto CJRZD; O2bZz: error_reporting(0); goto n6KEu; ri6Ri: $info = Db::name("\x79\x62\163\x63\x5f\160\164\x5f\x6f\162\x64\145\162\163")->where(["\x6f\162\x64\145\162\116\165\155" => $out_trade_no, "\151\163\120\x61\x79" => 0])->find(); goto Jj6EX; zS65F: B1gHa:
