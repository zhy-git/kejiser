<?php
 namespace app\api\service; use app\common\model\VideoClass; use app\common\model\Video; use app\common\model\BusVideo; class VideoService { public function getVideoList($data, $page) { goto J1Eyl; TQ3wD: Kbx0m: goto uI__c; bYXhq: p68d6: goto LUq4h; VZy18: $rs = $video->where($data)->page($page, PAGE_NUM)->order("\141\144\x64\137\164\x69\155\145", "\x64\x65\163\x63")->select(); goto lcuzV; uI__c: foreach ($rs as $key => $value) { goto icsgq; VyZM2: JSiX1: goto EGoN_; eB4xS: NOhoi: goto mwlHa; mwlHa: $value->add_time = date("\x6e\346\234\210\152\346\227\245", $value->add_time); goto VyZM2; EGoN_: j2IxS: goto MKeti; XnQEA: $value->add_time = date("\x59\55\155\55\x64", $value->add_time); goto R0fQ9; PfhYq: if (date("\x59") == date("\131", $value->add_time)) { goto NOhoi; } goto XnQEA; R0fQ9: goto JSiX1; goto eB4xS; icsgq: $value->img = __IMG($value->img); goto PfhYq; MKeti: } goto bYXhq; yXi_K: return $rs; goto TQ3wD; LUq4h: return $rs; goto e8rkl; lcuzV: if (!empty($rs)) { goto Kbx0m; } goto yXi_K; J1Eyl: $video = new BusVideo(); goto VZy18; e8rkl: } public function getVideoClass($data, $page) { goto nQtIl; T7Yc9: return $rs; goto nP1w5; nQtIl: $video_class = new VideoClass(); goto lPSg9; cqedX: TETWy: goto T7Yc9; lPSg9: $rs = $video_class->where($data)->page($page, PAGE_NUM)->order("\163\x6f\x72\x74", "\x64\x65\x73\x63")->order("\x63\162\x65\x61\x74\x65\137\x74\x69\x6d\145", "\x64\145\163\143")->select(); goto vVj7z; vVj7z: foreach ($rs as $key => $value) { goto wwJpE; MyQiM: $value->images = __IMG($value->images); goto fUXGm; URBGU: dzZ5j: goto JzXRS; naN2b: $value->update_time = date("\156\xe6\x9c\x88\x6a\346\227\245", $value->update_time); goto Hbbtj; FbVzg: aZu9d: goto Y9gYH; fUXGm: if (date("\x59") == date("\131", $value->create_time)) { goto dzZ5j; } goto KKqL1; VE3Ma: goto N7Fx5; goto URBGU; PLGcg: $value->count = $video->where("\143\154\x61\x73\163\x5f\x69\144", $value->class_id)->count(); goto MyQiM; JzXRS: $value->create_time = date("\x6e\xe6\234\x88\x6a\346\x97\xa5", $value->create_time); goto naN2b; pigJ6: $value->update_time = date("\131\55\x6d\55\x64", $value->update_time); goto VE3Ma; wwJpE: $video = new Video(); goto PLGcg; Hbbtj: N7Fx5: goto FbVzg; KKqL1: $value->create_time = date("\x59\x2d\155\x2d\144", $value->create_time); goto pigJ6; Y9gYH: } goto cqedX; nP1w5: } public function getVideo($data, $page) { goto pHJmv; zjWkH: return $rs; goto gJ90J; Vwpjz: $data["\x63\x6c\x61\x73\163\137\x69\144"] = $class_id; goto nkymf; pHJmv: if (!isset($data["\x69\x64\x65\156\x74"])) { goto UizdM; } goto ubgSy; JdSaa: $video = new Video(); goto IMe9v; unTba: $class_id = $video_class->where($class_data)->value("\x63\154\141\163\163\137\151\x64"); goto uV2Ha; gJ90J: Q5731: goto ZC0K5; UdOWG: unset($data["\151\144\x65\x6e\x74"]); goto NM9An; jcc3m: bVn8x: goto i0Pd7; NM9An: unset($data["\x6d\x63\x68\137\151\144"]); goto Vwpjz; ubgSy: $class_data = ["\x69\144\145\x6e\164" => $data["\x69\x64\x65\156\164"], "\155\x63\x68\x5f\x69\144" => $data["\x6d\143\x68\x5f\x69\x64"]]; goto XczwO; i0Pd7: return $rs; goto tUvwE; IMe9v: $rs = $video->where($data)->page($page, PAGE_NUM)->order("\163\157\162\164", "\144\145\163\x63")->order("\143\x72\145\x61\x74\145\137\x74\151\x6d\x65", "\x64\145\163\143")->select(); goto wj9TK; o2mOO: return $class_id; goto fupNa; nkymf: UizdM: goto JdSaa; XczwO: $video_class = new VideoClass(); goto unTba; ZC0K5: foreach ($rs as $key => $value) { goto UpsxK; wP4FY: Dpxwn: goto EqtLh; i2jSW: if (date("\131") == date("\x59", $value->create_time)) { goto joanA; } goto EMXcM; UpsxK: $value->image = __IMG($value->image); goto jAvI7; UyTc4: $value->create_time = date("\x6e\xe6\x9c\210\x6a\xe6\x97\xa5", $value->create_time); goto wP4FY; jAvI7: $value->url = __IMG($value->url); goto i2jSW; nf4I3: goto Dpxwn; goto JJuDc; EqtLh: bq3US: goto z0fib; JJuDc: joanA: goto UyTc4; EMXcM: $value->create_time = date("\131\x2d\x6d\x2d\144", $value->create_time); goto nf4I3; z0fib: } goto jcc3m; fupNa: X3G2b: goto UdOWG; wj9TK: if (!empty($rs)) { goto Q5731; } goto zjWkH; uV2Ha: if (!empty($class_id)) { goto X3G2b; } goto o2mOO; tUvwE: } public function getVideoInfo($data) { goto DFLIE; mDr6k: lfzMG: goto oJhV_; qxtBu: wmxBX: goto BxN_j; oJhV_: $rs["\x69\x6d\141\147\x65"] = __IMG($rs->image); goto VORLj; kfxTQ: return $rs; goto mDr6k; rBKUq: if (date("\131") == date("\x59", $rs->create_time)) { goto wmxBX; } goto hD184; nIWLq: return $rs; goto Npwzy; BxN_j: $rs["\x63\162\x65\141\164\145\137\164\x69\x6d\145"] = date("\x6e\346\x9c\x88\152\346\x97\245", $rs->create_time); goto vblMD; vblMD: GcdwB: goto nIWLq; qcgXQ: $rs = $video->where($data)->order("\x73\157\x72\164", "\x64\145\x73\143")->order("\143\x72\145\x61\164\145\137\164\x69\155\x65", "\x64\145\x73\143")->find(); goto xYdMa; DFLIE: $video = new Video(); goto qcgXQ; xYdMa: if (!empty($rs)) { goto lfzMG; } goto kfxTQ; hD184: $rs["\143\162\145\141\164\145\137\x74\151\x6d\x65"] = date("\x59\55\x6d\55\144", $rs->create_time); goto pbnC0; pbnC0: goto GcdwB; goto qxtBu; VORLj: $rs["\x75\162\x6c"] = __IMG($rs->url); goto rBKUq; Npwzy: } }
