<?php
 namespace app\api\controller; require_once BASE_ROOT . "\143\x6f\x72\x65\57\x61\x70\x70\154\x69\x63\141\x74\x69\157\156\x2f\141\160\x69\x2f\143\157\156\x74\162\157\154\x6c\145\162\57\102\141\x73\145\103\x6f\x6e\164\x72\157\x6c\154\145\x72\x2e\x70\x68\160"; require_once BASE_ROOT . "\x63\x6f\x72\145\x2f\141\x70\160\154\x69\x63\141\164\x69\x6f\156\x2f\141\x70\151\57\163\x65\162\166\x69\143\145\57\x55\x73\x65\x72\167\x61\x70\x53\145\x72\166\151\143\145\56\x70\x68\160"; use think\Request; use think\Log; use app\api\service\UserwapService; use app\api\service\UserService; class Userwap extends BaseController { public function Login() { goto OOI4b; zO_Od: return json_encode($rs); goto CFpU7; T2RI_: $rs["\155\163\147"] = "\xe5\xaf\206\xe7\xa0\x81\xe9\x94\x99\350\xaf\257"; goto l_Y_e; Sk7nR: $rs["\x63\x6f\x64\x65"] = 1; goto T2RI_; jjO5I: P3uQR: goto PbVwl; k3AEt: $password = Request::instance()->param("\x70\x61\x73\x73\x77\x6f\x72\144"); goto PNH_7; PbVwl: $user = new UserwapService(); goto YHebr; wJ50z: $result = $this->checkParam($rule, $data); goto cCTWa; cK1Ib: $rs["\143\157\x64\x65"] = 1; goto XEJkG; eFPiM: $rs["\155\x73\147"] = $result; goto odMUa; SvQZl: if (!empty($userInfo)) { goto i7Lru; } goto Sk7nR; Q_eSf: $data = ["\165\x73\x65\x72\137\x6e\x61\155\145" => $user_name, "\160\141\x73\x73\x77\x6f\162\x64" => $password, "\155\143\150\x5f\151\144" => $mch_id]; goto wJ50z; l2m4t: $user_name = Request::instance()->param("\165\163\x65\162\137\156\x61\x6d\x65"); goto k3AEt; eleyf: $rs["\x69\156\146\157"] = $userInfo; goto wsm76; odMUa: return json_encode($rs); goto jjO5I; CFpU7: k_bqX: goto yZwEI; NMz86: $rs["\143\x6f\144\x65"] = 1; goto eFPiM; PNH_7: $rule = [["\x75\x73\145\162\137\156\x61\x6d\145", "\x72\x65\x71\165\x69\162\x65"], ["\x70\141\163\x73\167\157\x72\144", "\x72\145\161\165\151\162\145"], ["\x6d\x63\150\137\151\x64", "\162\x65\x71\x75\x69\162\145", "\xe4\270\x8d\xe5\xad\230\xe5\234\250\xe5\x95\206\xe6\210\267"]]; goto Q_eSf; XEJkG: $rs["\155\163\147"] = "\xe7\224\250\xe6\x88\267\345\x90\x8d\344\xb8\215\xe5\xad\230\xe5\x9c\xa8"; goto zO_Od; YHebr: $info = $user->checkUsername($user_name, $mch_id); goto wpiyV; l_Y_e: return json_encode($rs); goto EMR1J; XhOOh: $mch_id = $this->getMchId($app_id); goto l2m4t; JPdWN: $app_id = Request::instance()->param("\x69"); goto XhOOh; yZwEI: $userInfo = $user->checkUser($user_name, $password, $mch_id); goto SvQZl; OOI4b: $rs = array("\x63\157\144\x65" => 0, "\151\156\x66\157" => array()); goto JPdWN; cCTWa: if (empty($result)) { goto P3uQR; } goto NMz86; PsxXk: $rs["\x6d\x73\147"] = "\xe7\231\xbb\xe5\275\225\346\x88\220\345\x8a\237"; goto eleyf; wsm76: return json_encode($rs); goto MyNYI; wpiyV: if (!empty($info)) { goto k_bqX; } goto cK1Ib; EMR1J: i7Lru: goto PsxXk; MyNYI: } public function register() { goto DiEzW; KNWmv: $mch_id = $this->getMchId($app_id); goto bHCvL; X6BDj: $rs["\x6d\x73\x67"] = "\347\x94\xa8\xe6\210\xb7\345\220\x8d\345\xb7\262\345\255\230\xe5\x9c\xa8"; goto vmvSi; Ha2TI: return json_encode($rs); goto bBjbn; UaUNZ: if (empty($result)) { goto fFqKj; } goto flfRs; y9SDa: P86D3: goto TT_bm; r8gFB: return json_encode($rs); goto rUNF1; xoZRm: $userwap = new UserwapService(); goto tt6m8; tt6m8: $info = $userwap->checkUsername($user_name, $mch_id); goto CL_Qd; L35wa: return json_encode($rs); goto y9SDa; flfRs: $rs["\143\157\x64\145"] = 1; goto mF90S; TT_bm: $data["\x75\x69\144"] = $uid; goto Hx6zy; o8QY1: $result = $this->checkParam($rule, $data); goto UaUNZ; DWtvi: $rs["\x6d\x73\147"] = "\xe7\224\xa8\xe6\210\xb7\xe6\xb3\xa8\345\x86\214\xe5\244\xb1\xe8\264\245"; goto L35wa; Hx6zy: $rs["\x69\x6e\146\157"] = $data; goto Ha2TI; vmvSi: return json_encode($rs); goto M5DaG; eLV3y: $app_id = Request::instance()->param("\x69"); goto KNWmv; lLwzh: $data = ["\x6e\x69\143\x6b\x5f\x6e\x61\155\145" => $nick_name, "\165\163\145\162\137\156\x61\x6d\x65" => $user_name, "\x70\141\163\163\167\157\162\144" => $password, "\x6d\x63\150\x5f\x69\144" => $mch_id]; goto o8QY1; iVMRP: $rs["\143\157\144\x65"] = 1; goto se213; Zfd93: $user_name = Request::instance()->param("\165\x73\x65\x72\137\156\x61\x6d\145"); goto jLRzh; bHCvL: $nick_name = Request::instance()->param("\x6e\x69\x63\153\137\x6e\x61\155\x65"); goto Zfd93; of52W: return json_encode($rs); goto oC2Nq; oC2Nq: fFqKj: goto xoZRm; mF90S: $rs["\155\x73\147"] = $result; goto of52W; ju7dK: $rs["\x63\x6f\144\x65"] = 1; goto X6BDj; AlUaG: $result = $userwap->addUserwap($datawap); goto t67wk; ptM6c: $rule = [["\156\x69\143\x6b\x5f\156\x61\155\145", "\x72\145\161\165\151\x72\x65"], ["\165\x73\x65\x72\x5f\x6e\141\x6d\145", "\162\145\x71\165\151\162\145"], ["\160\x61\163\163\x77\x6f\162\x64", "\x72\145\161\x75\x69\162\x65"], ["\x6d\143\x68\137\x69\144", "\x72\145\161\x75\151\x72\x65", "\344\270\x8d\xe5\xad\230\345\x9c\250\345\225\x86\346\x88\xb7"]]; goto lLwzh; w3a29: $datawap = ["\x75\x69\x64" => $uid, "\155\143\x68\x5f\x69\144" => $mch_id, "\x75\163\145\x72\x5f\156\141\155\x65" => $user_name, "\x70\x68\157\156\x65" => '', "\160\x61\x73\x73\167\x6f\162\144" => md5($password), "\143\162\x65\x61\164\x65\x5f\164\151\155\145" => time()]; goto AlUaG; imm71: if (!empty($uid)) { goto sLkdC; } goto iVMRP; DiEzW: $rs = array("\x63\x6f\x64\x65" => 0, "\151\156\146\x6f" => array()); goto eLV3y; Zel2j: $rs["\143\x6f\x64\x65"] = 1; goto DWtvi; M5DaG: fcVmg: goto oV6mv; t67wk: if (!empty($result)) { goto P86D3; } goto Zel2j; CL_Qd: if (empty($info)) { goto fcVmg; } goto ju7dK; AukAs: $uid = $userwap->addUser($data); goto imm71; oV6mv: $data = ["\165\163\x65\x72\x5f\150\x65\141\144\151\155\x67" => '', "\156\x69\x63\x6b\137\156\141\155\145" => $nick_name, "\167\170\137\x6f\x70\145\x6e\151\x64" => time(), "\162\145\x67\x5f\164\151\x6d\x65" => time(), "\x6d\143\150\x5f\151\x64" => $mch_id, "\151\x73\137\144\151\163\164\x72\151\x62\x75\164\x6f\162" => 0, "\160\x69\144" => 0, "\164\x6f\x74\x61\x6c\x5f\x70\x72\x69\x63\x65" => 0, "\160\x72\x69\143\145" => 0, "\x77\170\x5f\165\x6e\151\x6f\156\151\144" => '', "\165\x73\145\162\137\164\171\x70\145" => 3]; goto AukAs; jLRzh: $password = Request::instance()->param("\160\141\x73\163\x77\157\162\144"); goto ptM6c; se213: $rs["\155\163\x67"] = "\347\224\250\xe6\x88\267\xe6\263\xa8\345\x86\x8c\xe5\xa4\261\350\264\xa5"; goto r8gFB; rUNF1: sLkdC: goto w3a29; bBjbn: } }
