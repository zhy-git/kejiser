<?php
 namespace app\api\controller; use think\Request; use think\Db; use think\Cache; require_once BASE_ROOT . "\x63\x6f\x72\145\57\141\x70\x70\154\151\x63\x61\x74\151\157\x6e\57\141\x70\x69\x2f\143\157\x6e\164\162\x6f\x6c\154\145\162\x2f\x42\141\163\145\103\157\x6e\x74\x72\157\x6c\154\145\162\x2e\160\x68\x70"; class Product extends BaseController { public function productClass() { goto bBbko; q_nvy: $mch_id = $this->getMchId($app_id); goto BA3ub; Fbwu1: return json_encode($rs); goto goziq; ACG0I: $rs["\151\156\x66\157"] = $info; goto C0WPC; q566M: $result = $this->checkParam($rule, $data); goto aHeUw; BLu6u: $rule = [["\155\x63\150\x5f\x69\144", "\162\145\161\x75\x69\x72\x65", "\344\xb8\x8d\345\255\x98\xe5\234\250\xe5\x95\206\xe6\210\267"]]; goto q566M; RVjj1: $info = Cache::get($mch_id . "\137\x70\162\157\x64\165\143\x74\x5f\143\x6c\x61\x73\163"); goto T9iII; PdD4h: $info = array(); goto oQN_M; goziq: rRAxj: goto RVjj1; myiMB: sy2jh: goto fNBTY; HDPyK: $rs["\151\x6e\x66\157"] = $info; goto bbSto; C0WPC: return json_encode($rs); goto E1fHV; J0xNn: foreach ($cate_list as $value) { $info[] = $value; sDhr0: } goto myiMB; aHeUw: if (empty($result)) { goto rRAxj; } goto O2myD; bbSto: json_encode($rs); goto cNc1K; k4MvM: $app_id = Request::instance()->param("\151"); goto q_nvy; T9iII: if (!($info != false)) { goto wuDwq; } goto HDPyK; fNBTY: Cache::set($mch_id . "\x5f\160\162\157\144\x75\x63\164\x5f\x63\154\141\163\x73", $rs, CACHE_TIME); goto ACG0I; BA3ub: $data = ["\x6d\x63\150\x5f\x69\x64" => $mch_id]; goto BLu6u; oQN_M: $cate_list = Db::name("\171\x62\x73\x63\x5f\160\162\x6f\x64\165\x63\x74\137\143\154\x61\x73\163")->where("\x6d\143\150\x5f\x69\x64", $mch_id)->order("\x73\x6f\162\164\x20\x61\163\143")->select(); goto J0xNn; cNc1K: wuDwq: goto PdD4h; EdlBf: $rs["\x6d\163\147"] = $result; goto Fbwu1; O2myD: $rs["\x63\x6f\x64\145"] = 1; goto EdlBf; bBbko: $rs = array("\x63\x6f\144\x65" => 0, "\x69\156\x66\157" => array()); goto k4MvM; E1fHV: } public function product_list() { goto IJtl4; Cf9s3: $data = ["\155\x63\x68\x5f\151\x64" => $mch_id, "\x63\x6c\141\x73\163\137\151\144" => $class_id]; goto WBQ1O; w37Hi: return json_encode($rs); goto LLtdq; mau9u: return json_encode($rs); goto prUif; LLtdq: CmG39: goto ydRd5; IpHzd: $rs["\155\x73\147"] = $result; goto TkBEo; ydRd5: $rs["\x69\x6e\x66\x6f"] = $info; goto mau9u; tT2qr: if (empty($result)) { goto Bklg0; } goto B66CD; MT02t: $where["\163\x74\141\x74\x75\163"] = 1; goto Wddmt; uCecQ: $app_id = Request::instance()->param("\151"); goto iwqSg; IioJ2: $class_id = Request::instance()->param("\x63\154\x61\163\163\x5f\x69\x64", 0); goto uCecQ; iwqSg: $page = Request::instance()->param("\160\141\x67\x65", 1); goto ic4W2; WBQ1O: $data = array_filter($data); goto j5Eyr; Wddmt: if (!($class_id > 0)) { goto dgdBO; } goto gmkEZ; TkBEo: return json_encode($rs); goto jaf80; B66CD: $rs["\143\x6f\144\x65"] = 1; goto IpHzd; jaf80: Bklg0: goto tTUbL; kCzfD: if (!empty($info)) { goto CmG39; } goto w37Hi; OWqiC: $info = Db::name("\171\142\163\x63\x5f\x70\x72\x6f\x64\165\143\x74")->where($where)->order("\163\157\162\x74\40\141\163\143")->field("\x69\144\54\x74\x69\x74\x6c\145\54\143\154\141\163\163\x5f\151\144\54\151\155\141\x67\x65")->order("\163\157\x72\164\40\141\x73\x63")->page($page, 20)->select(); goto kCzfD; tTUbL: $where["\155\143\x68\137\x69\144"] = $mch_id; goto MT02t; j5Eyr: $rule = [["\x6d\x63\x68\137\x69\144", "\162\145\x71\165\x69\162\145", "\344\xb8\215\345\255\230\345\234\250\345\225\206\346\210\xb7"]]; goto biRBr; IJtl4: $rs = array("\143\157\144\145" => 0, "\x69\156\146\157" => array()); goto IioJ2; ic4W2: $mch_id = $this->getMchId($app_id); goto Cf9s3; gmkEZ: $where["\143\154\141\x73\163\137\x69\144"] = $class_id; goto Tx16g; Tx16g: dgdBO: goto OWqiC; biRBr: $result = $this->checkParam($rule, $data); goto tT2qr; prUif: } public function product_info() { goto I5NiP; Znru_: $app_id = Request::instance()->param("\x69"); goto JNfgH; NMO4y: return json_encode($rs); goto lwsa_; P1ync: GugSz: goto kFGfh; aHR3H: $info = Db::name("\171\142\x73\143\137\x70\162\157\x64\165\x63\x74")->where(["\151\x64" => $id, "\155\x63\150\137\x69\144" => $mch_id])->find(); goto uTV64; voTEw: $id = Request::instance()->param("\151\144"); goto aHR3H; kFGfh: $rs["\151\156\x66\157"] = $info; goto NMO4y; WUM_2: $rs["\155\x73\x67"] = "\346\x9a\202\346\x97\240\346\x96\x87\347\253\xa0"; goto K0McM; JNfgH: $mch_id = $this->getMchId($app_id); goto voTEw; I5NiP: $rs = array("\x63\x6f\144\145" => 0, "\x69\x6e\x66\157" => array()); goto Znru_; uTV64: if (!empty($info)) { goto GugSz; } goto WUM_2; K0McM: return json_encode($rs); goto P1ync; lwsa_: } }
