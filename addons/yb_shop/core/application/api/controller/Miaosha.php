<?php
 namespace app\api\controller; require_once BASE_ROOT . "\x63\x6f\x72\x65\57\x61\x70\x70\154\151\143\x61\164\151\157\156\x2f\141\160\151\x2f\143\x6f\x6e\x74\162\157\x6c\154\145\162\x2f\102\141\x73\x65\103\x6f\x6e\x74\x72\x6f\x6c\x6c\145\x72\56\x70\150\x70"; use think\Request; use think\Db; use think\Cache; use think\log; use app\api\service\MiaoshaService; class Miaosha extends BaseController { public function msGoodsList() { goto Akpcb; jpUeP: return json_encode($rs); goto ub0lf; nHa2V: $rs["\x6d\x73\x67"] = $result; goto jpUeP; HQK2_: $info = $bargain->get_msGoodsList($data, $page, $type); goto OK_fU; QEPTU: $data = ["\x6d\143\150\137\151\144" => $mch_id]; goto JnsYe; mdcG7: $type = Request::instance()->param("\155\163\x5f\x74\x79\x70\145", 1); goto QEPTU; JnsYe: $rule = [["\x6d\143\150\137\151\x64", "\x72\145\x71\165\151\x72\145", "\344\270\215\345\255\x98\345\234\250\xe5\272\x94\347\224\250"]]; goto onP5_; Akpcb: $rs = array("\143\157\x64\x65" => 0, "\x69\156\146\x6f" => array()); goto QjMEo; oKdW5: if (empty($result)) { goto rhRbs; } goto ukUW4; ub0lf: rhRbs: goto ucRuN; onP5_: $result = $this->checkParam($rule, $data); goto oKdW5; OK_fU: $rs["\151\x6e\146\157"] = $info; goto f5ORl; LTFSV: $page = Request::instance()->param("\160\141\147\x65", 1); goto mdcG7; OBV4C: $mch_id = $this->getMchId($app_id); goto LTFSV; f5ORl: return json_encode($rs); goto g3N2O; QjMEo: $app_id = Request::instance()->param("\x69"); goto OBV4C; ukUW4: $rs["\x63\157\144\145"] = 1; goto nHa2V; ucRuN: $bargain = new MiaoshaService(); goto HQK2_; g3N2O: } public function msGoodsmodel() { goto NF28B; w3ok_: $result = $this->checkParam($rule, $data); goto m91Te; RYSM9: kl_hk: goto EwxJu; FBy3A: return json_encode($rs); goto RYSM9; NF28B: $rs = array("\143\157\144\145" => 0, "\151\x6e\146\x6f" => array()); goto Y4K4o; v3N4G: $info = $bargain->get_msGoodsmodel($data); goto rmYbx; MDGT6: $ids = Request::instance()->param("\151\x64\163", 0); goto cyj2r; m91Te: if (empty($result)) { goto kl_hk; } goto kdKxW; Z1dgn: $mch_id = $this->getMchId($app_id); goto MDGT6; rmYbx: $rs["\151\156\146\x6f"] = $info; goto jHCxW; cyj2r: $data = ["\155\143\150\x5f\151\x64" => $mch_id]; goto euiWc; CyFIE: $rs["\155\163\147"] = $result; goto FBy3A; kdKxW: $rs["\143\157\144\x65"] = 1; goto CyFIE; l2f2a: $bargain = new MiaoshaService(); goto v3N4G; Y4K4o: $app_id = Request::instance()->param("\x69"); goto Z1dgn; euiWc: $rule = [["\x6d\x63\x68\137\151\144", "\162\x65\161\x75\151\x72\x65", "\xe4\270\x8d\xe5\255\x98\xe5\x9c\250\xe5\xba\x94\xe7\224\xa8"]]; goto w3ok_; EwxJu: $data["\x69\144"] = ["\x69\x6e", $ids]; goto l2f2a; jHCxW: return json_encode($rs); goto FmiNk; FmiNk: } public function msGoodsDetail() { goto qy9Kr; yRJPU: $bargain = new MiaoshaService(); goto L7MA7; LYqig: $data = ["\x6d\143\x68\137\x69\144" => $mch_id, "\151\144" => Request::instance()->param("\x69\144")]; goto eD4SM; Jv3gv: $result = $this->checkParam($rule, $data); goto QaNc3; QaNc3: if (empty($result)) { goto jM4se; } goto SvKxE; fy21J: $mch_id = $this->getMchId($app_id); goto LYqig; jePn9: if (!empty($info)) { goto i40Sr; } goto exV2G; r05Bs: $rs["\x6d\163\x67"] = "\xe8\257\xa5\347\247\x92\346\x9d\x80\345\x95\x86\345\x93\201\344\xb8\x8d\345\xad\x98\xe5\x9c\250\xe6\x88\226\xe5\xb7\xb2\350\xa2\253\345\x81\234\xe7\x94\250"; goto sFYcQ; wYWqV: return json_encode($rs); goto JUC6K; n7HB0: $rs["\x69\156\146\157"] = $info; goto wYWqV; KEcMT: jM4se: goto yRJPU; l_njb: $app_id = Request::instance()->param("\151"); goto fy21J; SvKxE: $rs["\143\157\x64\145"] = 1; goto TRQWR; qy9Kr: $rs = array("\143\x6f\x64\x65" => 0, "\151\156\146\157" => array()); goto l_njb; sFYcQ: return json_encode($data); goto x0Pwo; TRQWR: $rs["\155\163\x67"] = $result; goto sqz3m; sqz3m: return json_encode($rs); goto KEcMT; L7MA7: $info = $bargain->get_msGoodsDetail($data); goto jePn9; x0Pwo: i40Sr: goto n7HB0; eD4SM: $rule = [["\155\x63\150\x5f\x69\x64", "\162\x65\161\165\151\162\x65", "\xe4\270\x8d\345\255\x98\xe5\234\250\345\272\224\347\x94\250"], ["\x69\144", "\162\x65\x71\x75\151\162\x65"]]; goto Jv3gv; exV2G: $rs["\x63\157\144\x65"] = 1; goto r05Bs; JUC6K: } public function CreateOrder() { goto cNUCd; xEMgJ: if (empty($result)) { goto qmRGi; } goto wxPR9; CQOHT: $rs["\x6d\163\x67"] = "\xe8\257\245\345\225\x86\345\x93\201\345\xb7\xb2\xe8\242\xab\xe6\x8a\xa2\350\xb4\255\xe7\251\xba"; goto LTm4o; ZeE4U: cqiGl: goto BTlra; SYlhP: $count = $order->checkmsOrder($data["\x62\165\171\145\162\x5f\151\144"], $data["\142\141\x72\147\x61\x69\156\137\x69\144"]); goto tiy7s; ZICBp: $rs["\x63\x6f\144\x65"] = 1; goto N8Flo; BTlra: $rs["\151\x6e\146\x6f"] = $info; goto COCWo; llhxi: $rule = [["\x62\x75\171\x65\162\x5f\x69\144", "\162\x65\x71\x75\x69\x72\145\174\x6e\165\155\x62\x65\x72"], ["\165\x73\x65\162\137\x6e\x61\155\x65", "\x72\x65\161\165\151\162\145"], ["\162\145\x63\x65\x69\x76\145\x72\137\x6d\157\142\151\154\145", "\x72\x65\x71\165\151\x72\145\x7c\156\165\x6d\142\145\x72\174\x6c\145\x6e\x67\x74\x68\x3a\x31\61"], ["\162\x65\x63\x65\151\x76\145\x72\137\156\x61\155\x65", "\162\145\x71\165\x69\x72\145"], ["\157\162\x64\145\x72\137\x6d\157\x6e\145\171", "\162\x65\x71\165\x69\x72\x65\x7c\x6e\x75\155\142\x65\162"], ["\x70\141\x79\137\155\157\x6e\x65\171", "\162\x65\161\165\x69\162\145\174\156\165\155\x62\145\x72"], ["\164\x6f\x74\x61\154", "\162\x65\161\165\151\162\145"], ["\x62\x61\x72\x67\x61\151\x6e\x5f\151\x64", "\x72\x65\161\x75\x69\162\x65\174\x6e\165\x6d\142\x65\162"], ["\x6d\141\151\x6c\x69\156\147\137\164\171\x70\145", "\162\145\x71\165\x69\162\x65"]]; goto lKowO; JXAhz: $order = new MiaoshaService(); goto SYlhP; msF4T: p_k5L: goto T1pUD; te4Fy: $rs["\143\157\x64\145"] = 1; goto CQOHT; rraSm: if (!empty($info)) { goto cqiGl; } goto HxRTZ; N8Flo: $rs["\x6d\x73\x67"] = "\xe7\224\237\346\210\220\350\xae\242\xe5\x8d\225\xe5\xa4\261\350\264\xa5"; goto YSxNg; wxPR9: $rs["\143\x6f\144\145"] = 1; goto pOdoN; hA6O5: TY0vj: goto llhxi; T1pUD: if (!($count == -1)) { goto qyTxC; } goto te4Fy; kuVfG: qyTxC: goto e2Dok; VO6sx: qmRGi: goto JXAhz; HxRTZ: Log::write("\347\x94\x9f\346\210\x90\xe8\256\242\345\215\x95\345\244\261\350\xb4\245\40\x2d\55" . $data["\142\x75\171\x65\162\x5f\151\x64"]); goto ZICBp; cNUCd: $rs = array("\x63\157\x64\x65" => 0, "\151\x6e\x66\x6f" => array()); goto e0fzr; e0fzr: $app_id = Request::instance()->param("\x69"); goto baP6z; tiy7s: if (!($count > 0)) { goto p_k5L; } goto Mt17B; Rm3kx: return json_encode($rs); goto msF4T; YIpa5: $data = ["\x6f\162\x64\x65\x72\x5f\156\x6f" => $this->createOrderNo(), "\157\165\x74\137\164\x72\x61\x64\x65\x5f\156\x6f" => $this->createOutTradeNo(), "\160\x61\x79\x5f\164\x79\x70\145" => Request::instance()->param("\160\x61\171\x5f\164\171\160\145", "\x31"), "\163\150\x69\x70\160\x69\x6e\x67\x5f\x74\171\x70\145" => Request::instance()->param("\x73\x68\151\x70\160\x69\x6e\x67\137\x74\171\160\145", "\61"), "\163\x68\x69\x70\160\151\156\147\x5f\155\157\156\x65\171" => Request::instance()->param("\x73\150\151\160\x70\151\x6e\x67\x5f\x6d\157\x6e\145\171", 0), "\163\150\x69\160\x70\x69\156\x67\x5f\x63\x6f\155\x70\141\x6e\171\x5f\x69\144" => Request::instance()->param("\x73\150\151\160\x70\x69\x6e\147\x5f\x63\x6f\x6d\160\x61\156\x79\x5f\151\x64", 0), "\x62\165\x79\x65\x72\137\155\x65\x73\163\141\x67\145" => Request::instance()->param("\142\x75\171\x65\x72\x5f\x6d\x65\x73\x73\141\147\145", ''), "\x72\x65\x63\145\151\166\145\162\x5f\x7a\151\160" => Request::instance()->param("\162\145\143\x65\151\166\145\x72\x5f\172\151\x70"), "\141\x63\x74\x69\x76\151\x74\171\137\x6f\x72\x64\145\162\137\x74\171\x70\x65" => Request::instance()->param("\x61\x63\x74\x69\166\151\164\x79\137\157\x72\144\145\x72\137\164\x79\160\145", "\x30"), "\x63\x72\145\x61\164\145\x5f\x74\151\155\145" => time(), "\x62\141\162\147\x61\151\x6e\137\151\144" => Request::instance()->param("\x62\141\162\147\x61\x69\x6e\x5f\151\144"), "\x62\x75\x79\x65\x72\137\151\x64" => Request::instance()->param("\x62\x75\171\145\x72\x5f\x69\x64"), "\x75\x73\145\x72\x5f\x6e\141\155\x65" => Request::instance()->param("\x75\163\x65\x72\x5f\x6e\141\x6d\145"), "\162\145\143\145\151\166\x65\162\137\x6d\x6f\142\x69\x6c\x65" => Request::instance()->param("\160\x68\x6f\156\x65"), "\x72\x65\x63\x65\x69\x76\x65\x72\137\141\x72\145\141" => Request::instance()->param("\141\x72\145\x61", 0), "\x72\x65\143\x65\x69\166\x65\162\137\x61\144\144\162\x65\163\x73" => Request::instance()->param("\x61\x64\144\162\x65\x73\x73", "\xe6\x97\xa0"), "\x72\145\x63\145\x69\166\x65\x72\x5f\156\141\x6d\145" => Request::instance()->param("\x63\x6f\156\x73\151\147\x6e\x65\x72"), "\x6f\162\x64\x65\162\137\x6d\157\156\x65\171" => Request::instance()->param("\x6f\x72\144\x65\x72\137\x6d\157\156\x65\x79"), "\x70\x61\171\137\x6d\157\x6e\x65\171" => Request::instance()->param("\x70\141\x79\x5f\x6d\157\x6e\145\171"), "\x74\157\164\141\154" => Request::instance()->param("\x74\x6f\164\x61\154"), "\155\x63\x68\x5f\x69\x64" => $mch_id, "\155\141\x69\x6c\x69\x6e\x67\x5f\x74\x79\x70\145" => Request::instance()->param("\x6d\x61\151\x6c\151\x6e\147\137\x74\171\x70\x65", 1), "\155\x65\156\x74\151\157\x6e\137\164\151\x6d\145" => Request::instance()->param("\x6d\145\156\x74\151\157\x6e\137\x74\x69\x6d\145", 0)]; goto Cr4Ly; a9pGE: return json_encode($rs); goto VO6sx; COCWo: return json_encode($rs); goto Hucgn; pOdoN: $rs["\155\163\147"] = $result; goto a9pGE; YSxNg: return json_encode($rs); goto ZeE4U; Cr4Ly: if (!$data['']) { goto TY0vj; } goto hA6O5; wcfUJ: $rs["\x6d\163\147"] = "\346\202\250\345\217\x82\344\270\x8e\xe6\xb4\xbb\345\212\xa8\347\232\204\346\xac\xa1\346\225\xb0\345\xb7\xb2\350\276\xbe\xe4\270\212\351\x99\x90"; goto Rm3kx; e2Dok: $info = $order->createOrder($data); goto rraSm; baP6z: $mch_id = $this->getMchId($app_id); goto YIpa5; lKowO: $result = $this->checkParam($rule, $data); goto xEMgJ; LTm4o: return json_encode($rs); goto kuVfG; Mt17B: $rs["\143\157\x64\x65"] = 1; goto wcfUJ; Hucgn: } public function OrderList() { goto BHQcy; WLbyM: goto xiGOr; goto qA3Jm; ytlgr: $info = $order->orderList($data, $page); goto iqQOl; rW9DB: $app_id = Request::instance()->param("\x69"); goto rrd2l; SD0tA: if ($status == 4) { goto w3MLU; } goto Fyt7P; EqlGc: JmbX7: goto W8w8G; mGB86: $data = ["\x62\x75\171\145\162\x5f\x69\144" => $uid, "\x6d\x63\x68\x5f\x69\144" => $mch_id]; goto D4pSA; Fyt7P: $data["\157\162\144\145\162\x5f\x73\x74\x61\x74\165\163"] = $status; goto WLbyM; vsgBa: if ($status != null) { goto IAZZU; } goto kp5pM; R4rv6: $rs["\x63\x6f\x64\x65"] = 1; goto bnVTI; CVAvN: IAZZU: goto SD0tA; W1xZh: goto JmbX7; goto CVAvN; tUq6j: $uid = Request::instance()->param("\x75\151\144"); goto LJjFS; RmIrm: DW3sL: goto RMwJ6; kp5pM: $data["\x6f\x72\x64\x65\x72\137\163\164\141\164\165\163"] = ["\74\x3e", "\55\x31"]; goto W1xZh; D4pSA: $rule = [["\x6d\x63\x68\137\151\x64", "\x72\145\x71\165\x69\162\x65", "\344\270\215\345\xad\230\xe5\234\xa8\xe5\272\x94\xe7\224\xa8"], ["\142\165\171\x65\162\x5f\x69\x64", "\x72\145\161\x75\x69\162\145", "\165\151\x64\344\270\x8d\350\203\xbd\344\xb8\xba\347\251\xba"]]; goto vsgBa; W8w8G: $result = $this->checkParam($rule, $data); goto aNL8o; SM4bb: return json_encode($rs); goto SkDWP; aF6pG: $page = Request::instance()->param("\160\x61\x67\145", 1); goto rW9DB; iqQOl: $rs["\151\x6e\x66\157"] = $info; goto SM4bb; aNL8o: if (empty($result)) { goto DW3sL; } goto R4rv6; LJjFS: $status = Request::instance()->param("\x73\164\x61\164\165\163", null); goto aF6pG; rrd2l: $mch_id = $this->getMchId($app_id); goto mGB86; Xdrq7: return json_encode($rs); goto RmIrm; bnVTI: $rs["\155\x73\147"] = $result; goto Xdrq7; RMwJ6: $order = new MiaoshaService(); goto ytlgr; qA3Jm: w3MLU: goto jVUEJ; BHQcy: $rs = array("\143\x6f\x64\x65" => 0, "\151\x6e\x66\157" => array()); goto tUq6j; jVUEJ: $data["\157\162\144\x65\x72\137\163\164\x61\x74\x75\x73"] = ["\151\156", [4, 5]]; goto qFfIK; qFfIK: xiGOr: goto EqlGc; SkDWP: } public function GetOrder() { goto K08oD; pRULO: $rs["\143\x6f\x64\145"] = 1; goto ZzL7S; tT7zC: rWGRz: goto S8hRm; S8hRm: $order = new MiaoshaService(); goto hQync; hQync: $info = $order->getOrder($data); goto SqtiU; Jotww: return json_encode($rs); goto IK3p7; SqtiU: $rs["\x69\x6e\146\157"] = $info; goto Jotww; Es_iG: $rule = [["\x62\x75\x79\x65\162\137\x69\x64", "\x72\x65\x71\x75\x69\x72\x65", "\165\x69\x64\344\270\215\xe8\203\xbd\xe4\270\xba\347\xa9\272"]]; goto u02mk; KMROQ: if (empty($result)) { goto rWGRz; } goto pRULO; K08oD: $rs = array("\x63\x6f\144\x65" => 0, "\x69\x6e\x66\157" => array()); goto Es_iG; ZzL7S: $rs["\155\163\147"] = $result; goto jY8sB; jY8sB: return json_encode($rs); goto tT7zC; vEbZe: $result = $this->checkParam($rule, $data); goto KMROQ; u02mk: $data = ["\142\x75\171\145\162\x5f\151\x64" => Request::instance()->param("\x62\165\x79\x65\x72\137\151\144"), "\x6f\x72\144\145\162\137\x69\x64" => Request::instance()->param("\x6f\x72\x64\145\x72\137\151\x64")]; goto vEbZe; IK3p7: } public function SignOrder() { goto wd6V3; Kbi5O: $result = $this->checkParam($rule, $data); goto nGZw5; wGSIR: return json_encode($rs); goto vdBdI; d6brx: $rule = [["\x62\165\171\x65\x72\137\x69\x64", "\x72\x65\x71\165\151\162\x65"], ["\x6f\162\144\x65\162\137\x69\x64", "\162\x65\x71\165\151\x72\145"]]; goto LBZRs; ODM9q: $info = $order->signOrder($data); goto XjAWr; KC9x7: $rs["\x63\157\x64\x65"] = 1; goto zcdTF; FrnNM: return json_encode($rs); goto YYHf5; wd6V3: $rs = array("\x63\157\144\x65" => 0, "\151\156\x66\x6f" => array()); goto d6brx; XjAWr: $rs["\151\156\146\157"] = $info; goto FrnNM; vdBdI: OfBW4: goto IAMu_; IAMu_: $order = new MiaoshaService(); goto ODM9q; zcdTF: $rs["\x6d\163\x67"] = $result; goto wGSIR; nGZw5: if (empty($result)) { goto OfBW4; } goto KC9x7; LBZRs: $data = ["\142\x75\171\145\162\x5f\x69\144" => Request::instance()->param("\x62\x75\x79\145\162\137\x69\x64"), "\157\x72\144\x65\162\x5f\x69\x64" => Request::instance()->param("\x6f\162\x64\x65\x72\x5f\x69\x64"), "\157\162\144\x65\x72\137\163\x74\x61\164\165\x73" => 2]; goto Kbi5O; YYHf5: } public function CancelOrder() { goto SqIPz; zT3bH: $info = $order->cancelOrder($data); goto hvRAP; VgwXP: $rs["\143\157\144\x65"] = 1; goto Tp3Ze; ZaQOG: $rs["\151\156\146\x6f"] = $info; goto lZLzY; yRema: xQCW4: goto J7rxg; DJjxV: $data = ["\x62\165\171\x65\162\137\x69\144" => Request::instance()->param("\142\165\171\x65\162\137\151\144"), "\x6f\x72\144\145\x72\x5f\x69\x64" => Request::instance()->param("\x6f\x72\x64\145\x72\137\151\x64"), "\x6f\162\x64\145\162\137\x73\164\x61\x74\x75\x73" => 0]; goto dFv0Q; dFv0Q: $result = $this->checkParam($rule, $data); goto QHclH; qgsi6: gLTh3: goto ZaQOG; QHclH: if (empty($result)) { goto xQCW4; } goto tKmub; J7rxg: $order = new MiaoshaService(); goto zT3bH; YdNO5: return json_encode($rs); goto yRema; BP9Rh: return json_encode($rs); goto qgsi6; SqIPz: $rs = array("\143\x6f\x64\145" => 0, "\151\156\146\157" => array()); goto L4mZE; Tp3Ze: $rs["\x6d\163\147"] = "\350\xae\xa2\345\x8d\x95\xe5\x8f\x96\xe6\xb6\210\xe5\xa4\xb1\350\264\xa5"; goto BP9Rh; L4mZE: $rule = [["\x62\165\171\145\x72\137\x69\144", "\x72\x65\161\x75\151\x72\145"], ["\x6f\162\x64\x65\162\x5f\151\x64", "\162\145\x71\x75\x69\162\145"]]; goto DJjxV; LBIvp: $rs["\155\163\147"] = $result; goto YdNO5; hvRAP: if (!empty($info)) { goto gLTh3; } goto VgwXP; lZLzY: return json_encode($rs); goto caKSQ; tKmub: $rs["\x63\157\144\145"] = 1; goto LBIvp; caKSQ: } public function DelOrder() { goto rFx1S; gUV7V: $order = new MiaoshaService(); goto v6oMe; AI_B1: if (!empty($info)) { goto kBy5E; } goto JV9cA; fTFDN: kBy5E: goto vkUfb; oMkJw: $result = $this->checkParam($rule, $data); goto CtQbM; vkUfb: $rs["\151\x6e\x66\157"] = $info; goto JnTtO; JV9cA: $rs["\x63\x6f\144\145"] = 1; goto Cbs0Q; CtQbM: if (empty($result)) { goto Oalhx; } goto Hi1V4; JnTtO: return json_encode($rs); goto JKfUE; Oj_cC: $data = ["\x62\x75\171\x65\x72\x5f\151\x64" => Request::instance()->param("\142\165\x79\145\162\x5f\151\x64"), "\x6f\162\144\145\162\x5f\x69\x64" => Request::instance()->param("\157\x72\144\x65\162\x5f\151\x64"), "\157\x72\x64\x65\162\x5f\x73\x74\x61\x74\165\x73" => ["\151\156", [0, -1, 3, 5]]]; goto oMkJw; ZUxyO: return json_encode($rs); goto fTFDN; jZ_uI: $rs["\155\163\x67"] = $result; goto bkVwp; IKopj: Oalhx: goto gUV7V; Cbs0Q: $rs["\x6d\x73\x67"] = "\350\xae\xa2\345\x8d\225\xe5\x88\240\351\231\244\345\xa4\261\350\264\245"; goto ZUxyO; Hi1V4: $rs["\x63\157\x64\145"] = 1; goto jZ_uI; ZPxVV: $rule = [["\x62\165\171\x65\x72\137\x69\144", "\x72\145\161\165\x69\162\145"], ["\x6f\x72\x64\145\x72\x5f\151\144", "\x72\145\161\x75\x69\x72\145"]]; goto Oj_cC; rFx1S: $rs = array("\x63\x6f\x64\x65" => 0, "\151\x6e\x66\157" => array()); goto ZPxVV; bkVwp: return json_encode($rs); goto IKopj; v6oMe: $info = $order->delOrder($data); goto AI_B1; JKfUE: } public function RefundOrder() { goto NjmC6; lq_qt: jdZGl: goto q8afR; lcvS6: vr3Iy: goto RYs9j; RYs9j: $rs["\x69\156\146\x6f"] = $info; goto zCt3V; t56Lo: $order = new MiaoshaService(); goto iln7r; F4MqC: $rs["\155\x73\x67"] = "\xe8\256\xa2\xe5\215\225\xe9\x80\x80\xe6\xac\276\xe5\244\261\350\264\xa5"; goto cuAeA; peQn8: if (!empty($info)) { goto vr3Iy; } goto OwchF; HwMTH: return json_encode($rs); goto lq_qt; mLxlG: $data = ["\x62\165\x79\145\162\137\x69\x64" => Request::instance()->param("\x62\x75\171\x65\x72\137\151\x64"), "\x6f\162\x64\145\162\137\151\144" => Request::instance()->param("\x6f\x72\x64\145\x72\137\x69\x64"), "\x6f\162\x64\145\162\137\163\x74\x61\x74\x75\163" => ["\x69\x6e", [1, 2, 3]]]; goto a9v5n; cuAeA: return json_encode($rs); goto lcvS6; lWt6m: $rule = [["\142\x75\x79\145\x72\137\x69\x64", "\162\x65\x71\x75\x69\x72\x65"], ["\x6f\162\x64\145\162\x5f\151\x64", "\162\145\x71\x75\151\162\145"]]; goto mLxlG; NjmC6: $rs = array("\143\157\144\x65" => 0, "\x69\x6e\x66\x6f" => array()); goto lWt6m; I5Qc3: if (empty($result)) { goto jdZGl; } goto oea8a; ix1_W: $rs["\x6d\x73\x67"] = $result; goto HwMTH; zCt3V: return json_encode($rs); goto ffZvh; q8afR: $apply_refund = Request::instance()->param("\141\160\x70\x6c\x79\137\162\x65\x66\165\x6e\144", ''); goto t56Lo; OwchF: $rs["\143\x6f\144\145"] = 1; goto F4MqC; iln7r: $info = $order->refundOrder($data, $apply_refund); goto peQn8; oea8a: $rs["\143\157\144\x65"] = 1; goto ix1_W; a9v5n: $result = $this->checkParam($rule, $data); goto I5Qc3; ffZvh: } public function OrderInfo() { goto mF7Cv; dFswg: $rs["\x6d\x73\147"] = $result; goto UKc1W; mF7Cv: $rs = array("\x63\157\x64\145" => 0, "\x69\x6e\146\x6f" => array()); goto jRikQ; jRikQ: $data = ["\x6f\162\144\145\162\137\151\x64" => Request::instance()->param("\x6f\162\x64\145\162\137\151\144")]; goto mHeYi; IEb_X: $rs["\x69\x6e\146\157"] = $info; goto Xyt11; SVWFA: return json_encode($rs); goto wo3zp; YdapE: $rs["\x63\157\x64\x65"] = 1; goto dFswg; UKc1W: return json_encode($rs); goto L0j2H; Xyt11: return json_encode($rs); goto ZQC5I; yVN16: $rs["\x6d\163\147"] = "\xe8\256\xa2\xe5\215\225\344\277\xa1\xe6\x81\xaf\344\xb8\272\xe7\xa9\272"; goto SVWFA; WWWyH: $info = $pay->orderInfo($data); goto Cv9ET; mHeYi: $rule = [["\x6f\162\144\145\x72\x5f\x69\144", "\162\145\x71\165\x69\162\x65"]]; goto ymNd9; ymNd9: $result = $this->checkParam($rule, $data); goto pObnD; L0j2H: NkcFU: goto o9J6j; wo3zp: kNsJl: goto IEb_X; NMC6L: $rs["\143\157\144\145"] = 1; goto yVN16; pObnD: if (empty($result)) { goto NkcFU; } goto YdapE; o9J6j: $pay = new MiaoshaService(); goto WWWyH; Cv9ET: if (!empty($info)) { goto kNsJl; } goto NMC6L; ZQC5I: } public function Pay() { goto rivVT; mXn9F: $rs["\x6d\x73\x67"] = $info["\x6d\x73\x67"]; goto jA6aM; GU47t: $mch_id = $this->getMchId($app_id); goto Copnm; MBzOF: $pay_info["\x70\141\171\123\x69\x67\156"] = $pay_info["\163\151\x67\156"]; goto EodPv; v1g8_: return json_encode($rs); goto wM2UK; ZQwjC: HlPd8: goto MBzOF; QnvwY: return json_encode($rs); goto ae8St; JhakF: $rs["\x63\157\144\145"] = 1; goto mXn9F; jA6aM: return json_encode($rs); goto CxDyC; oybRf: if (!($info["\x63\x6f\144\145"] == 1)) { goto t_hYx; } goto JhakF; mce2I: if (empty($result)) { goto b3go3; } goto p2S_n; EodPv: unset($pay_info["\x73\x69\147\x6e"]); goto gE1VX; rivVT: $rs = array("\143\x6f\144\x65" => 0, "\151\156\x66\x6f" => array()); goto vwiuX; UO7qA: $rule = [["\157\x75\x74\x5f\x74\162\x61\x64\x65\137\156\x6f", "\162\x65\161\x75\x69\162\x65"], ["\157\x70\x65\x6e\x69\144", "\162\x65\x71\165\151\162\x65"], ["\x6d\x63\150\137\151\x64", "\162\x65\x71\x75\x69\162\x65", "\xe4\270\215\xe5\xad\230\xe5\x9c\xa8\345\272\224\347\224\250"]]; goto UAHGg; gE1VX: $rs["\151\156\x66\x6f"] = $pay_info; goto QnvwY; UAHGg: $result = $this->checkParam($rule, $data); goto mce2I; wM2UK: b3go3: goto kB_Q2; JL6I5: $info = $pay->orderPay($data); goto oybRf; Copnm: $data = ["\157\x75\164\137\x74\162\141\144\145\x5f\x6e\x6f" => Request::instance()->param("\157\165\x74\137\x74\162\141\144\145\x5f\x6e\x6f"), "\x6f\x70\145\156\151\144" => Request::instance()->param("\157\x70\145\156\151\x64"), "\x6d\x63\150\x5f\151\144" => $mch_id]; goto UO7qA; kB_Q2: $pay = new MiaoshaService(); goto JL6I5; zlFiy: $pay_info = array(); goto brAoy; vwiuX: $app_id = Request::instance()->param("\x69"); goto GU47t; brAoy: foreach ($this->objectArray($info["\151\156\146\x6f"]) as $value) { $pay_info = $value; oNE3g: } goto ZQwjC; CxDyC: t_hYx: goto zlFiy; p2S_n: $rs["\x63\x6f\x64\x65"] = 1; goto BER06; BER06: $rs["\x6d\x73\x67"] = $result; goto v1g8_; ae8St: } public function Paywap() { goto dtJF5; cS22M: return json_encode($rs); goto jQd6o; dtJF5: $rs = array("\143\x6f\144\x65" => 0, "\151\x6e\146\157" => array()); goto lL7iI; cBebv: $pay = new MiaoshaService(); goto gvrsI; tPuS9: return json_encode($rs); goto WahaN; hFzMH: $mch_id = $this->getMchId($app_id); goto W515f; V7aZZ: $rs["\x63\x6f\x64\x65"] = 1; goto OMd0Y; IMgEi: $result = $this->checkParam($rule, $data); goto KN3r5; OMd0Y: $rs["\155\x73\x67"] = $pay_info["\x6d\163\147"]; goto iQvO2; Z6UWS: $rs["\x6d\163\x67"] = $result; goto tPuS9; gvrsI: $pay_info = $pay->orderPaywap($data); goto ISHhc; ISHhc: if (!($pay_info["\x63\157\144\145"] == 1)) { goto ChWXk; } goto V7aZZ; KN3r5: if (empty($result)) { goto vqfXX; } goto xbPMY; C2fyA: $rs["\151\156\x66\157"] = $pay_info; goto cS22M; BD0Aj: $rule = [["\x6f\x75\164\x5f\164\x72\x61\x64\x65\x5f\x6e\157", "\x72\x65\161\x75\x69\162\x65"], ["\155\x63\x68\137\x69\x64", "\x72\145\x71\x75\151\x72\145", "\344\xb8\x8d\345\255\230\xe5\234\250\345\272\224\xe7\224\xa8"]]; goto IMgEi; xbPMY: $rs["\x63\157\x64\145"] = 1; goto Z6UWS; lL7iI: $app_id = Request::instance()->param("\151"); goto hFzMH; W515f: $data = ["\x6f\x75\164\137\x74\162\141\x64\x65\137\x6e\157" => Request::instance()->param("\157\165\x74\137\x74\x72\141\144\x65\137\x6e\157"), "\155\x63\x68\x5f\x69\144" => $mch_id]; goto BD0Aj; v4g_e: ChWXk: goto C2fyA; iQvO2: return json_encode($rs); goto v4g_e; WahaN: vqfXX: goto cBebv; jQd6o: } }
