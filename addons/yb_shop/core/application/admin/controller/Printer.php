<?php
 namespace app\admin\controller; use think\Db; use app\admin\service\PrinterService; class Printer extends Base { public function index() { goto FUQXo; B9Aee: $this->assign("\x6c\151\x73\x74", $list); goto bW2Ne; bW2Ne: $this->assign("\x70\141\x67\145", $page); goto erwoW; Glckg: $type["\146\x65\151\x65"] = "\351\xa3\x9e\351\271\x85\346\x89\x93\xe5\x8d\260\xe6\234\xba"; goto z2tOb; FM6Wq: $page = $list->render(); goto B9Aee; FUQXo: $list = Db::name("\171\x62\x73\x63\137\x70\162\151\156\x74\145\162")->where(["\155\x63\x68\x5f\151\144" => $this->bus_id])->paginate(20); goto FM6Wq; HG4v8: $type["\171\151\154\151\141\x6e\x79\x75\x6e\55\153\x34"] = "\346\x98\x93\xe8\x81\x94\344\272\x91\357\xbc\x88\153\64\xef\274\211"; goto Glckg; z2tOb: $this->assign("\x74\171\x70\145", $type); goto l5W2r; erwoW: $type["\153\144\164\62"] = "\63\66\x35\xe4\272\x91\346\211\223\345\x8d\xb0\xef\xbc\x88\xe7\274\x96\xe5\x8f\xb7\x6b\x64\164\x32\357\274\x89"; goto HG4v8; l5W2r: return view(); goto SLZN6; SLZN6: } public function editprinter() { goto qCiDj; Wqc31: $info = array(); goto lE9Oz; hBh4z: $res = Db::name("\x79\142\x73\x63\137\160\x72\x69\156\x74\x65\x72")->where(["\x69\144" => $pid])->update($data); goto veknY; ves2N: goto TOO7R; goto UUnJE; Cwqs1: n2KYv: goto OgnHd; ECttR: $data["\x70\x72\151\156\x74\x65\162\x5f\x74\x79\160\145"] = request()->param("\160\x72\x69\x6e\x74\145\162\137\x74\x79\160\x65"); goto N4Wv1; hmaz2: $data["\155\143\150\x5f\151\x64"] = $this->bus_id; goto S_Aod; qCiDj: $pid = request()->param("\160\x69\x64", 0); goto ohyDn; zoNDo: $this->assign("\x6d\157\144\x65\154", $info); goto R2Rhg; N4Wv1: $data["\x70\x72\x69\x6e\x74\145\162\137\x73\145\164\164\151\x6e\x67"] = json_encode($_POST["\x70\x72\151\156\x74\145\x72\x5f\x73\x65\x74\164\151\x6e\x67"], true); goto hmaz2; FOCRC: $info = Db::name("\x79\142\x73\x63\x5f\x70\x72\x69\156\x74\145\162")->where(["\x69\x64" => $pid])->find(); goto Q4EOd; PPyHc: if ($pid > 0) { goto JIPMU; } goto rmEoX; ZP6xK: $dd["\143\x6f\144\x65"] = $res; goto uhuRv; ohyDn: if (!(request()->isAjax() && request()->post())) { goto Fv7lD; } goto dgEAL; R2Rhg: return view(); goto TUHnL; rmEoX: $res = Db::name("\x79\x62\x73\143\137\x70\162\151\x6e\164\145\x72")->insert($data); goto USjbE; veknY: $dd["\155\145\163\x73\141\147\x65"] = !empty($res) ? "\xe7\xbc\x96\350\276\x91\xe6\210\x90\xe5\x8a\237\41" : "\347\xbc\226\350\xbe\221\345\244\xb1\xe8\264\xa5\x21"; goto IL6d0; S_Aod: $data["\x61\144\144\164\x69\x6d\145"] = time(); goto zNwcL; m4sdV: unset($data["\155\x63\x68\137\151\144"]); goto hBh4z; dgEAL: $data["\156\x61\155\145"] = request()->param("\x6e\141\155\145"); goto ECttR; uhuRv: exit(json_encode($dd, true)); goto RqptO; UUnJE: JIPMU: goto m4sdV; lE9Oz: if (!($pid > 0)) { goto n2KYv; } goto FOCRC; RqptO: Fv7lD: goto Wqc31; zNwcL: $data["\x77\x68\145\x6e"] = json_encode($_POST["\x77\x68\145\x6e"], true); goto PPyHc; Q4EOd: $info["\x70\162\151\156\164\x65\x72\x5f\163\145\x74\164\x69\x6e\x67"] = json_decode($info["\160\x72\x69\x6e\x74\145\162\137\x73\x65\164\x74\151\x6e\x67"], true); goto plIc2; IL6d0: TOO7R: goto ZP6xK; OgnHd: $this->assign("\160\x69\x64", $pid); goto zoNDo; USjbE: $dd["\x6d\145\x73\163\141\147\145"] = !empty($res) ? "\xe6\xb7\273\xe5\212\xa0\xe6\x88\220\xe5\212\x9f\41" : "\346\xb7\xbb\xe5\212\240\xe5\xa4\xb1\350\xb4\245\x21"; goto ves2N; plIc2: $info["\x77\150\x65\156"] = json_decode($info["\167\x68\x65\156"], true); goto Cwqs1; TUHnL: } public function printer_del() { goto idKUd; NS16w: $dd["\x63\x6f\x64\145"] = $res; goto oLYI_; rAhVD: $pid = request()->param("\x70\151\144", 0); goto DtYw9; DtYw9: $res = Db::name("\x79\x62\163\143\x5f\160\162\x69\156\164\x65\x72")->where(["\151\x64" => $pid])->delete(); goto NS16w; oLYI_: exit(json_encode($dd, true)); goto Zz8g4; idKUd: if (!(request()->isAjax() && request()->post())) { goto n9PII; } goto rAhVD; Zz8g4: n9PII: goto CeUgT; CeUgT: } public function testprint() { goto Ma30p; Z6jF7: exit(json_decode(var_dump($res), true)); goto C2oh2; g5W11: $res = $pp->print_order(); goto Z6jF7; HML_l: $pp = new PrinterService(30, $order_id, "\x6f\162\144\x65\162", 0); goto g5W11; eZUTA: $order_id = request()->param("\x69\144", 30); goto HML_l; Ma30p: echo 1; goto eZUTA; C2oh2: } }
