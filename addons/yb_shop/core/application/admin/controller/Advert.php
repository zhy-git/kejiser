<?php
 namespace app\admin\controller; use app\admin\service\ConfigService; use app\admin\service\GoodsCate; use app\admin\service\AdvertService; use think\Db; class Advert extends Base { public function index() { goto qe10Z; tHYDg: return view("\x61\x64\x76\145\162\164\57\141\144\x76\145\162\164\137\x70\x6f\163\x69\164\151\x6f\156\137\x6c\151\163\164"); goto OyDlv; ILTAi: $SlideHeight = db::name("\171\x62\x73\143\x5f\143\157\x6e\x66\x69\x67")->where("\x6d\143\150\137\151\144", $this->bus_id)->where("\153\145\x79", "\123\114\111\x44\105\x48\105\x49\x47\x48\x54")->find(); goto Pjgpf; Pjgpf: $this->assign("\123\x6c\151\144\x65\x48\145\151\147\x68\164", $SlideHeight["\x76\141\154\x75\145"]); goto tHYDg; M1PM4: $page = $list->render(); goto Rmzr2; h2pCB: $list = $advert->getAdvert($condition, '', "\x73\157\x72\x74\x20\x64\145\163\x63"); goto M1PM4; VnMsI: $condition["\x6d\x6f\x64\137\x69\144"] = array("\x65\x71", 1); goto h2pCB; qe10Z: $advert = new AdvertService(); goto pQhEg; pQhEg: $condition["\155\143\150\x5f\x69\x64"] = array("\145\161", $this->bus_id); goto VnMsI; Rmzr2: $this->assign("\x6c\151\163\164", $list); goto mBQA_; mBQA_: $this->assign("\x70\x61\147\145", $page); goto ILTAi; OyDlv: } public function navigation() { goto pTYJJ; yrCf8: $this->assign("\154\151\x73\x74", $list); goto Dcu8v; pTYJJ: $advert = new AdvertService(); goto ynfGd; pO5Zl: $list = $advert->getAdvert($condition, '', "\x73\157\162\x74\40\144\x65\x73\x63"); goto LnZl1; Dcu8v: $this->assign("\160\141\147\x65", $page); goto rdWTH; ynfGd: $condition["\155\143\150\137\x69\144"] = array("\145\161", $this->bus_id); goto ll0EX; LnZl1: $page = $list->render(); goto yrCf8; ll0EX: $condition["\155\x6f\x64\x5f\151\x64"] = array("\x65\161", 2); goto pO5Zl; rdWTH: return view("\141\x64\166\145\x72\164\57\141\x64\166\145\162\x74\137\160\x6f\163\151\164\151\157\156\x5f\156\x61\x76\x69\147\141\164\151\157\x6e"); goto oiaR4; oiaR4: } public function advertising() { goto k4q2A; IJ0wU: $this->assign("\x6c\151\163\164", $list); goto YJgqn; YJgqn: $this->assign("\x70\141\x67\x65", $page); goto U6X1Q; iBFQf: $list = $advert->getAdvertPosition($condition, '', "\163\x6f\x72\164\x20\144\145\x73\x63"); goto qrXmQ; k4q2A: $advert = new AdvertService(); goto NcquV; Wn18J: ftwo8: goto q5WG9; qrXmQ: foreach ($list as $k => $v) { goto Ed5sM; Ed5sM: $condition["\141\160\x5f\x69\x64"] = array("\x3d", $v["\x61\160\x5f\x69\x64"]); goto VWgr_; mPT0a: $list[$k]["\x61\144\166\137\151\x6d\x67"] = $adv_list; goto T0MWM; VWgr_: $adv_list = $advert->getAdvertPosImg($condition, '', "\x73\157\162\164\x20\x64\145\x73\x63"); goto mPT0a; T0MWM: zMJD0: goto gXwZz; gXwZz: } goto Wn18J; q5WG9: $page = $list->render(); goto IJ0wU; U6X1Q: return view("\141\144\166\x65\x72\x74\57\x61\144\166\x65\162\164\x5f\x70\157\163\151\x74\151\157\156\x5f\141\144\x76\145\162\x74\151\163\151\x6e\x67"); goto OOVwN; NcquV: $condition["\x6d\143\x68\x5f\151\144"] = array("\x65\161", $this->bus_id); goto iBFQf; OOVwN: } public function add_height() { goto REOxb; Y4Tjl: $config = new ConfigService(); goto vNQoq; REOxb: $info = isset($_POST["\151\156\x66\157"]) ? $_POST["\151\x6e\x66\157"] : 0; goto Y4Tjl; sD_db: return AjaxReturn($res); goto wuVCj; vNQoq: $res = $config->addHeight($info, $this->bus_id); goto sD_db; wuVCj: } public function AdvertPositionSort() { goto bCZ22; bCZ22: $ap_id = isset($_POST["\141\144\166\x5f\x69\x64"]) ? $_POST["\x61\x64\x76\x5f\x69\144"] : 0; goto YtDez; yDy2b: return AjaxReturn($res); goto rCyKy; YtDez: $sort = isset($_POST["\x73\x6f\162\164"]) ? $_POST["\x73\157\x72\x74"] : 0; goto aIhth; mQCiu: $res = $advert->AdvertPositionSort($ap_id, $sort); goto yDy2b; aIhth: $advert = new AdvertService(); goto mQCiu; rCyKy: } public function AdvertSort() { goto B6OWI; B6OWI: $ap_id = isset($_POST["\141\160\x5f\x69\x64"]) ? $_POST["\141\160\x5f\151\144"] : 0; goto fGick; jPPCm: return AjaxReturn($res); goto VvZPN; fGick: $sort = isset($_POST["\x73\x6f\162\164"]) ? $_POST["\x73\157\x72\164"] : 0; goto zny4l; zny4l: $advert = new AdvertService(); goto fFqh7; fFqh7: $res = $advert->AdvertSort($ap_id, $sort); goto jPPCm; VvZPN: } public function addAdvert() { goto EBo8H; d1yip: XG0g6: goto aIe53; SZ4Xn: $adv_image = isset($_POST["\141\144\166\137\151\155\x61\x67\145"]) ? $_POST["\x61\144\166\137\x69\155\x61\147\145"] : ''; goto wQEYc; mCOva: $background = isset($_POST["\x62\141\143\x6b\x67\162\157\x75\x6e\x64"]) ? $_POST["\142\x61\x63\x6b\147\x72\x6f\165\x6e\x64"] : ''; goto r3Rvh; mPden: $adv_title = isset($_POST["\141\x64\166\x5f\x74\x69\164\154\x65"]) ? $_POST["\x61\144\x76\137\x74\151\164\x6c\145"] : ''; goto cQ3RK; r3Rvh: $adv_url = isset($_POST["\x61\144\166\137\x75\162\154"]) ? $_POST["\141\144\166\x5f\x75\x72\154"] : ''; goto SZ4Xn; NjsMM: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto TzvHU; EBo8H: $advert = new AdvertService(); goto NjsMM; wQEYc: $res = $advert->addAdvert($cate_id, $mod_id, $ap_id, $adv_title, $adv_url, $adv_image, $sort, $background, $mch_id); goto PMqWd; B2d0q: $cate_id = isset($_POST["\143\x61\x74\145\x5f\151\144"]) ? $_POST["\143\141\164\x65\x5f\151\144"] : "\x30"; goto mPden; TzvHU: if (!request()->isAjax()) { goto XG0g6; } goto oib0j; aIe53: return view("\x61\x64\166\x65\x72\164\x2f\x61\144\166\x65\x72\164\137\141\x64\144"); goto JA2t7; RPMSi: $ap_id = 0; goto B2d0q; cQ3RK: $sort = isset($_POST["\163\157\162\164"]) ? $_POST["\x73\157\x72\x74"] : ''; goto mCOva; oib0j: $mod_id = 1; goto RPMSi; PMqWd: return AjaxReturn($res); goto d1yip; JA2t7: } public function addNavigation() { goto g6V0e; aRTg_: $ap_id = 0; goto FIkFl; Q99hs: $mod_id = 2; goto aRTg_; xQnMS: if (!request()->isAjax()) { goto fX7iv; } goto Q99hs; wyBeQ: fX7iv: goto K1skm; g6V0e: $advert = new AdvertService(); goto VjKqr; jJ9vl: $list = $cate->getFormatGoodsCategoryList($mch_id); goto pQz1T; kfpnD: $adv_image = isset($_POST["\x61\x64\x76\x5f\x69\x6d\x61\147\145"]) ? $_POST["\141\144\x76\137\x69\x6d\x61\x67\x65"] : ''; goto Hux2I; VjKqr: $mch_id = isset($this->bus_id) ? $this->bus_id : "\x30"; goto xQnMS; qldOz: return AjaxReturn($res); goto wyBeQ; Vjjzm: $adv_url = isset($_POST["\x61\144\166\137\x75\162\154"]) ? $_POST["\141\x64\x76\x5f\165\162\x6c"] : ''; goto kfpnD; QG41r: $background = isset($_POST["\142\141\x63\153\x67\x72\x6f\x75\156\x64"]) ? $_POST["\x62\141\143\x6b\147\x72\x6f\x75\x6e\144"] : ''; goto Vjjzm; xW973: $adv_title = isset($_POST["\141\144\x76\137\164\151\x74\154\x65"]) ? $_POST["\141\x64\166\137\164\x69\164\154\x65"] : ''; goto AiHry; pQz1T: $this->assign("\154\151\x73\164", $list); goto hmcCI; hmcCI: return view("\x61\144\166\145\x72\164\x2f\x61\144\144\x5f\x6e\141\166\x69\x67\x61\164\x69\x6f\x6e"); goto rTga4; AiHry: $sort = isset($_POST["\x73\x6f\162\164"]) ? $_POST["\x73\x6f\162\x74"] : ''; goto QG41r; K1skm: $cate = new GoodsCate(); goto jJ9vl; Hux2I: $res = $advert->addAdvert($cate_id, $mod_id, $ap_id, $adv_title, $adv_url, $adv_image, $sort, $background, $mch_id); goto qldOz; FIkFl: $cate_id = isset($_POST["\143\x61\x74\x65\137\151\x64"]) ? $_POST["\143\141\x74\145\x5f\151\144"] : "\x30"; goto xW973; rTga4: } public function addAdvertising() { goto mreOB; zSy8i: return AjaxReturn($res); goto QVJKu; sxnIz: $mch_id = isset($this->bus_id) ? $this->bus_id : "\x30"; goto lZI0z; QVJKu: aLseO: goto lVBVL; lVBVL: return view("\141\144\166\145\x72\x74\57\x61\144\x64\137\x61\144\166\145\162\x74\151\163\x69\x6e\147"); goto qa2Q4; Vffru: $height = isset($_POST["\x68\x65\x69\x67\x68\x74"]) ? $_POST["\150\x65\151\147\150\164"] : "\x30"; goto BRCpf; EYR5f: $ap_intro = isset($_POST["\x61\x70\x5f\x69\156\x74\x72\157"]) ? $_POST["\141\160\x5f\x69\156\164\162\x6f"] : ''; goto Vfq5I; mreOB: $advert = new AdvertService(); goto sxnIz; me6ld: $res = $advert->addAdvertPosition($mch_id, $ap_intro, $ap_name, $sort, $height, $width); goto zSy8i; Vfq5I: $ap_name = isset($_POST["\x61\160\x5f\156\x61\155\145"]) ? $_POST["\141\x70\x5f\156\x61\155\145"] : ''; goto JxP38; BRCpf: $width = isset($_POST["\167\151\144\x74\150"]) ? $_POST["\x77\151\x64\164\x68"] : "\60"; goto me6ld; lZI0z: if (!request()->isAjax()) { goto aLseO; } goto EYR5f; JxP38: $sort = isset($_POST["\x73\157\162\x74"]) ? $_POST["\163\x6f\162\x74"] : ''; goto Vffru; qa2Q4: } public function setAdvertUse() { goto vlqXO; dSZsE: return AjaxReturn($res); goto Ivysw; D8Shp: $is_use = request()->post("\x69\163\137\165\x73\x65", ''); goto ZZ05f; VpKUg: $res = $advert->setAdvertUse($adv_id, $is_use); goto dSZsE; ziaIK: $adv_id = request()->post("\x61\x64\166\x5f\x69\144", ''); goto D8Shp; ZZ05f: $advert = new AdvertService(); goto VpKUg; vlqXO: if (!request()->isAjax()) { goto tsvPN; } goto ziaIK; Ivysw: tsvPN: goto HRrgU; HRrgU: } public function updateAdvert() { goto oz9Xd; aTElG: if (!request()->isAjax()) { goto EwhNY; } goto BO3ir; BO3ir: $advert = new AdvertService(); goto IsWYn; Bm6ra: $sort = isset($_POST["\x73\157\x72\164"]) ? $_POST["\x73\157\x72\164"] : ''; goto Qiokv; IsWYn: $adv_id = isset($_POST["\141\x64\x76\x5f\x69\144"]) ? $_POST["\x61\144\x76\x5f\151\144"] : ''; goto l99s_; nnbKx: $advert = new AdvertService(); goto vDR4D; Qiokv: $background = isset($_POST["\142\141\143\153\147\x72\x6f\165\156\144"]) ? $_POST["\x62\141\143\153\147\162\x6f\165\x6e\x64"] : ''; goto e4BJQ; mixc3: $this->assign("\151\x6e\x66\157", $info); goto BMR9R; qUlWj: EwhNY: goto nnbKx; cvSPX: $adv_url = isset($_POST["\x61\144\166\137\x75\x72\x6c"]) ? $_POST["\141\144\166\x5f\x75\x72\x6c"] : ''; goto pU7v1; l99s_: $adv_title = isset($_POST["\x61\144\166\137\x74\x69\164\154\145"]) ? $_POST["\x61\x64\166\137\164\151\x74\x6c\x65"] : ''; goto cvSPX; BMR9R: return view("\141\144\x76\x65\x72\164\x2f\x61\144\x76\145\162\164\137\145\x64\x69\164"); goto oqR5Y; feip2: return AjaxReturn($res); goto qUlWj; e4BJQ: $res = $advert->updateAdvert($adv_id, $adv_title, $adv_url, $adv_image, $sort, $background, $mch_id); goto feip2; vDR4D: $adv_id = isset($_GET["\x61\144\166\137\x69\x64"]) ? $_GET["\x61\144\x76\x5f\x69\x64"] : ''; goto VUy_9; VUy_9: $info = $advert->getAdvertDetail($adv_id); goto mixc3; oz9Xd: $mch_id = isset($this->bus_id) ? $this->bus_id : "\x30"; goto aTElG; pU7v1: $adv_image = isset($_POST["\141\144\166\137\x69\x6d\141\x67\145"]) ? $_POST["\141\144\x76\x5f\151\155\141\x67\145"] : ''; goto Bm6ra; oqR5Y: } public function updateAdvertPos() { goto AN3Pt; J7Cwb: Lg6aG: goto fkpEj; lO79Q: $height = isset($_POST["\150\x65\151\147\x68\x74"]) ? $_POST["\x68\145\151\147\x68\x74"] : "\x30"; goto W9pHg; jCHmd: $info = $advert->getAdvertPositionDetail($ap_id); goto UT1zZ; UXq6C: $res = $advert->updateAdvertPositionDetail($mch_id, $ap_id, $ap_name, $ap_intro, $sort, $height, $width); goto V7aOC; TwNMv: $ap_id = isset($_GET["\x61\x70\137\151\144"]) ? $_GET["\141\x70\x5f\x69\x64"] : ''; goto jCHmd; W9pHg: $width = isset($_POST["\x77\x69\144\164\150"]) ? $_POST["\167\x69\x64\x74\x68"] : "\60"; goto UXq6C; dG0h7: $ap_id = isset($_POST["\141\160\137\x69\144"]) ? $_POST["\x61\160\x5f\151\144"] : ''; goto Arr3c; rJb4E: return view("\x61\144\166\x65\x72\x74\57\x61\x64\x76\x65\x72\164\x5f\160\157\x73\x69\164\x69\157\x6e\x5f\x65\x64\151\x74"); goto h__D1; Arr3c: $ap_name = isset($_POST["\141\160\x5f\x6e\141\x6d\x65"]) ? $_POST["\141\160\137\x6e\141\x6d\145"] : ''; goto geE2P; AN3Pt: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto TxKAZ; UaFaa: $sort = isset($_POST["\163\x6f\162\164"]) ? $_POST["\163\157\162\x74"] : ''; goto lO79Q; fkpEj: $advert = new AdvertService(); goto TwNMv; V7aOC: return AjaxReturn($res); goto J7Cwb; UT1zZ: $this->assign("\151\x6e\146\157", $info); goto rJb4E; geE2P: $ap_intro = isset($_POST["\141\x70\x5f\x69\x6e\164\x72\x6f"]) ? $_POST["\x61\x70\137\151\x6e\x74\x72\x6f"] : ''; goto UaFaa; TxKAZ: if (!request()->isAjax()) { goto Lg6aG; } goto BhW7G; BhW7G: $advert = new AdvertService(); goto dG0h7; h__D1: } public function AddAdvertPosImg() { goto Fueee; LCd0Z: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto FGqQ0; FGqQ0: if (!request()->isAjax()) { goto FmtLq; } goto bj896; Fueee: $advert = new AdvertService(); goto LCd0Z; oBCSy: $ap_id = input("\x70\x61\162\141\155\x2e\x61\160\x5f\151\x64", ''); goto Z7J9U; Yi9d_: return view("\x61\x64\x76\x65\162\164\57\141\x64\166\x65\162\x74\137\x69\155\x67"); goto ZXkIs; bj896: $mod_id = 3; goto Vbxzg; xo5j0: $this->assign("\141\x70\x5f\151\144", $ap_id); goto Yi9d_; mymP7: $condition["\141\160\137\x69\144"] = array("\145\161", $ap_id); goto XIBJS; IXD_w: $this->assign("\x69\x6d\147\137\154\x69\163\164", $img_list); goto xo5j0; r8Rpi: $ap_id = input("\x70\141\x72\141\x6d\56\x61\x70\x5f\151\x64", "\x30"); goto IW09P; E1Tws: FmtLq: goto r8Rpi; swXYK: return AjaxReturn($res); goto E1Tws; Vbxzg: $adv_img = input("\160\141\x72\141\155\56\141\x64\166\x5f\x69\155\x67", ''); goto oBCSy; Z7J9U: $res = $advert->addAdvert('', $mod_id, $ap_id, '', '', $adv_img, '', '', $mch_id); goto swXYK; XIBJS: $img_list = $advert->getAdvertPosImg($condition, '', "\163\x6f\x72\164\40\144\x65\163\x63"); goto IXD_w; IW09P: $condition["\155\x63\150\x5f\x69\144"] = array("\x65\161", $mch_id); goto mymP7; ZXkIs: } public function AdvertImg() { goto a0_Au; a0_Au: $advert = new AdvertService(); goto mjIgS; i0er0: $res = $advert->UpdateAdvertImg($adv_title, $adv_id, $key); goto n3Zpu; mjIgS: if (!request()->isAjax()) { goto lzGzc; } goto jpJ1D; n3Zpu: return AjaxReturn($res); goto D0b0R; D0b0R: lzGzc: goto FIN1c; jpJ1D: $adv_title = input("\160\x61\x72\x61\155\56\x61\144\166\137\164\151\164\154\145", ''); goto ZDKAh; dxPNE: $key = input("\160\x61\162\x61\x6d\56\x6b\x65\171", ''); goto i0er0; ZDKAh: $adv_id = input("\x70\141\x72\141\x6d\56\x61\x64\x76\137\x69\x64", ''); goto dxPNE; FIN1c: } public function AdvertPositionProportion() { goto KN_TX; m0xNM: uRhzZ: goto c9Wzt; c7ey6: if (!request()->isAjax()) { goto uRhzZ; } goto o9uIN; o9uIN: $info = input("\160\x61\x72\141\155\56\151\156\x66\157", ''); goto VgoMU; C7QwS: $key = input("\160\x61\x72\141\x6d\56\x6b\145\x79", ''); goto DaP7O; DaP7O: $res = $advert->UpdateAdvertProportion($info, $ap_id, $key); goto dz8qX; KN_TX: $advert = new AdvertService(); goto c7ey6; VgoMU: $ap_id = input("\160\x61\x72\141\155\x2e\x61\x70\137\151\x64", ''); goto C7QwS; dz8qX: return AjaxReturn($res); goto m0xNM; c9Wzt: } public function editNavigation() { goto NIDjY; DDKEk: $this->assign("\x61\x64\x76\x5f\154\151\163\x74", $adv_list); goto uMuHz; uMuHz: $this->assign("\141\x64\166\x5f\x69\144", $adv_id); goto f6Hnp; sWlL1: $cate = new GoodsCate(); goto XPLd2; jG9zV: if (!request()->isAjax()) { goto mdovE; } goto pifNF; XPLd2: $list = $cate->getFormatGoodsCategoryList($mch_id); goto nmcxQ; Rj1cI: mdovE: goto sWlL1; JGkso: $adv_id = input("\x70\141\x72\141\x6d\56\141\144\x76\x5f\x69\144", "\x30"); goto tBzJ1; cupWA: $adv_image = isset($_POST["\x61\x64\x76\137\x69\x6d\x61\147\145"]) ? $_POST["\x61\144\x76\x5f\151\155\x61\147\145"] : ''; goto M2fxW; roTwD: $cate_id = isset($_POST["\x63\x61\164\145\x5f\151\144"]) ? $_POST["\143\141\164\x65\x5f\151\x64"] : "\x30"; goto wf0p8; pifNF: $adv_id = isset($_POST["\x61\x64\166\x5f\151\144"]) ? $_POST["\x61\144\x76\137\151\144"] : "\x30"; goto roTwD; qb4LQ: $sort = isset($_POST["\163\157\162\164"]) ? $_POST["\163\x6f\162\x74"] : ''; goto xyHA1; M2fxW: $res = $advert->editNavigation($adv_id, $cate_id, $adv_title, $sort, $background, $adv_url, $adv_image); goto wuwqS; jIb8E: $condition["\x6d\x6f\144\x5f\151\x64"] = array("\x65\161", 2); goto hlHw_; rd5Gw: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto jG9zV; wf0p8: $adv_title = isset($_POST["\x61\x64\x76\x5f\x74\x69\164\154\145"]) ? $_POST["\141\x64\x76\x5f\164\x69\164\154\145"] : ''; goto qb4LQ; NIDjY: $advert = new AdvertService(); goto rd5Gw; wuwqS: return AjaxReturn($res); goto Rj1cI; tBzJ1: $condition["\155\x63\x68\137\151\144"] = array("\145\161", $mch_id); goto jIb8E; f6Hnp: return view("\x61\144\x76\145\162\x74\57\x65\x64\151\x74\137\156\141\x76\x69\x67\141\x74\151\x6f\156"); goto mDQzf; xyHA1: $background = isset($_POST["\142\x61\143\x6b\147\x72\x6f\x75\x6e\144"]) ? $_POST["\x62\141\x63\x6b\147\162\x6f\x75\x6e\x64"] : ''; goto shSnb; nmcxQ: $this->assign("\154\x69\163\x74", $list); goto JGkso; shSnb: $adv_url = isset($_POST["\141\x64\166\x5f\x75\162\154"]) ? $_POST["\141\x64\x76\137\165\162\x6c"] : ''; goto cupWA; hlHw_: $adv_list = $advert->getAdvertDetail($adv_id); goto DDKEk; mDQzf: } public function delAdvert() { goto D1NHe; zElhf: return AjaxReturn($res); goto OGgt8; D1NHe: $adv_id = isset($_POST["\141\x64\x76\137\151\x64"]) ? $_POST["\x61\x64\x76\x5f\151\144"] : ''; goto Fs2Xp; Fs2Xp: $advert = new AdvertService(); goto qayGG; qayGG: $res = $advert->delAdvert($adv_id); goto zElhf; OGgt8: } public function delAdvertPos() { goto lHRPy; VAX3U: $res = $advert->delAdvertPosition($ap_id); goto xhi8s; xhi8s: return AjaxReturn($res); goto GF_lj; jIPRD: $advert = new AdvertService(); goto VAX3U; lHRPy: $ap_id = isset($_POST["\x61\160\137\x69\144"]) ? $_POST["\x61\160\137\x69\x64"] : ''; goto jIPRD; GF_lj: } }
