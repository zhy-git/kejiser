<?php
 namespace app\admin\controller; use app\admin\service\VideoService; use think\Db; class Video extends Base { public function index() { goto bo6Gf; bo6Gf: $list = Db::name("\171\142\x73\x63\x5f\142\x75\163\x5f\x76\151\x64\x65\x6f")->where("\155\x63\150\137\151\x64", $this->bus_id)->paginate(20); goto IkG2g; IkG2g: $this->assign("\x6c\151\x73\x74", $list); goto A_5PO; A_5PO: return view(); goto fJMVm; fJMVm: } public function video_add() { goto Zh17M; JJl4X: $data["\x6d\x63\150\137\x69\x64"] = $this->bus_id; goto yye2a; BWa8q: $data["\165\x72\x6c"] = input("\160\x61\x72\141\x6d\x2e\166\151\x64\145\x6f\137\165\162\154"); goto w3UwC; Okwpk: return AjaxReturn($res); goto Xpm1u; gn_fz: $res = Db::name("\x79\142\163\143\x5f\x62\x75\163\137\166\x69\144\145\157")->insert($data); goto Okwpk; w3UwC: $data["\x69\x6d\x67"] = input("\x70\x61\162\141\x6d\56\142\x72\141\156\x64\137\160\151\143"); goto JJl4X; yye2a: $data["\141\144\x64\137\x74\x69\155\145"] = time(); goto gn_fz; TXwxa: return view(); goto rd9BE; Zh17M: if (!request()->isAjax()) { goto u6FNd; } goto eU5IY; Xpm1u: u6FNd: goto TXwxa; eU5IY: $data["\164\151\164\154\x65"] = input("\x70\x61\162\x61\155\56\164\x69\164\154\x65"); goto BWa8q; rd9BE: } public function video_edit() { goto g_nCE; pvGNP: $info = Db::name("\171\x62\x73\x63\137\142\x75\163\137\x76\151\144\145\x6f")->where("\151\x64", $id)->find(); goto G8e4K; w7B4N: jWb7U: goto GNUAP; dKtHa: $id = input("\x70\141\162\141\x6d\x2e\151\144"); goto EneZI; osqjE: return view(); goto PK_2o; g_nCE: if (!request()->isAjax()) { goto jWb7U; } goto dKtHa; E2MkX: return AjaxReturn($res); goto w7B4N; o2UIi: $data["\151\155\147"] = input("\160\x61\162\x61\x6d\x2e\142\x72\x61\156\144\x5f\160\151\x63"); goto p9aVk; p9aVk: $data["\155\x63\150\137\151\x64"] = $this->bus_id; goto Vk1Ok; EneZI: $data["\164\x69\x74\x6c\145"] = input("\x70\x61\x72\x61\x6d\56\164\151\x74\x6c\x65"); goto eXv9n; eXv9n: $data["\x75\x72\154"] = input("\x70\141\x72\x61\x6d\56\166\x69\x64\145\x6f\137\x75\x72\x6c"); goto o2UIi; G8e4K: $this->assign("\151\156\x66\157", $info); goto osqjE; GNUAP: $id = input("\x70\x61\162\141\x6d\56\151\144"); goto pvGNP; Vk1Ok: $res = Db::name("\x79\x62\163\x63\137\142\165\163\137\166\x69\144\145\157")->where("\x69\x64", $id)->update($data); goto E2MkX; PK_2o: } public function video_del() { goto RXY5C; RXY5C: $id = input("\160\x61\162\141\155\x2e\151\144"); goto WbO2k; WbO2k: $res = Db::name("\x79\142\163\x63\137\142\165\x73\137\166\x69\144\145\157")->where("\x69\144", $id)->delete(); goto rST7w; rST7w: return AjaxReturn($res); goto P4Qft; P4Qft: } public function VideoClass() { goto ojvRo; rUuTB: $this->assign("\x70\x61\147\x65", $page); goto rMT2B; y1euN: $search_text = request()->post("\x73\145\x61\162\x63\150\x5f\164\145\x78\164"); goto qODfD; SRi5p: $this->assign("\x63\x6c\141\x73\x73", $class); goto rUuTB; OYdTq: $data["\x6d\143\x68\x5f\x69\144"] = $this->bus_id; goto mbOF_; qODfD: $data["\x6e\141\x6d\x65"] = ["\x6c\151\x6b\145", "\45" . $search_text . "\45"]; goto OYdTq; rMT2B: return view("\x76\151\x64\x65\157\57\166\151\144\145\157\x5f\x63\x6c\141\x73\x73\x5f\x6c\x69\x73\164"); goto gJDZ3; wjAOP: $page = $class->render(); goto SRi5p; ojvRo: $data = array(); goto y1euN; VkZH2: $class = $video_class->getVideoClass($data); goto wjAOP; mbOF_: $video_class = new VideoService(); goto VkZH2; gJDZ3: } public function AddVideoClass() { goto MvDdd; TeLNB: if (!request()->post()) { goto nglyT; } goto OYGU9; fRI9j: $data["\x73\157\162\x74"] = request()->post("\x63\154\x61\x73\163\137\x73\157\162\x74", 0); goto N3m1z; OYGU9: $data["\x6e\x61\155\x65"] = request()->post("\143\x6c\141\x73\x73\x5f\156\141\x6d\x65"); goto zXn9A; MvDdd: $article_class = new VideoService(); goto TeLNB; gCx30: return AjaxReturn($res); goto iTv72; iTv72: nglyT: goto KE6YX; gYcYd: $data["\143\x72\x65\141\164\x65\x5f\x74\x69\155\145"] = time(); goto Y1VZl; Y1VZl: $data["\160\151\x64"] = 0; goto wKsn3; KE6YX: return view("\166\x69\x64\x65\157\x2f\166\151\x64\x65\157\137\143\154\141\163\x73\137\x61\144\x64"); goto KVhIl; wKsn3: $res = $article_class->addVideoClass($data); goto gCx30; N3m1z: $data["\x69\155\x61\x67\x65\163"] = input("\x70\x61\162\x61\x6d\56\151\x6d\141\x67\145\163", ''); goto gYcYd; zXn9A: $data["\x6d\143\150\137\x69\144"] = $this->bus_id; goto fRI9j; KVhIl: } public function DelVideoClass() { goto SF4tW; wD0uM: return AjaxReturn($res); goto QXADQ; brxUh: $res = $video->delVideoClass($class_id); goto wD0uM; SF4tW: $class_id = input("\x70\141\162\x61\x6d\x2e\143\154\141\163\163\x5f\x69\x64", ''); goto D2Xvg; D2Xvg: $video = new VideoService(); goto brxUh; QXADQ: } public function EditVideoClass() { goto BLhU1; mwH6U: $data["\143\154\141\163\163\x5f\x69\x64"] = input("\x70\141\162\141\x6d\56\143\x6c\x61\163\163\x5f\151\x64", "\60"); goto mJT4h; rsIfL: $list = $article_class->getVideoClassById($class_id); goto Kus55; pAHra: return view("\166\x69\144\x65\x6f\57\166\x69\144\145\x6f\x5f\x63\154\x61\163\x73\137\x65\144\x69\164"); goto db9em; Wh5t2: $data["\x70\x69\x64"] = 0; goto vrL_g; n0Hog: return AjaxReturn($res); goto hPPNO; hPPNO: nmA6O: goto QnOWc; t558E: $data["\x73\x6f\x72\164"] = input("\x70\x61\x72\x61\155\x2e\143\154\141\163\163\137\163\x6f\x72\164", ''); goto Kfukc; BLhU1: $article_class = new VideoService(); goto e1BaR; Kfukc: $data["\x69\x6d\141\147\145\163"] = input("\x70\141\x72\141\155\x2e\151\x6d\x61\x67\x65\163", ''); goto Wh5t2; vrL_g: $res = $article_class->updateVideoClass($data); goto n0Hog; Kus55: $this->assign("\x63\x6c\141\163\163", $list); goto pAHra; e1BaR: if (!request()->post()) { goto nmA6O; } goto mwH6U; mJT4h: $data["\156\141\x6d\145"] = input("\160\x61\x72\x61\155\56\143\x6c\141\163\x73\137\x6e\x61\x6d\145", ''); goto t558E; QnOWc: $class_id = input("\160\141\162\x61\x6d\56\x63\154\x61\x73\x73\x5f\151\x64"); goto rsIfL; db9em: } public function Video() { goto cuZps; fEaS6: $video_class = new VideoService(); goto Le4vu; D_R31: $search_text = request()->post("\163\145\141\162\143\x68\137\x74\x65\170\x74"); goto Fi2G6; Fi2G6: $class_id = request()->post("\x63\x6c\141\163\x73\x5f\x69\x64"); goto E2wDh; D7G62: $this->assign("\x70\141\147\145", $page); goto jHMV1; Le4vu: $data["\x6d\143\150\137\151\144"] = $this->bus_id; goto J6Y3x; F8zSJ: $data = array_filter($data); goto fEaS6; cuZps: $data = array(); goto D_R31; AGoZL: $page = $class->render(); goto SMlIa; jHMV1: return view("\x76\151\x64\145\157\x2f\x76\x69\144\145\x6f\x5f\154\151\163\164"); goto xzP8J; E2wDh: $data["\x74\151\x74\154\x65"] = ["\x6c\151\x6b\145", "\45" . $search_text . "\x25"]; goto fbsun; J6Y3x: $class = $video_class->getVideo($data); goto AGoZL; SMlIa: $this->assign("\x63\x6c\141\163\x73", $class); goto D7G62; fbsun: $data["\143\x6c\141\x73\163\x5f\x69\x64"] = $class_id; goto F8zSJ; xzP8J: } public function AddVideo() { goto jQqd_; mMBz9: $data["\143\x72\145\x61\x74\145\x5f\164\x69\x6d\x65"] = time(); goto O7DpW; jQqd_: $video_class = new VideoService(); goto ILzkF; PhRxp: $data["\x73\x68\x6f\x72\x74\x5f\164\151\x74\154\x65"] = input("\160\141\x72\141\x6d\x2e\163\x68\x6f\162\x74\137\164\x69\x74\x6c\x65", ''); goto yp3K9; x53_f: $data["\153\145\x79\167\157\162\x64"] = input("\160\x61\x72\141\155\56\x6b\145\x79\167\157\x72\144", ''); goto vINVf; vINVf: $data["\151\163\x5f\x72\x65\143\157\x6d\155\145\156\144"] = input("\160\141\x72\141\155\x2e\x69\163\x5f\162\145\143\157\155\155\145\x6e\144", ''); goto vCzWa; n6EkP: $data["\x74\x69\164\x6c\x65"] = input("\160\x61\162\141\x6d\x2e\x74\x69\164\x6c\145", ''); goto q_nab; DP621: K2Sm7: goto A3TlF; yp3K9: $data["\x61\165\x74\x68\157\x72"] = input("\160\x61\162\x61\x6d\56\141\x75\x74\x68\x6f\162", ''); goto j40H0; w6l4a: $data["\151\x6d\141\147\x65"] = input("\x70\x61\x72\x61\155\56\x69\x6d\x61\147\x65\163", ''); goto RsURs; P3vXQ: return AjaxReturn($res); goto DP621; vCzWa: $data["\163\x74\141\x74\165\163"] = 2; goto mMBz9; j40H0: $data["\x63\157\x6e\x74\145\156\164"] = input("\x70\x61\x72\x61\155\56\143\157\x6e\164\x65\156\x74", ''); goto w6l4a; ILzkF: if (!request()->post()) { goto K2Sm7; } goto oI74B; q_nab: $data["\x63\x6c\141\x73\163\137\x69\x64"] = input("\160\141\162\141\155\x2e\x63\x6c\x61\163\x73\137\151\x64", ''); goto PhRxp; RsURs: $data["\x75\x72\x6c"] = input("\x70\x61\x72\141\155\x2e\x76\x69\x64\x65\157", ''); goto x53_f; oI74B: $data["\x6d\x63\150\x5f\151\x64"] = $this->bus_id; goto n6EkP; O7DpW: $res = $video_class->addVideo($data); goto P3vXQ; A3TlF: $class = $video_class->getClass($this->bus_id); goto PGcva; PGcva: $this->assign("\143\x6c\141\163\x73", $class); goto e7iyZ; e7iyZ: return view("\x76\151\144\145\157\x2f\x76\151\x64\x65\x6f\137\x61\144\x64"); goto Fwsn1; Fwsn1: } public function EditVideo() { goto Br5S1; J3YkF: $data["\x69\x73\x5f\162\145\x63\157\155\155\x65\x6e\x64"] = input("\160\x61\x72\141\155\x2e\x69\163\137\162\145\143\x6f\155\155\x65\x6e\144", ''); goto l7p45; jojdP: yT1b4: goto f21g0; NjzCx: $data["\165\162\x6c"] = input("\160\x61\162\141\x6d\56\x76\x69\x64\145\x6f", ''); goto ASDsj; jX1JE: $list = $video->getVideoById($video_id); goto aRJyJ; YATzJ: $class = $video->getClass($this->bus_id); goto eTv5o; bs_1J: return view("\x76\151\x64\145\x6f\x2f\166\151\x64\x65\x6f\137\145\144\x69\164"); goto r7vtq; pHRNc: return AjaxReturn($res); goto jojdP; yC2uN: if (!request()->post()) { goto yT1b4; } goto asVjB; KGNNu: $data["\163\150\x6f\x72\164\137\x74\x69\x74\154\145"] = input("\160\141\162\x61\155\56\x73\x68\x6f\x72\x74\x5f\164\x69\x74\x6c\145", ''); goto WEbpN; jFH2d: $data["\x74\151\x74\154\x65"] = input("\160\141\162\x61\155\x2e\x74\x69\164\x6c\145", ''); goto iuz_t; eTv5o: $this->assign("\x63\154\141\x73\x73", $class); goto jX1JE; WEbpN: $data["\x61\x75\x74\x68\157\x72"] = input("\x70\x61\162\141\155\x2e\x61\165\164\150\x6f\x72", ''); goto Pl8V8; Pl8V8: $data["\x63\x6f\x6e\164\x65\x6e\164"] = input("\x70\141\x72\141\x6d\56\x63\x6f\x6e\164\145\x6e\x74", ''); goto IA8h2; IA8h2: $data["\151\155\141\x67\x65"] = input("\x70\x61\x72\141\155\x2e\x69\x6d\x61\x67\x65\x73", ''); goto NjzCx; f21g0: $video_id = input("\x70\141\x72\141\155\x2e\166\151\144\x65\157\137\x69\x64"); goto YATzJ; ASDsj: $data["\x6b\x65\171\x77\157\x72\144"] = input("\x70\x61\x72\141\155\56\x6b\x65\x79\167\x6f\162\x64", ''); goto J3YkF; Br5S1: $video = new VideoService(); goto yC2uN; AcZn8: $res = $video->updateVideo($data); goto pHRNc; l7p45: $data["\163\164\141\x74\165\x73"] = 2; goto AcZn8; asVjB: $data["\x76\151\144\145\x6f\x5f\x69\x64"] = input("\x70\141\162\141\x6d\56\x76\x69\x64\x65\x6f\137\151\144", ''); goto jFH2d; aRJyJ: $this->assign("\151\x6e\x66\157", $list); goto bs_1J; iuz_t: $data["\x63\154\x61\x73\x73\x5f\x69\x64"] = input("\160\141\x72\x61\x6d\56\x63\154\x61\163\x73\x5f\x69\144", ''); goto KGNNu; r7vtq: } public function VideoDel() { goto uwIL0; uwIL0: $video_id = input("\160\x61\162\x61\x6d\56\166\x69\144\145\x6f\137\151\144", ''); goto Npxli; mSdOz: return AjaxReturn($res); goto DaH2H; Npxli: $video = new VideoService(); goto l9S40; l9S40: $res = $video->VideoDel($video_id); goto mSdOz; DaH2H: } }
