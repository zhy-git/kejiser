<?php
 namespace app\admin\controller; use app\admin\service\ArticleClass; use think\Db; class Article extends Base { public function article_list() { goto CxJEc; ro7GS: $url = explode("\46\160\x61\147\x65", $url[1]); goto KFvNH; KFvNH: $url = "\x2f" . $url[0]; goto YRnt6; GHVuS: $this->assign("\143\x6c\141\163\x73\137\156\x61\x6d\145", $class_name); goto CARdh; urgVq: return view("\x61\x72\x74\151\x63\154\x65\57\141\162\164\x69\143\154\145\137\x6c\x69\x73\x74"); goto Ufmiw; OSI33: $this->assign("\160\x61\x67\145", $page); goto urgVq; CARdh: $this->assign("\141\x5f\154\x69\x73\164", $a_list); goto OSI33; NyEwI: $list = db::name("\171\142\x73\x63\137\x61\x72\x74\x69\x63\154\145")->alias("\x61")->join("\171\x62\x73\143\137\x61\x72\x74\151\143\154\145\137\143\154\141\163\x73\x20\x63", "\x63\x2e\x63\154\141\x73\x73\x5f\x69\x64\x3d\141\56\143\x6c\x61\163\163\x5f\x69\144")->field("\141\x2e\x2a\x2c\143\x2e\x6e\141\x6d\145\x20\x61\163\x20\143\154\141\x73\x73\137\x6e\x61\x6d\x65")->order("\141\56\151\x73\x5f\x74\157\160", "\144\x65\163\x63")->order("\x61\x2e\x63\162\145\x61\164\145\137\x74\151\x6d\x65\40\x64\x65\x73\x63")->where($condition)->paginate(20, false, ["\161\x75\x65\x72\171" => ["\x73" => $url]]); goto OWGyN; DQyJ7: vx0Ln: goto r3tDj; uoeHI: $class_name = input("\x70\141\162\x61\x6d\56\143\x6c\141\163\163\137\x6e\x61\155\145"); goto LoQO9; YRnt6: $article = new \app\admin\service\Article(); goto xbqdq; ff_8j: $condition["\x63\x2e\143\154\x61\x73\x73\137\151\x64"] = array("\145\x71", $class_name); goto DQyJ7; r3tDj: $a_list = db::name("\x79\x62\163\143\x5f\x61\x72\164\151\143\x6c\x65\x5f\x63\x6c\141\x73\163")->where("\x6d\143\x68\137\151\144", $this->bus_id)->select(); goto NyEwI; jSIdw: $url = explode("\x3d\57", $url); goto ro7GS; xbqdq: $condition["\x61\56\x6d\x63\x68\137\151\144"] = array("\x65\x71", $this->bus_id); goto SNGtg; CxJEc: $url = request()->query(); goto jSIdw; LoQO9: if (!($class_name != 0)) { goto vx0Ln; } goto ff_8j; Njmg0: $this->assign("\154\151\x73\x74", $list); goto GHVuS; OWGyN: $page = $list->render(); goto Njmg0; SNGtg: $condition["\x61\56\163\x74\141\164\x75\163"] = array("\x65\x71", "\62"); goto uoeHI; Ufmiw: } public function add_article() { goto P4QY4; H4lAk: $data["\x63\154\141\x73\x73\137\151\144"] = input("\160\x61\162\x61\155\56\143\x6c\x61\163\163\x5f\x69\144", ''); goto ufce1; uz36E: $data["\147\x6f\157\144\x73\x5f\141\x72\x72\x61\171"] = input("\x70\141\162\141\155\56\147\157\157\x64\163\x5f\x61\162\162\141\171", ''); goto zZYmT; bplfw: $data["\x69\155\141\x67\x65"] = input("\160\141\x72\x61\155\x2e\x61\x72\164\x69\143\154\x65\137\x70\x69\143", ''); goto XcTVH; pcuxZ: $data["\x6d\143\x68\x5f\151\x64"] = $mch_id; goto tN93w; CAJtO: $data["\x63\157\156\164\145\156\164"] = input("\160\141\x72\141\x6d\56\x63\157\x6e\164\145\x6e\x74", ''); goto bplfw; CH0Tn: $data["\151\x73\x5f\x72\145\143\157\155\155\x65\x6e\144"] = input("\x70\x61\x72\x61\x6d\56\151\163\137\x72\x65\143\157\155\155\x65\x6e\144", ''); goto Ehj8b; ghzmx: $data["\141\165\164\150\157\x72"] = input("\160\x61\162\141\x6d\56\x61\165\164\x68\157\x72", ''); goto TT6AJ; MBRSH: $data["\151\x73\x5f\164\x6f\160"] = input("\160\141\x72\x61\x6d\56\151\163\137\x74\x6f\x70", 0); goto O7vnP; zZYmT: $data["\154\x69\156\153"] = input("\x70\x61\x72\141\x6d\x2e\154\x69\156\153", ''); goto MBRSH; Ehj8b: $data["\163\x74\141\x74\165\x73"] = 2; goto p6eQI; oAgEr: $condition["\x69\x73\x5f\x64\145\x6c"] = array("\145\x71", 1); goto TWi9A; FfIGQ: $this->assign("\x75\x73\x65", $bus_tmpl["\x6d\x6f\144\137\143\x6c\x61\163\x73\137\151\x64"]); goto EmqfM; ZAA9Y: if (!request()->post()) { goto UGzut; } goto Duf6k; tN93w: $data["\x74\151\164\x6c\145"] = input("\160\x61\x72\x61\155\56\x74\151\x74\x6c\x65", ''); goto H4lAk; RBc8Z: $condition["\x6d\x63\x68\x5f\151\144"] = array("\145\161", $mch_id); goto oAgEr; rSPgw: return AjaxReturn($res); goto Gm4vA; ufce1: $data["\163\150\x6f\162\x74\137\x74\x69\164\x6c\145"] = input("\x70\141\x72\141\x6d\x2e\163\x68\157\x72\164\x5f\164\x69\164\x6c\x65", ''); goto ghzmx; EmqfM: return view("\141\162\x74\x69\x63\154\x65\57\141\x64\x64\137\141\162\164\151\x63\x6c\145"); goto eysA6; B9lsC: $this->assign("\143\154\141\163\x73", $class); goto e5E6n; Gm4vA: UGzut: goto U7aIi; p6eQI: $data["\143\x72\x65\x61\x74\x65\137\164\x69\x6d\x65"] = time(); goto uz36E; TT6AJ: $data["\x63\x6c\151\x63\153"] = input("\160\141\x72\141\155\56\x63\154\x69\x63\153", "\60"); goto CAJtO; e5E6n: $bus_tmpl = db::name("\171\142\163\143\x5f\x62\x75\163\x69\x6e\x65\x73\163")->where("\151\x64", $this->bus_id)->find(); goto FfIGQ; O7vnP: $res = $article->addArticle($data); goto rSPgw; XcTVH: $data["\153\x65\171\167\157\x72\144"] = input("\x70\x61\162\141\155\56\153\x65\x79\x77\x6f\x72\x64", ''); goto CH0Tn; P4QY4: $mch_id = $this->bus_id; goto ZAA9Y; Duf6k: $article = new \app\admin\service\Article(); goto pcuxZ; TWi9A: $class = $article_class->getArticleClass($condition); goto B9lsC; U7aIi: $article_class = new ArticleClass(); goto RBc8Z; eysA6: } public function edit_article() { goto USyV1; OSYG_: $data["\151\155\x61\x67\x65"] = input("\x70\x61\x72\141\155\x2e\x61\x72\x74\151\x63\154\x65\x5f\x70\x69\143", ''); goto XZ1k6; BwcU1: $data["\x63\x6c\x69\x63\x6b"] = input("\x70\141\162\x61\155\56\143\x6c\x69\143\x6b", "\60"); goto kwMlw; XZ1k6: $data["\x6b\145\x79\x77\157\x72\x64"] = input("\x70\141\x72\x61\x6d\x2e\x6b\x65\171\167\157\x72\x64", ''); goto ArDtS; cFogz: okp31: goto zzyLk; USyV1: $article = new \app\admin\service\Article(); goto b8boc; b8boc: $article_id = input("\160\141\162\x61\x6d\56\x61\x72\x74\151\143\154\x65\137\x69\x64", ''); goto hUGi7; zzyLk: $res = $article->editArticle($data, $article_id); goto xeqT2; uLkAg: $data["\164\151\x74\154\x65"] = input("\x70\x61\162\141\x6d\56\x74\151\164\154\145", ''); goto YrDIy; huPU6: $data["\143\162\145\x61\x74\145\137\x74\x69\x6d\145"] = time(); goto F2pqg; G1TKa: $condition["\x69\x73\x5f\x64\x65\x6c"] = array("\x65\161", 1); goto zy1tL; QzTqh: $data["\163\164\141\x74\x75\x73"] = 2; goto huPU6; E0W5j: $article = db::name("\171\x62\163\143\x5f\x61\162\164\x69\x63\x6c\145")->where("\x61\x72\164\151\143\x6c\x65\137\x69\x64", $article_id)->find(); goto FaaTo; YrDIy: $data["\143\x6c\x61\x73\163\137\x69\x64"] = input("\160\141\162\x61\155\x2e\143\154\x61\x73\163\x5f\151\x64", ''); goto KYd7y; xzvcI: $arrys = input("\x70\x61\162\141\155\56\x67\157\157\x64\x73\137\x61\x72\162\x61\171", ''); goto CfJep; hUGi7: if (!request()->post()) { goto fnqMn; } goto h7swd; sDiaC: return view("\141\162\164\151\x63\x6c\145\x2f\x65\144\151\x74\x5f\141\x72\x74\151\x63\154\145"); goto Vo416; xDmYk: $this->assign("\x75\163\x65", $bus_tmpl["\155\157\144\x5f\143\154\x61\163\163\x5f\151\x64"]); goto sDiaC; F2pqg: $data["\154\x69\156\x6b"] = input("\160\141\162\x61\x6d\x2e\x6c\x69\156\153", ''); goto VvZmV; h7swd: $data["\x61\162\164\151\x63\x6c\x65\137\151\x64"] = input("\160\141\x72\x61\x6d\x2e\x61\162\x74\x69\x63\x6c\145\137\x69\x64", ''); goto uLkAg; zy1tL: $class = db::name("\x79\142\163\143\137\141\162\x74\x69\x63\x6c\145\137\x63\x6c\141\x73\163")->where($condition)->select(); goto L5Q5F; nTTIl: $condition["\x6d\x63\150\x5f\x69\x64"] = array("\145\161", $this->bus_id); goto G1TKa; KYd7y: $data["\x73\150\x6f\162\x74\137\164\x69\164\154\145"] = input("\x70\141\x72\x61\x6d\x2e\x73\150\x6f\x72\164\x5f\x74\151\x74\x6c\x65", ''); goto lo6Nw; L5Q5F: $this->assign("\143\x6c\x61\163\x73", $class); goto E0W5j; xeqT2: return AjaxReturn($res); goto Sum0x; ocWhf: $bus_tmpl = db::name("\x79\x62\163\x63\137\142\x75\x73\x69\x6e\x65\163\163")->where("\x69\x64", $this->bus_id)->find(); goto xDmYk; lo6Nw: $data["\x61\165\x74\150\157\162"] = input("\160\x61\x72\141\x6d\x2e\141\x75\x74\150\x6f\162", ''); goto BwcU1; FaaTo: $this->assign("\151\x6e\146\157", $article); goto ocWhf; ArDtS: $data["\x69\x73\x5f\162\145\x63\x6f\x6d\155\x65\x6e\144"] = input("\160\x61\162\141\155\56\x69\163\137\162\x65\143\157\x6d\x6d\x65\156\x64", ''); goto QzTqh; aoj7z: $data["\147\x6f\157\x64\163\137\141\x72\162\141\x79"] = $arrys; goto cFogz; VvZmV: $data["\x69\x73\x5f\x74\157\x70"] = input("\x70\141\x72\141\x6d\56\x69\163\137\164\157\x70", 0); goto xzvcI; kwMlw: $data["\143\157\156\x74\x65\156\x74"] = input("\x70\x61\162\x61\155\56\x63\157\156\x74\x65\156\x74", ''); goto OSYG_; CfJep: if (!($arrys != '' || !empty($arrys))) { goto okp31; } goto aoj7z; Sum0x: fnqMn: goto nTTIl; Vo416: } public function add_article_goods() { goto c2wF7; Yw0WF: return view("\141\x72\x74\151\143\x6c\x65\x2f\141\144\x64\x5f\x61\162\x74\x69\143\154\145\137\x67\157\x6f\144\163"); goto Gy32a; xu3ZR: $cate_id = input("\160\x61\162\141\x6d\56\143\x61\x74\145\x5f\151\x64", "\60"); goto qGYGR; kRot3: $cate = db::name("\171\x62\163\x63\137\147\157\157\x64\163\137\143\x61\164\x65")->where("\151\x73\x5f\166\151\163\151\x62\x6c\x65", "\61")->where("\155\143\x68\x5f\151\x64", $mch_id)->select(); goto YnTsN; c2wF7: $mch_id = $this->bus_id; goto jI4yp; C92hh: $this->assign("\x63\x61\164\145", $cate); goto Yw0WF; HHbvI: return $goods_list; goto EMo36; jI4yp: if (!request()->isAjax()) { goto JHN3I; } goto xu3ZR; NvfaP: uOlqG: goto C92hh; EMo36: JHN3I: goto kRot3; qGYGR: $goods_list = db::name("\x79\x62\x73\143\137\x67\x6f\157\144\x73")->alias("\x67")->join("\171\x62\163\x63\x5f\151\155\141\147\x65\163\40\x69", "\151\x2e\x69\x6d\147\137\151\144\75\147\56\151\155\141\x67\145\163")->field("\147\56\147\x6f\157\x64\x73\x5f\151\144\x2c\x67\x2e\147\157\x6f\144\x73\x5f\x6e\141\155\x65\54\x69\56\x69\155\147\137\x63\157\x76\145\x72")->where("\x67\56\x63\x61\x74\x65\137\151\144", $cate_id)->where("\x67\x2e\x73\x74\141\x74\x65", "\61")->where("\x67\x2e\x69\163\137\144\x65\x6c\x3c\76\61")->where("\147\56\155\143\150\x5f\x69\x64", $mch_id)->select(); goto HHbvI; YnTsN: foreach ($cate as $k => $v) { goto lg0ny; lg0ny: $goods_count = db::name("\171\142\x73\x63\x5f\x67\157\157\144\x73")->where("\x73\x74\x61\164\x65", "\61")->where("\151\163\x5f\x64\x65\x6c\x3c\x3e\61")->where("\x63\141\164\145\137\151\144", $v["\143\x61\164\145\x5f\151\144"])->count(); goto wN8QQ; wN8QQ: $cate[$k]["\147\x6f\157\144\x73\137\x63\157\x75\x6e\x74"] = $goods_count; goto Cmo8e; Cmo8e: hEDvX: goto l7qyq; l7qyq: } goto NvfaP; Gy32a: } public function del_article() { goto QbRiQ; HH4On: $article = new \app\admin\service\Article(); goto C6BZj; OKNe5: return AjaxReturn($res); goto GEJ5D; C6BZj: $data["\x73\x74\141\x74\165\163"] = "\55\61"; goto w7jkL; w7jkL: $res = $article->delArticle($data, $article_id); goto OKNe5; QbRiQ: $article_id = input("\x70\x61\162\x61\x6d\56\141\162\164\151\143\154\145\x5f\x69\144", ''); goto HH4On; GEJ5D: } public function article_class() { goto Fr8nS; HsNc4: return view("\x61\x72\164\x69\143\154\145\x2f\x61\x72\164\151\143\154\x65\x5f\x63\154\x61\163\163"); goto gOBQt; izDDG: $one_list = $article_class->getFormatClassCategoryList($this->bus_id); goto tyZ5j; Fr8nS: $article_class = new ArticleClass(); goto izDDG; tyZ5j: $this->assign("\x63\154\141\163\163\x5f\154\x69\163\164", $one_list); goto HsNc4; gOBQt: } public function add_article_class() { goto hoQJ8; Mg2Da: $data["\160\x69\144"] = input("\160\x61\162\141\155\56\x70\x69\144", 0); goto NCOha; cQ640: $data["\x6d\143\150\137\x69\x64"] = $this->bus_id; goto Mg2Da; bIAN4: j5Hdf: goto WhRk0; w1X4a: s69zH: goto uLOZ1; hoQJ8: $article_class = new ArticleClass(); goto BLWNi; BSISU: $data["\x63\x6c\141\163\163\137\x73\164\171\154\145"] = input("\160\x61\x72\x61\x6d\56\164\x68\x69\x73\x5f\162\141\x64\151\x6f", ''); goto IEDIL; BLWNi: if (!request()->post()) { goto s69zH; } goto cQ640; S5SZx: db::name("\x79\x62\x73\x63\x5f\x61\162\x74\x69\x63\154\x65\137\143\x6c\141\x73\163")->where("\x63\154\141\x73\x73\x5f\151\144", $res)->update(["\x70\141\x67\x65\163\137\x75\x72\x6c" => CLASS_ID . $res]); goto XXSRn; tUIH9: goto QEB10; goto bIAN4; jB5R1: return view("\x61\162\x74\151\x63\x6c\x65\x2f\x61\x64\x64\137\x61\x72\x74\151\143\154\145\x5f\x63\154\141\163\x73"); goto XhRLh; FwN3o: $data["\x63\x6c\141\163\x73\x5f\x69\155\147"] = input("\x70\141\162\141\155\x2e\142\x72\x61\156\x64\x5f\x70\x69\143", ''); goto e0VsY; yaM6L: $this->assign("\x63\154\x61\163\163\137\154\151\163\164", $category_list); goto jB5R1; FAb__: $res = db::name("\x79\142\163\143\x5f\x61\x72\x74\x69\x63\x6c\x65\x5f\x63\x6c\x61\163\163")->insertGetId($data); goto S5SZx; uZjc6: QEB10: goto HlGlZ; biWQX: $data["\x6c\145\166\145\154"] = $article_class->getClassCategoryDetail($data["\x70\x69\x64"])["\x6c\x65\166\x65\x6c"] + 1; goto tUIH9; IEDIL: $data["\x73\x6f\162\164"] = input("\160\141\162\141\x6d\x2e\143\x6c\x61\163\163\x5f\x73\157\162\164", ''); goto FwN3o; e0VsY: $data["\x63\162\145\x61\164\145\x5f\164\151\155\x65"] = time(); goto FAb__; HlGlZ: $data["\x6e\141\155\x65"] = input("\160\x61\x72\x61\155\56\143\154\x61\x73\163\x5f\156\x61\155\x65", ''); goto BSISU; uLOZ1: $category_list = $article_class->getClassCategoryTree(0, $this->bus_id); goto yaM6L; XXSRn: return AjaxReturn($res); goto w1X4a; WhRk0: $data["\154\145\x76\145\x6c"] = 1; goto uZjc6; NCOha: if ($data["\x70\x69\144"] == 0) { goto j5Hdf; } goto biWQX; XhRLh: } public function edit_article_class() { goto Zr7Zt; AE02s: foreach ($chile_list as $k => $v) { goto v_lc6; v_lc6: if (!($v["\x6c\145\166\x65\x6c"] == 3)) { goto B4IPS; } goto BTOSR; VihuN: B4IPS: goto OPj2X; BTOSR: $is_have = true; goto VihuN; OPj2X: F_qQ1: goto MNqj3; MNqj3: } goto HjyBE; hmpUC: esGud: goto jkvmh; hmFta: if (!strstr($img, THIS_URL)) { goto dppgt; } goto ZSn3a; JdDp9: $this->assign("\143\154\141\163\x73\137\154\x69\163\x74", $category_list); goto YFlmT; U1nqB: if ($result["\x6c\145\166\145\154"] == 3) { goto jJU6y; } goto UYP8c; t_SNj: jJU6y: goto wL_Di; UYP8c: goto XwPIX; goto AAVf9; QdYVs: goto w2a1z; goto DnQnT; zSWWu: $data["\160\151\x64"] = input("\160\x61\162\x61\x6d\56\160\x69\x64", 0); goto IWSc8; HDFiB: $result = $article_class->getClassCategoryDetail($category_id); goto igscj; ENSrC: foreach ($category_list as $k => $v) { goto tF6b0; nEbaC: if (!isset($v["\x63\150\151\x6c\144\137\x6c\x69\163\x74"])) { goto dmB40; } goto Ioj26; gZga3: xUx2g: goto jBWeS; PwXw4: PJBvO: goto HSKcj; HSKcj: sort($temp_array); goto UMRYM; Ioj26: $temp_array = $v["\x63\150\151\x6c\144\x5f\x6c\151\163\164"]; goto N3bly; unCba: goto xUx2g; goto PeyzP; jBWeS: aOPq7: goto iSejH; trnkf: unset($category_list[$k]); goto gZga3; UMRYM: $category_list[$k]["\143\150\151\154\144\137\x6c\151\163\164"] = $temp_array; goto D6dsl; PeyzP: tJ1IW: goto trnkf; tF6b0: if ($v["\143\154\x61\x73\163\137\151\144"] == $category_id && $category_id !== 0) { goto tJ1IW; } goto nEbaC; D6dsl: dmB40: goto unCba; N3bly: foreach ($temp_array as $t => $m) { goto OKOPx; Kfr1Y: RJE75: goto GdJO1; OKOPx: if (!($m["\143\154\x61\x73\163\x5f\x69\x64"] == $category_id && $category_id !== 0)) { goto BMi6L; } goto QDBJ7; QDBJ7: unset($temp_array[$t]); goto H39lW; H39lW: BMi6L: goto Kfr1Y; GdJO1: } goto PwXw4; iSejH: } goto aYfwK; VxxsG: if (empty($chile_list)) { goto rVjGx; } goto YGSsM; xH0ln: XwPIX: goto w86WN; bJC3o: goto Di2wJ; goto BTRYh; ThMKz: goto gjs2F; goto u6QHE; WpQ2t: Di2wJ: goto f4Oc9; StRcg: $category_list = $article_class->getClassCategoryListByParentId(0, $mch_id); goto QdYVs; B24GR: w2a1z: goto A9mCL; wpvb6: goto XwPIX; goto t_SNj; YGSsM: $is_have = false; goto AE02s; sOiJS: $res = $article_class->updateArticleClass($data); goto YAS1q; YiTtr: $data["\156\141\x6d\x65"] = input("\x70\141\162\x61\155\x2e\143\154\x61\163\163\x5f\x6e\x61\x6d\x65", ''); goto zSWWu; PCSNo: gjs2F: goto YMEkV; igscj: $this->assign("\143\154\141\x73\163", $result); goto v8CeB; YAS1q: return AjaxReturn($res); goto TvQ0l; xBsFu: muP2x: goto dbM25; aYfwK: CC7mH: goto jgXCk; DnQnT: lchG3: goto ZShJf; hNT98: TBZb8: goto JdDp9; vg_g6: $img = input("\x70\x61\x72\141\155\56\x62\162\x61\156\144\x5f\x70\151\143", ''); goto hmFta; PLOIH: if ($result["\x6c\x65\166\145\154"] == 2) { goto muP2x; } goto U1nqB; A9mCL: goto dvcmh; goto Wj9F3; dbM25: $chile_list = $article_class->getClassCategoryListByParentId($category_id, $mch_id); goto D5eNo; YFlmT: return view("\141\162\164\x69\143\x6c\x65\x2f\145\144\x69\164\x5f\x61\x72\164\151\143\x6c\145\137\143\x6c\x61\x73\x73"); goto r9UUD; BTRYh: dppgt: goto owiRg; PlUXl: goto XwPIX; goto xBsFu; w86WN: if (empty($category_list)) { goto TBZb8; } goto ENSrC; itO2p: $category_id = request()->get("\143\154\x61\x73\x73\137\x69\x64", ''); goto HDFiB; dzUvi: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto QoDWi; MN73w: $data["\154\145\x76\145\x6c"] = $article_class->getClassCategoryDetail($data["\160\x69\144"])["\x6c\145\166\x65\154"] + 1; goto ThMKz; YMEkV: $data["\x73\157\x72\164"] = input("\160\141\162\x61\x6d\x2e\143\x6c\x61\x73\163\137\163\x6f\x72\x74", ''); goto NWG9w; v8CeB: if ($result["\154\145\166\145\x6c"] == 1) { goto GGNF1; } goto PLOIH; f4Oc9: $data["\x63\x72\145\141\x74\145\x5f\x74\151\155\145"] = time(); goto sOiJS; ZSn3a: $data["\x63\x6c\x61\163\163\x5f\x69\x6d\147"] = $img; goto bJC3o; jgXCk: sort($category_list); goto hNT98; IWSc8: if ($data["\x70\x69\x64"] == 0) { goto noBtg; } goto MN73w; AAVf9: GGNF1: goto ique7; QoDWi: if (!request()->post()) { goto YUq0e; } goto BbfMh; Zr7Zt: $article_class = new ArticleClass(); goto dzUvi; TEGX6: $data["\154\145\x76\x65\x6c"] = 1; goto PCSNo; jkvmh: $category_list = $article_class->getClassCategoryTree(0, $mch_id); goto hy4Vp; lYW4Z: $category_list = $article_class->getClassCategoryTree(0, $mch_id); goto SmzY8; hy4Vp: nIAjh: goto wpvb6; nKGWw: goto nIAjh; goto hmpUC; ZShJf: $category_list = array(); goto B24GR; u6QHE: noBtg: goto TEGX6; HjyBE: dhXDy: goto kCUJb; aA205: $category_list = $article_class->getClassCategoryListByParentId(0, $mch_id); goto nKGWw; wL_Di: $category_list = $article_class->getClassCategoryTree(0, $mch_id); goto xH0ln; TvQ0l: YUq0e: goto itO2p; Wj9F3: rVjGx: goto lYW4Z; kCUJb: if ($is_have) { goto lchG3; } goto StRcg; owiRg: $data["\143\154\x61\163\163\137\151\155\x67"] = $img; goto WpQ2t; SmzY8: dvcmh: goto PlUXl; NWG9w: $data["\x63\154\141\x73\163\x5f\163\x74\x79\x6c\145"] = input("\160\141\162\141\155\56\x74\x68\151\x73\137\x72\141\x64\151\157", ''); goto vg_g6; ique7: $chile_list = $article_class->getClassCategoryTree($category_id, $mch_id); goto VxxsG; D5eNo: if (empty($chile_list)) { goto esGud; } goto aA205; BbfMh: $data["\x63\154\141\x73\x73\137\x69\144"] = input("\160\x61\162\x61\x6d\x2e\143\154\141\163\163\137\x69\x64", "\60"); goto YiTtr; r9UUD: } public function del_article_class() { goto bW8NN; bW8NN: $class_id = input("\x70\x61\162\x61\x6d\56\x63\x6c\x61\x73\163\x5f\x69\x64", "\60"); goto lpVlf; z5bAX: return AjaxReturn($res); goto Vf2bQ; lpVlf: $res = db::name("\x79\142\163\143\x5f\141\162\164\151\143\154\x65\137\143\154\141\x73\x73")->where("\143\154\141\x73\x73\x5f\151\x64\x7c\x70\151\x64", $class_id)->update(["\x69\x73\137\144\x65\154" => 2]); goto z5bAX; Vf2bQ: } public function message_send() { return view("\141\162\x74\151\x63\154\145\57\x6d\x65\163\163\x61\x67\145\137\x73\x65\156\144"); } public function message_send_wx() { return view("\141\x72\x74\151\x63\154\x65\57\155\145\x73\163\141\x67\x65\137\x73\x65\x6e\x64\x5f\167\170"); } public function send_message() { goto TX2m5; n2Xip: $this->assign("\164\155\x70\x6c\x5f\151\144", $id); goto Xx0RM; Xx0RM: $this->assign("\x64\x61\x74\x61\137\164\151\155\x65", date("\x59\345\271\xb4\155\xe6\234\x88\x64\346\x97\xa5")); goto NbabA; NbabA: return view("\141\162\x74\151\x63\154\145\57\x73\145\x6e\x64\x5f\x6d\145\163\163\x61\x67\x65\x5f\x74\x6f"); goto FP4an; TX2m5: $id = input("\160\141\162\x61\155\56\164\x6d\x70\x6c\x5f\x69\x64"); goto n2Xip; FP4an: } public function add_user_msg() { goto pHBww; MXH3D: rfnbZ: goto mPNG3; M6s0a: $i++; goto JZ3lw; G3UOb: $return = array(); goto OPSJ2; nd5By: aWhXx: goto M6s0a; pHBww: $id = input("\x70\x61\162\141\155\x2e\x74\155\160\x6c\137\151\144"); goto aX2tP; gjdKQ: $ok = 0; goto Wh4tN; Wh4tN: $no = 0; goto G3UOb; TWbBq: return $return; goto hj_jP; aX2tP: $content = json_decode(input("\160\x61\x72\x61\x6d\x2e\x6d\145\x6e\x75\x5f\162\154\x69\163\164"), true); goto MHOam; lHtn9: $str_array = array(); goto betEz; MTwKE: $str_array["\x6b\145\x79\x77\157\162\x64" . ($i + 1)] = ["\x76\141\154\x75\145" => $content[$i]["\x76\x61\x6c\165\145\x73"]]; goto nd5By; MHOam: $time = time(); goto lHtn9; gnqCM: buDTS: goto TWbBq; mPNG3: if (!($i < count($content))) { goto geFJ5; } goto MTwKE; dix1I: $bus_user = db::name("\x79\x62\x73\143\x5f\x75\x73\x65\162\137\146\157\x72\x6d\151\x64")->where("\x63\x72\145\x61\x74\x65\x5f\x74\151\155\145", "\76", $time - 597800)->where("\x6d\x63\150\x5f\151\x64", $this->bus_id)->order("\x63\x72\x65\141\x74\x65\x5f\164\151\x6d\145\x20\141\x73\x63")->group("\x6f\160\x65\156\x5f\x69\144")->select(); goto gjdKQ; h_14X: geFJ5: goto dix1I; JZ3lw: goto rfnbZ; goto h_14X; betEz: $i = 0; goto MXH3D; OPSJ2: foreach ($bus_user as $k => $v) { goto Kq20J; iQflZ: yz2C0: goto Rg3LY; cTkaZ: if ($res["\145\x72\162\x63\157\144\145"] == 0) { goto otw4v; } goto mCxhA; OPMVw: otw4v: goto uYUue; Rg3LY: db::name("\x79\x62\x73\143\137\165\x73\145\162\x5f\x66\x6f\162\x6d\151\x64")->where("\151\x64", $v["\151\x64"])->delete(); goto swCJC; Kq20J: $data = array("\164\x6f\x75\163\145\162" => $v["\157\x70\145\156\137\151\144"], "\160\141\147\145" => "\x69\x6e\144\145\x78", "\164\145\155\x70\154\x61\164\145\x5f\151\x64" => $id, "\146\157\x72\x6d\x5f\x69\x64" => $v["\146\157\162\x6d\137\x69\144"], "\x64\x61\x74\141" => $str_array); goto QWqqi; QWqqi: $res = $this->post_yes_send($data); goto cTkaZ; odNjK: q6pyJ: goto b7sFW; mCxhA: $no++; goto phUGw; swCJC: $return["\x6f\153"] = $ok; goto JuXzK; phUGw: goto yz2C0; goto OPMVw; uYUue: $ok++; goto iQflZ; JuXzK: $return["\x6e\157"] = $no; goto odNjK; b7sFW: } goto gnqCM; hj_jP: } public function post_yes_send($json) { goto wsmgo; wKEfg: $acc_out = $this->post($url, $json); goto YW_s1; B3Sp2: $url = "\150\164\x74\x70\163\72\57\57\x61\x70\151\56\167\x65\151\x78\151\x6e\x2e\161\161\x2e\143\157\155\57\143\147\151\x2d\142\x69\156\x2f\155\x65\x73\163\141\147\145\x2f\167\170\x6f\x70\145\x6e\57\x74\x65\x6d\x70\x6c\141\x74\145\x2f\163\x65\156\144\x3f\141\143\143\145\163\163\137\164\157\153\145\x6e\75" . $token; goto wKEfg; YW_s1: return $acc_out; goto RqoO_; wsmgo: $token = $this->get_authorizer_access_token(); goto B3Sp2; RqoO_: } public function post_send_message() { goto KFAgB; UhCGi: header("\x43\x6f\156\x74\145\156\x74\x2d\164\x79\160\x65\72\x20\x74\x65\170\164\57\x68\x74\155\x6c\73\x20\x63\x68\141\162\x73\145\x74\75\165\164\146\55\70"); goto FlyH9; os1BT: return $this_tmpl; goto rSbLE; A1TnP: $data = array("\x6f\x66\146\163\145\x74" => 0, "\143\157\x75\x6e\x74" => 20); goto Qv0Av; n8VQS: foreach ($string_arr as $k => $v) { goto mxuRD; TtseD: $str = join('', $matches[0]); goto UkOaa; UHgGl: yCCuT: goto VarYq; UkOaa: array_push($str_arr, $str); goto UHgGl; mxuRD: preg_match_all("\57\133\x5c\170\173\x34\x65\60\x30\175\55\134\170\173\x39\x66\x66\x66\175\x5d\x2b\57\165", $v, $matches); goto TtseD; VarYq: } goto duKG3; XySm9: foreach ($acc_out["\x6c\151\163\164"] as $k => $v) { goto GU2Sz; GU2Sz: if (!($v["\164\145\x6d\x70\154\141\164\x65\x5f\151\x64"] == $id)) { goto KohB4; } goto It_U9; fskyN: KohB4: goto LfL3H; LfL3H: HtAjw: goto H810v; It_U9: $this_tmpl = $v; goto fskyN; H810v: } goto NP2Pi; duKG3: Z7EXE: goto v55IS; GKwyg: $url = "\150\164\164\160\x73\x3a\57\x2f\141\160\151\56\167\145\x69\170\x69\x6e\x2e\161\x71\x2e\x63\157\x6d\x2f\143\x67\151\x2d\142\x69\x6e\x2f\167\x78\x6f\160\145\156\57\x74\145\155\160\154\141\164\x65\57\x6c\x69\163\164\x3f\x61\x63\x63\x65\x73\163\x5f\x74\157\153\x65\x6e\75" . $token; goto A1TnP; W7QTN: $string_arr = explode("\12", $this_tmpl["\143\x6f\156\x74\145\x6e\164"]); goto hUCrd; KFAgB: $id = input("\160\x61\162\141\x6d\56\164\155\160\x6c\x5f\151\x64"); goto jDgfg; NP2Pi: wQIDH: goto W7QTN; hUCrd: array_pop($string_arr); goto UhCGi; v55IS: $this_tmpl["\143\x6f\x6e\164\x65\156\164"] = $str_arr; goto os1BT; Qv0Av: $acc_out = $this->post($url, $data); goto ZQx39; FlyH9: $str_arr = array(); goto n8VQS; ZQx39: $this_tmpl = array(); goto XySm9; jDgfg: $token = $this->get_authorizer_access_token(); goto GKwyg; rSbLE: } public function post_message_send() { goto MoaVv; riVKe: $url = "\150\164\164\160\163\72\x2f\x2f\x61\x70\x69\56\x77\x65\151\170\x69\x6e\x2e\161\x71\x2e\143\157\x6d\57\x63\x67\x69\x2d\142\x69\x6e\x2f\x77\170\157\160\x65\x6e\x2f\x74\145\155\x70\x6c\141\x74\145\57\x6c\x69\163\164\x3f\x61\x63\143\x65\163\x73\x5f\164\157\x6b\x65\x6e\75" . $token; goto ZtQya; dNl6U: $acc_out = $this->post($url, $data); goto wOL2N; wOL2N: return $acc_out; goto bgzE8; MoaVv: $offset = input("\160\141\162\141\155\x2e\x6f\146\146\x73\145\164") - 1; goto MtsiN; ZtQya: $data = array("\x6f\x66\x66\163\x65\164" => $offset * $count, "\143\x6f\x75\156\164" => $count); goto dNl6U; MtsiN: $count = 20; goto KgOsA; KgOsA: $token = $this->get_authorizer_access_token(); goto riVKe; bgzE8: } public function post_del_send() { goto uBzcA; sFjPy: return $acc_out; goto SbEI_; i6mOg: $url = "\150\164\164\160\x73\x3a\x2f\57\141\160\151\56\167\x65\x69\170\x69\x6e\x2e\x71\161\x2e\x63\157\x6d\x2f\x63\x67\x69\55\142\151\156\57\167\x78\157\160\x65\156\57\x74\x65\155\x70\154\141\164\x65\x2f\x64\x65\x6c\x3f\141\x63\143\x65\163\x73\x5f\x74\157\x6b\x65\156\x3d" . $token; goto rF06T; uBzcA: $template_id = input("\160\x61\x72\x61\x6d\x2e\x69\144"); goto gxM17; yy8BW: $acc_out = $this->post($url, $data); goto sFjPy; gxM17: $token = $this->get_authorizer_access_token(); goto i6mOg; rF06T: $data = array("\x74\145\x6d\x70\154\141\164\145\137\151\x64" => $template_id); goto yy8BW; SbEI_: } public function select_message_send() { goto NNIRB; MAOcT: $acc_out = $this->post($url, $data); goto rICVL; zaaZo: return view("\x61\x72\x74\x69\143\x6c\145\57\163\x65\154\x65\143\x74\137\x6d\x65\x73\x73\141\x67\x65\137\163\x65\x6e\x64"); goto PGa9t; NNIRB: if (!request()->isAjax()) { goto kVxMh; } goto TmYHt; TmYHt: $tmpl_id = input("\x70\141\x72\141\x6d\x2e\x74\x6d\160\154\x5f\151\144"); goto mA9xp; r_LVb: $this->assign("\144\141\164\x61\x5f\x74\151\x6d\145", date("\131\345\271\264\155\xe6\x9c\210\x64\xe6\227\xa5")); goto zaaZo; Y8BMP: $tmpl_id = input("\x70\x61\162\141\x6d\x2e\164\155\160\x6c\x5f\151\x64"); goto kbJSe; mA9xp: $token = $this->get_authorizer_access_token(); goto ercvb; ercvb: $url = "\x68\164\x74\x70\x73\72\57\x2f\x61\160\151\x2e\x77\145\x69\x78\x69\156\56\x71\x71\56\x63\x6f\x6d\x2f\143\x67\151\55\142\151\x6e\x2f\167\x78\157\x70\145\x6e\x2f\164\145\x6d\160\154\x61\x74\x65\57\x6c\151\x62\x72\x61\x72\171\57\x67\145\164\77\141\x63\x63\145\x73\163\137\164\157\153\145\156\x3d" . $token; goto eCsnq; oPZiS: kVxMh: goto Y8BMP; rICVL: return $acc_out; goto oPZiS; kbJSe: $this->assign("\x74\155\x70\154\137\151\x64", $tmpl_id); goto r_LVb; eCsnq: $data = array("\151\x64" => $tmpl_id); goto MAOcT; PGa9t: } public function add_my_menu() { goto Xkpb8; sp452: foreach ($list as $k => $v) { $string .= $v["\x6b\x65\x79\x77\x6f\x72\x64\x5f\151\x64"] . "\x2c"; dgxUu: } goto mHhUg; p3nb3: $string_arr = explode("\x2c", $string); goto vdZSO; R2gIa: $string = substr($string, 0, -1); goto p3nb3; vdZSO: $tmpl_id = input("\x70\x61\x72\x61\x6d\x2e\164\155\160\154\137\151\144"); goto dHDWJ; GfVl9: $string = ''; goto sp452; kbgNx: return $acc_out; goto oRAjR; mHhUg: BRX2F: goto R2gIa; G0It_: $data = array("\x69\x64" => $tmpl_id, "\x6b\x65\x79\x77\157\x72\x64\x5f\151\144\137\154\x69\x73\164" => $string_arr); goto Lu6ve; Xkpb8: $list = json_decode(input("\160\x61\162\x61\155\x2e\x73\x65\154\x65\143\x74\x5f\155\x65\156\165\137\154\x69\x73\x74"), true); goto GfVl9; AQDrh: $url = "\150\x74\x74\160\163\x3a\57\x2f\141\x70\x69\x2e\167\145\x69\170\x69\x6e\56\161\161\x2e\x63\157\155\57\143\x67\151\x2d\x62\x69\156\57\167\170\157\x70\x65\x6e\x2f\x74\145\x6d\160\154\x61\x74\145\x2f\x61\144\x64\77\141\x63\143\145\163\x73\137\164\157\153\x65\156\x3d" . $token; goto G0It_; Lu6ve: $acc_out = $this->post($url, $data); goto kbgNx; dHDWJ: $token = $this->get_authorizer_access_token(); goto AQDrh; oRAjR: } public function wx_tmpl_list() { goto AJlLn; hcaJF: return $acc_out; goto mffcG; Ph4pM: $count = 20; goto nnWAU; FlT8i: $url = "\150\164\x74\x70\x73\72\57\57\141\160\x69\x2e\167\x65\x69\x78\151\156\x2e\x71\161\56\x63\157\155\x2f\143\147\151\x2d\x62\x69\156\57\x77\170\157\x70\145\156\x2f\164\x65\x6d\x70\154\x61\x74\x65\x2f\x6c\x69\142\x72\141\162\x79\x2f\x6c\151\163\x74\x3f\141\x63\143\145\x73\x73\137\164\157\153\145\156\75" . $token; goto FGxu1; nnWAU: $token = $this->get_authorizer_access_token(); goto FlT8i; xj16_: $acc_out = $this->post($url, $data); goto hcaJF; AJlLn: $offset = input("\160\x61\x72\141\x6d\56\x6f\x66\x66\163\145\x74") - 1; goto Ph4pM; FGxu1: $data = array("\157\x66\146\163\x65\x74" => $offset * $count, "\143\157\x75\x6e\x74" => $count); goto xj16_; mffcG: } public function post($url, $post_data = '') { goto fndNQ; xxtqI: curl_setopt($ch, CURLOPT_POST, 1); goto w3JAm; fndNQ: $ch = curl_init(); goto KFnNb; w3JAm: curl_setopt($ch, CURLOPT_POSTFIELDS, $this->decodeUnicode(json_encode($post_data))); goto iP3wZ; el1jA: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto xxtqI; iP3wZ: $output = json_decode(curl_exec($ch), true); goto pjVrN; QV26U: return $output; goto scnaQ; pjVrN: curl_close($ch); goto QV26U; KFnNb: curl_setopt($ch, CURLOPT_URL, $url); goto el1jA; scnaQ: } public function get($url) { $data = file_get_contents($url); return $data; } public function get_component_access_token() { goto op5lP; m6IK7: $component_access_token = $access_token["\143\157\155\x70\x6f\156\x65\x6e\x74\137\141\143\143\145\163\x73\x5f\x74\157\153\x65\x6e"]; goto GSdzc; NyZyA: $mi = db::name("\x79\142\163\143\x5f\x63\x6f\x6e\x66\151\x67")->where("\x6b\145\x79", "\x57\x49\x4e\130\x49\116\x54\x4f\113\x45\x4e")->find(); goto B4a06; BZUF0: $post_data = array("\x63\x6f\x6d\x70\x6f\156\x65\x6e\x74\x5f\x61\160\160\x69\x64" => "\167\170\x37\x62\145\x34\x38\146\144\63\x33\x33\x37\x61\65\x65\x34\143", "\x63\157\155\160\x6f\156\x65\x6e\164\x5f\141\160\160\x73\x65\x63\x72\145\x74" => "\x62\62\x32\143\143\62\142\x63\145\x65\x61\63\x64\64\145\x33\x32\64\x38\142\x33\x62\63\x63\x64\x38\63\141\145\71\x62\x65", "\x63\157\155\x70\x6f\x6e\x65\x6e\x74\137\x76\145\x72\x69\146\171\x5f\164\x69\x63\153\x65\x74" => $mi["\x76\141\x6c\165\x65"]); goto P1Niy; P1Niy: $access_token = $this->post($url, $post_data); goto R2C7x; op5lP: $res = db::name("\171\142\x73\x63\137\143\x6f\156\x66\151\x67")->where("\x6b\145\171", "\127\111\x4e\x58\x49\x4e\x54\x4f\x4b\x45\116")->find(); goto hyEfl; B4a06: $url = "\x68\164\164\160\x73\x3a\57\x2f\x61\x70\151\x2e\167\145\x69\x78\x69\x6e\x2e\161\161\x2e\x63\x6f\155\x2f\x63\147\x69\55\142\x69\x6e\x2f\143\x6f\155\160\157\156\145\x6e\164\57\141\160\x69\x5f\143\x6f\155\160\x6f\156\145\x6e\164\x5f\x74\x6f\153\145\156"; goto BZUF0; GSdzc: M20A6: goto frpM_; pUPoV: goto M20A6; goto usOsA; frpM_: return $component_access_token; goto isTiT; usOsA: Ok4Wf: goto NyZyA; pzmBH: $component_access_token = $res["\x76\x61\154\165\145\62"]; goto pUPoV; R2C7x: db::name("\x79\142\163\x63\137\143\x6f\x6e\146\151\147")->where("\153\145\x79", "\127\x49\116\x58\111\116\124\117\x4b\x45\x4e")->update(["\x76\141\x6c\165\x65\62" => $access_token["\143\x6f\x6d\x70\157\x6e\145\156\164\x5f\x61\x63\143\x65\x73\x73\x5f\164\x6f\153\145\x6e"], "\155\157\144\151\146\171\137\164\x69\x6d\145" => time()]); goto m6IK7; hyEfl: if ($res["\x6d\x6f\x64\151\146\171\x5f\x74\151\x6d\145"] + 6000 <= time()) { goto Ok4Wf; } goto pzmBH; isTiT: } public function get_authorizer_access_token() { goto ApxuI; LuvhZ: $acc_data = array("\143\x6f\155\x70\x6f\156\145\x6e\164\137\141\160\160\151\144" => "\x77\x78\67\x62\145\x34\x38\146\x64\x33\63\x33\67\x61\65\x65\x34\x63", "\141\165\x74\x68\x6f\162\151\x7a\x65\162\137\141\160\x70\x69\x64" => $red["\x61\160\x70\111\x64"], "\141\165\x74\x68\157\x72\x69\172\x65\x72\x5f\162\x65\146\162\x65\x73\150\x5f\x74\157\153\x65\x6e" => $red["\141\x75\x74\150\x6f\x72\x69\172\x65\162\137\x72\145\146\162\145\163\x68\x5f\164\x6f\x6b\x65\156"]); goto Ar2sJ; wCxj1: $mch_id = isset($this->bus_id) ? $this->bus_id : "\60"; goto NSOrB; hhohm: $acc_url = "\x68\164\x74\160\163\72\x2f\57\141\x70\x69\x2e\x77\x65\x69\x78\x69\156\x2e\161\161\x2e\x63\x6f\x6d\57\143\x67\x69\55\142\151\156\x2f\x63\157\155\x70\x6f\156\x65\156\164\x2f\141\x70\151\137\141\165\164\150\157\162\x69\x7a\145\x72\137\x74\157\153\145\156\x3f\x63\157\155\x70\x6f\156\x65\x6e\164\x5f\141\143\143\x65\x73\163\x5f\164\x6f\x6b\x65\x6e\x3d" . $token; goto LuvhZ; On0gu: RgXSq: goto D5zJ9; yKJEY: db::name("\171\142\x73\143\x5f\x62\165\163\151\156\145\x73\163\x5f\143\157\x6e\x66\x69\147")->where("\155\x63\150\x5f\151\x64", $mch_id)->update($dd); goto u6mBQ; wTHBG: $out = db::name("\171\142\163\143\x5f\142\x75\163\151\156\x65\x73\x73\x5f\143\157\156\146\x69\x67")->where("\155\x63\x68\137\x69\x64", $mch_id)->find(); goto jBK2b; RAd35: $dd["\x74\157\153\x65\156"] = $acc_out["\x61\165\x74\150\157\162\x69\x7a\145\x72\x5f\141\x63\x63\x65\x73\163\x5f\x74\x6f\x6b\x65\156"]; goto RWaHa; QAUIv: if (!($red["\x64\141\164\x65\x5f\164\151\155\x65"] + 10 <= time())) { goto s0_xJ; } goto hhohm; u6mBQ: goto RgXSq; goto ztvNe; D5zJ9: s0_xJ: goto wTHBG; ApxuI: $token = $this->get_component_access_token(); goto wCxj1; NSOrB: $red = db::name("\x79\x62\163\x63\x5f\x62\165\x73\151\x6e\145\163\163\137\x63\x6f\x6e\x66\x69\x67")->where("\155\143\150\x5f\151\144", $mch_id)->find(); goto QAUIv; J8zci: if ($acc_out["\145\x72\162\143\157\x64\145"] != 0) { goto NXkNI; } goto RAd35; cS0t0: return "\66\x31\60\60\x33"; goto On0gu; RWaHa: $dd["\144\141\164\145\x5f\164\x69\x6d\x65"] = time(); goto yKJEY; jBK2b: return $out["\x74\157\153\145\156"]; goto LfmEM; ztvNe: NXkNI: goto cS0t0; Ar2sJ: $acc_out = $this->post($acc_url, $acc_data); goto J8zci; LfmEM: } function decodeUnicode($str) { return preg_replace_callback("\x2f\134\134\165\x28\x5b\x30\x2d\71\x61\x2d\146\135\x7b\64\x7d\51\57\x69", create_function("\x24\x6d\141\164\143\150\145\x73", "\x72\145\x74\x75\162\156\x20\155\x62\x5f\x63\157\x6e\x76\x65\x72\x74\x5f\x65\x6e\x63\157\x64\151\156\x67\x28\160\141\x63\153\x28\x22\x48\x2a\42\x2c\x20\44\x6d\x61\164\143\x68\x65\163\x5b\x31\x5d\51\54\40\42\125\124\x46\55\x38\x22\x2c\40\42\125\x43\x53\55\62\102\105\x22\51\x3b"), $str); } public function article_type() { goto py4e9; py4e9: $id = input("\x70\x61\x72\x61\x6d\56\x69\144"); goto kTpDJ; H2_Th: $res = db::name("\171\142\x73\143\x5f\141\x72\x74\x69\x63\x6c\x65")->where("\141\162\164\151\x63\154\x65\137\x69\x64", $id)->update(["\164\x79\160\145" => $type]); goto vKtIC; kTpDJ: $type = input("\160\x61\x72\141\x6d\56\164\171\160\145"); goto H2_Th; vKtIC: return AjaxReturn($res); goto tiwm9; tiwm9: } public function collect() { goto bmYGd; ooMUX: preg_match_all("\x2f\x69\x64\x3d\x22\152\163\137\143\x6f\x6e\x74\x65\156\164\x22\76\x28\x2e\52\51\74\x73\143\x72\x69\160\x74\x2f\151\x55\x73", $html, $content, PREG_PATTERN_ORDER); goto Kb6Tp; MYIl3: preg_match_all("\x2f\166\141\162\x20\x6d\x73\147\x5f\x63\144\156\x5f\x75\x72\x6c\40\75\40\x5c\x22\50\x2e\x2a\77\51\x5c\42\x3b\57\x73\x69", $html, $m); goto CQMyj; LG1R9: $nickname = htmlspecialchars_decode($m[1][0]); goto MYIl3; W5n9g: $content = str_replace("\x70\x72\145\x76\151\x65\167\x2e\x68\x74\155\x6c", "\160\154\141\x79\x65\162\56\150\x74\x6d\154", $content); goto XB2uV; uj6Th: G5fxc: goto hoGEQ; Kb6Tp: if (!empty($content[1][0]) && '' != $content[1][0]) { goto kzQ2D; } goto Qprde; uFr5i: $data["\x73\x68\x6f\162\x74\x5f\x74\151\x74\154\145"] = trim($short_title); goto JZKE6; rNkh4: preg_match_all("\x2f\x76\x61\162\x20\155\x73\x67\x5f\x74\151\x74\154\145\40\x3d\x20\x5c\x22\50\56\52\x3f\51\x5c\42\73\x2f\163\x69", $html, $title, PREG_PATTERN_ORDER); goto eieD3; vTLQi: preg_match_all("\57\x76\x61\x72\40\156\151\143\153\156\x61\x6d\x65\x20\x3d\x20\134\42\x28\56\x2a\x3f\x29\134\x22\73\x2f\x73\151", $html, $m); goto LG1R9; hoGEQ: return view(); goto VOlQS; XB2uV: hV66r: goto rNkh4; ml2G4: $html = file_get_contents($content_url); goto ooMUX; ELL5C: kzQ2D: goto QK7Kh; JZKE6: $data["\156\151\x63\153\156\x61\155\145"] = trim($nickname); goto ALZQu; RpQqt: $short_title = htmlspecialchars_decode($short_title[1][0]); goto vTLQi; QK7Kh: $content = "\x3c\144\x69\166\40\x69\144\x3d\47\152\x73\137\x63\x6f\x6e\164\x65\156\x74\x27\x3e" . $content[1][0]; goto YNReu; W2C_B: $data["\143\157\x6e\x74\145\156\x74"] = trim($content); goto QRQfO; ALZQu: $data["\155\x73\x67\x5f\151\x6d\x67"] = trim($msg_img); goto W2C_B; buSGq: $data["\x74\151\164\x6c\x65"] = trim($title); goto uFr5i; bmYGd: if (!(request()->isAjax() && request()->isPost())) { goto G5fxc; } goto ZGcRa; FXLo3: preg_match_all("\57\x76\x61\162\x20\155\163\147\137\144\x65\163\143\40\x3d\40\x5c\x22\x28\x2e\x2a\x3f\x29\134\x22\73\x2f\x73\x69", $html, $short_title, PREG_PATTERN_ORDER); goto RpQqt; Qprde: $content = ''; goto J3Uuz; YNReu: $content = str_replace("\x64\141\164\141\55\163\162\143", "\163\162\143", $content); goto W5n9g; ZGcRa: $content_url = request()->post("\x75\x72\x6c"); goto ml2G4; eieD3: $title = htmlspecialchars_decode($title[1][0]); goto FXLo3; J3Uuz: goto hV66r; goto ELL5C; CQMyj: $msg_img = htmlspecialchars_decode($m[1][0]); goto buSGq; QRQfO: return json($data); goto uj6Th; VOlQS: } }
