<?php
 namespace app\admin\controller; use app\admin\service\ConfigService; use think\Cache; use think\Cookie; use think\Db; class League extends Base { public function index() { goto L2dYa; Y1od5: $data["\x75\x72\x6c"] = $un_url[0]; goto ik1de; MJaDn: $list = json_decode($list, true); goto GEGUX; MSjtw: $list = self::query($data, "\155\x61\x6e\x64"); goto MJaDn; wGK2k: if (!($list["\x69\144"] != '')) { goto M5FYe; } goto J6JOe; ycX1p: $data["\x75\x6e\151\x61\143\151\x64"] = $_SESSION["\x77\x65\67\x5f\x61\x63\143\x6f\165\156\164"]["\165\156\x69\x61\x63\151\x64"]; goto MSjtw; L2dYa: $un_data["\165\x72\x6c"] = $_SERVER["\110\124\x54\120\x5f\x48\117\123\x54"]; goto YuMJ0; ik1de: $data["\165\x73\x65\x72\156\141\x6d\145"] = $_SESSION["\167\145\x37\137\165\x73\x65\162"]["\x75\x73\x65\162\x6e\x61\x6d\145"]; goto ycX1p; GEGUX: $this->assign("\x6c\x69\163\164", $list); goto wGK2k; J6JOe: Cookie::set("\163\150\x61\160", $list["\x69\144"]); goto L2gIf; YuMJ0: $un_url = explode("\x3a", $un_data["\x75\162\154"]); goto Y1od5; L2gIf: M5FYe: goto oePvo; oePvo: return view(); goto v7TH8; v7TH8: } public function shape() { goto JaKm8; Y3DE2: $un_data["\x73\150\141\x70"] = Cookie::get("\163\150\141\x70"); goto DzPZQ; JaKm8: $snap = $_SESSION["\x77\x65\x37\137\x77"]["\x73\151\x74\x65\162\x6f\157\164"] . "\x61\x64\x64\157\156\x73"; goto y527c; SABrl: $un_data = request()->param(); goto a0_8c; ELSvc: gQFOw: goto Rt9jH; ehHam: $cuff = array_values($cuff); goto T5KSP; Yx3OY: $un_data["\x75\163\145\x72\156\141\x6d\x65"] = $_SESSION["\167\145\x37\x5f\165\x73\x65\x72"]["\x75\x73\145\162\x6e\x61\x6d\145"]; goto Y3DE2; nQhVw: $cuff = explode("\x2f\57", $cuff[0]); goto Jgtt9; Jgtt9: $cuff = explode("\x2f", $cuff[1]); goto Eb2v2; a0_8c: $un_data["\x75\162\x6c"] = $_SERVER["\110\124\x54\x50\137\x48\x4f\x53\x54"]; goto h9Tu7; OICxI: $un_data["\x75\x72\x6c"] = $un_url[0]; goto kpvrQ; y527c: $cuff = explode("\x61\x64\144\157\156\163", $snap); goto nQhVw; rmLq3: $temp = "\57"; goto O96ET; Wg_Ey: if (count($cuff) > 0) { goto gQFOw; } goto rmLq3; uP2QL: return self::query($un_data, "\x73\150\141\160\145"); goto pjQwu; Eb2v2: unset($cuff[0]); goto ehHam; O96ET: goto IXaN2; goto ELSvc; h9Tu7: $un_url = explode("\72", $un_data["\x75\162\x6c"]); goto OICxI; Rt9jH: foreach ($cuff as $key => $value) { $temp .= "\x2f" . $value; MXoqE: } goto XglW4; T5KSP: $temp = ''; goto Wg_Ey; kpvrQ: $un_data["\x61\144\x64\157\156\x73"] = $temp; goto Yx3OY; DzPZQ: $un_data["\x61\163\x6b"] = WXAPP_TYPE; goto uP2QL; XglW4: bBXhW: goto PXRvs; PXRvs: IXaN2: goto SABrl; pjQwu: } public function query($un_data, $quer) { goto l8Igk; ZTLU1: $context = stream_context_create($opts); goto UqLXE; UqLXE: $result = file_get_contents(IMG_URL . "\x61\144\155\x69\x6e\x2f\141\154\x6c\151\141\x6e\143\x65\57" . $quer, false, $context); goto yaZBq; yaZBq: return $result; goto hUwn0; l8Igk: $postdata = http_build_query($un_data); goto DIlZG; DIlZG: $opts = array("\150\x74\x74\x70" => array("\x6d\145\164\150\157\144" => "\x50\x4f\x53\124", "\150\145\141\x64\145\162" => "\x43\x6f\x6e\x74\x65\156\164\x2d\164\171\x70\145\72\x20\x61\x70\x70\x6c\151\143\x61\x74\x69\157\156\57\x78\x2d\167\x77\167\55\146\157\162\155\55\x75\162\154\x65\x6e\143\x6f\x64\x65\x64", "\x63\x6f\x6e\x74\x65\x6e\x74" => $postdata, "\164\151\x6d\145\x6f\165\x74" => 15 * 60)); goto ZTLU1; hUwn0: } public function setting() { goto Txu5v; S_oMs: RNj5N: goto f13tj; EMKcH: r_BiZ: goto tqR2m; vHwxl: $list = Db::name("\171\x62\x73\143\x5f\x63\157\156\164\141\x63\x74")->where("\x69\x64", 1)->find(); goto diMrF; Fnlpn: if (!(request()->isAjax() && request()->post())) { goto ygW1p; } goto MQbvH; xMl5E: $result = 0; goto f0_Xp; H9aT8: Cookie::set("\165\143\x69\x64", $list["\x69\x64"]); goto QrFro; MQbvH: $ucid = Cookie::get("\165\x63\151\144"); goto tWRFr; afgDc: ygW1p: goto vHwxl; QrFro: return view(); goto UcWRN; D9bpJ: qkquO: goto Hn9hA; f13tj: unset($data["\x69\144"]); goto WdWfu; I7xXV: if ($data["\x69\144"] == $ucid) { goto qkquO; } goto xMl5E; tWRFr: $data = request()->post(); goto dIx21; WdWfu: $result = Db::name("\171\x62\163\143\x5f\x63\x6f\x6e\164\x61\143\164")->insert($data); goto TSxOl; TSxOl: goto r_BiZ; goto D9bpJ; tqR2m: return $result; goto afgDc; dIx21: $data["\165\x6e\151\141\x63\151\144"] = $uniacid; goto bMZcL; diMrF: $this->assign("\154\x69\163\x74", $list); goto H9aT8; f0_Xp: goto r_BiZ; goto S_oMs; bMZcL: if ($data["\151\x64"] == '') { goto RNj5N; } goto I7xXV; Txu5v: $uniacid = $_SESSION["\x77\145\67\x5f\141\143\x63\157\x75\156\164"]["\x75\x6e\151\x61\x63\x69\144"]; goto Fnlpn; Hn9hA: $result = Db::name("\x79\x62\x73\x63\x5f\x63\157\x6e\x74\x61\x63\x74")->where("\x69\x64", 1)->update($data); goto EMKcH; UcWRN: } public function copyright() { goto XLJWT; AnDb4: hK2ZK: goto C8PT1; dD0s1: $this->assign("\154\151\163\x74", $list); goto k8j29; og065: $result = Db::name("\171\x62\x73\x63\137\143\x6f\160\x79\x72\151\x67\150\x74")->insert($data); goto maXc4; BKq4j: goto hK2ZK; goto dhVNv; uJUaE: $list = Db::name("\x79\x62\163\143\137\x63\x6f\160\x79\x72\x69\147\150\x74")->where("\x69\144", 1)->find(); goto dD0s1; k8j29: return view(); goto jDg9A; PqoCP: $data = request()->post(); goto r6qEE; UnFf0: return 1; goto AnDb4; MT9en: oRcml: goto t2uOs; XLJWT: if (!(request()->isAjax() && request()->post())) { goto To2hf; } goto PqoCP; z7gpv: return 0; goto BKq4j; nZLIn: $result = Db::name("\x79\x62\163\x63\137\x63\x6f\160\171\162\151\x67\150\x74")->where("\x69\144", 1)->update($data); goto MT9en; C8PT1: To2hf: goto uJUaE; yjjQd: $retu = Db::name("\171\x62\163\143\137\x63\157\160\x79\x72\151\x67\150\164")->where("\151\144", 1)->find(); goto IqggA; XgY20: T2klv: goto nZLIn; r6qEE: $data["\x69\x64"] = 1; goto yjjQd; maXc4: goto oRcml; goto XgY20; IqggA: if (count($retu) > 0) { goto T2klv; } goto og065; dhVNv: AV4fx: goto UnFf0; t2uOs: if ($result !== false) { goto AV4fx; } goto z7gpv; jDg9A: } public function savecopyright() { goto mSpkg; r8GrO: if (count($retu) > 0) { goto vx7yZ; } goto NX9UP; awTu4: return 1; goto xtYe4; nUIxO: RqOAS: goto awTu4; deTJ3: return 0; goto WVHAo; FyIrT: $retu = Db::name("\171\x62\x73\x63\x5f\143\157\x70\171\x72\x69\x67\150\164")->where("\151\x64", 1)->find(); goto r8GrO; B_Hxb: $result = Db::name("\171\142\163\x63\x5f\x63\x6f\x70\x79\162\x69\147\x68\164")->where("\151\144", 1)->update($data); goto Iob73; Iob73: I7B0k: goto n90RH; xtYe4: St_PG: goto eGZRe; wqo6v: $data["\151\144"] = 1; goto FyIrT; mSpkg: $data = request()->post(); goto wqo6v; M7A5u: vx7yZ: goto B_Hxb; NX9UP: $result = Db::name("\171\x62\x73\x63\x5f\x63\157\x70\x79\162\151\x67\150\164")->insert($data); goto PdM5Q; n90RH: if ($result !== false) { goto RqOAS; } goto deTJ3; PdM5Q: goto I7B0k; goto M7A5u; WVHAo: goto St_PG; goto nUIxO; eGZRe: } public function download() { goto AkIvT; AkIvT: $data["\165\162\154"] = WEB_HOST; goto wakJz; wakJz: $data["\x75\163\x65\162\156\x61\x6d\145"] = $_SESSION["\167\145\x37\x5f\165\x73\x65\162"]["\x75\x73\145\x72\156\141\x6d\145"]; goto q1I9e; g5brP: $this->assign("\143\157\160\x73", $list); goto e4sGp; vNkSJ: $list = self::query($data, "\155\141\x6e\x64"); goto nY0HE; nY0HE: $list = json_decode($list, true); goto g5brP; q1I9e: $data["\165\156\151\x61\143\x69\x64"] = $_SESSION["\167\145\67\137\141\143\x63\x6f\x75\156\164"]["\165\156\151\141\x63\x69\x64"]; goto vNkSJ; e4sGp: return view(); goto dDwSw; dDwSw: } public function clear_temp() { goto GU5YO; GU5YO: $linkstr = $_SERVER["\x44\x4f\x43\125\115\x45\x4e\124\x5f\122\x4f\117\x54"]; goto TMmjE; ZzYCh: return self::rmdirs($linkstr); goto kn6gh; TMmjE: $linkstr .= "\x2f\x61\144\144\157\156\163\x2f\171\142\x5f\x73\x68\157\160\x2f\x63\x6f\x72\145\x2f\162\165\156\x74\151\x6d\145"; goto ZzYCh; kn6gh: } function rmdirs($dir) { goto rcua3; iqe1Z: foreach ($dir_arr as $key => $val) { goto cPRs4; RT7KR: goto ODNcR; goto FLaHS; FLaHS: RKHz8: goto IgRfs; IRP0j: x2zbn: goto i0xzI; VTYAb: goto M5ewF; goto iWZhn; b6DzK: EnO33: goto IRP0j; h_S_v: M5ewF: goto ltOkN; pC1_0: unlink($dir . "\x2f" . $val); goto VTYAb; IgRfs: ODNcR: goto h_S_v; iWZhn: SeYmu: goto dJjrW; ZcoIe: self::rmdirs($dir . "\x2f" . $val); goto RT7KR; dJjrW: if (@rmdir($dir . "\x2f" . $val) == "\x74\x72\165\145") { goto RKHz8; } goto ZcoIe; ltOkN: goto x2zbn; goto b6DzK; ScIU1: if (is_dir($dir . "\57" . $val)) { goto SeYmu; } goto pC1_0; i0xzI: wFuaU: goto iMtEY; cPRs4: if ($val == "\56" || $val == "\56\56") { goto EnO33; } goto ScIU1; iMtEY: } goto guJ_5; rcua3: $dir_arr = scandir($dir); goto iqe1Z; guJ_5: HU2VY: goto HXBvE; HXBvE: } }
