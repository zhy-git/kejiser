<?php
 namespace app\admin\controller; use think\Db; require EXTEND_PATH . "\127\x78\160\141\x79\x2f\x57\x78\120\141\171\56\x41\160\x69\56\x70\x68\x70"; class Bargain extends Base { public function index() { goto T8LUk; F8ZJ8: $this->assign("\154\151\x73\164", $list); goto rVDH1; ncXxZ: $page = $list->render(); goto F8ZJ8; fX_Tz: $url = explode("\46", $url[1]); goto vTVE6; lztWC: if (!($search_text != '')) { goto MLF15; } goto YfRVd; uF71j: $this->assign("\x70\141\x67\x65", $page); goto RgwyT; rVDH1: $this->assign("\163\x65\141\x72\143\x68\x5f\164\145\x78\x74", $search_text); goto uF71j; H1VFP: MLF15: goto tUw0f; w2ONq: $url = explode("\x3d\x2f", $url); goto fX_Tz; vTVE6: $url = "\x2f" . $url[0]; goto LqHVt; T8LUk: $url = request()->query(); goto w2ONq; RgwyT: return view("\142\141\x72\x67\x61\x69\x6e\x2f\x69\x6e\x64\145\x78"); goto Uy2UG; YfRVd: $seart = $search_text; goto H1VFP; OoPYQ: $condition["\x62\x2e\142\x61\162\147\141\x69\x6e\137\156\x61\x6d\x65"] = array("\x6c\x69\x6b\145", "\x25" . $search_text . "\x25"); goto UR708; UR708: $seart = ''; goto lztWC; LqHVt: $search_text = input("\160\141\x72\141\155\56\x73\145\x61\x72\x63\150\x5f\x74\145\x78\164", ''); goto OoPYQ; tUw0f: $list = Db::name("\x79\x62\x73\x63\x5f\x62\141\162\x67\141\151\x6e")->alias("\x62")->join("\171\x62\x73\143\x5f\x69\x6d\x61\147\145\x73\x20\151", "\x69\x2e\x69\155\x67\x5f\151\144\x3d\x62\x2e\x62\x61\x72\147\141\x69\x6e\x5f\160\x69\143\x74\165\162\145", "\x4c\105\x46\124")->field("\x69\x2e\151\155\147\137\x63\x6f\x76\145\162\54\x62\56\x2a")->where($condition)->where("\142\x2e\155\143\x68\137\x69\144", $this->bus_id)->where("\x62\x2e\144\x65\x6c", 0)->order("\x62\x2e\x63\x72\x65\141\164\145\137\164\151\155\x65\x20\144\145\163\143")->paginate(15, false, $config = ["\x71\165\x65\162\x79" => ["\163" => $url, "\163\x65\141\x72\143\150\x5f\164\145\x78\x74" => $seart]]); goto ncXxZ; Uy2UG: } public function bargain_del() { goto QKZ3g; xNSx1: $res = Db::name("\x79\x62\x73\x63\x5f\x62\x61\162\x67\x61\x69\156")->where("\151\144", $id)->update(["\144\145\154" => 1]); goto KoS8U; B8m0S: yq1nv: goto vy3Ro; vU_Mq: if (empty($u)) { goto TEJjd; } goto jKyDS; KoS8U: return AjaxReturn($res); goto Kyogg; QKZ3g: if (!request()->isAjax()) { goto yq1nv; } goto F4Mug; yJZBb: goto OvE1m; goto GSA4y; QCGNB: $u = Db::name("\171\142\x73\143\137\x62\141\x72\147\x61\151\x6e\137\x75\163\145\x72")->where("\x62\141\162\147\141\x69\156\x5f\151\144", $id)->find(); goto vU_Mq; jKyDS: return AjaxReturnMsg(0, "\xe5\xb7\xb2\xe6\x9c\211\347\224\xa8\346\210\xb7\345\x8f\202\xe5\212\240\346\255\244\xe6\264\xbb\xe5\212\250\54\346\227\240\346\xb3\225\345\x88\xa0\351\x99\244"); goto yJZBb; Kyogg: OvE1m: goto B8m0S; F4Mug: $id = input("\x70\x61\162\x61\x6d\x2e\x69\144"); goto QCGNB; GSA4y: TEJjd: goto xNSx1; vy3Ro: } public function add_bargain() { goto bWiIv; e__Yy: $arr_str_img = ''; goto b5ZVI; eElvo: $completed_number = input("\x70\x61\162\141\155\56\x63\x6f\155\160\x6c\145\164\x65\144\137\x6e\165\155\x62\x65\x72", ''); goto xOK1t; Y5qpz: $arr_str_img = substr($arr_str_img, 0, strlen($arr_str_img) - 1); goto xxery; b5ZVI: foreach ($array_img as $k => $v) { $arr_str_img .= $v["\x69\144"] . "\x2c"; U3elF: } goto rGZNx; a8Qkc: if (!request()->isAjax()) { goto ozr2n; } goto uH8sX; bWiIv: $bargain = new \app\admin\service\Bargain(); goto a8Qkc; rGZNx: QA3PF: goto Y5qpz; TGhpu: ozr2n: goto f6sB1; OtzSf: $activity_rules = input("\x70\x61\162\x61\155\x2e\141\x63\x74\x69\166\x69\x74\x79\137\162\x75\x6c\145\163", ''); goto eElvo; r_jgV: $star_time = input("\x70\x61\162\141\155\x2e\163\164\141\x72\x5f\x74\x69\155\145", ''); goto tZYlk; BvE09: return AjaxReturn($res); goto TGhpu; A9Ory: $consumption_time = input("\x70\141\162\x61\x6d\x2e\x63\157\x6e\163\x75\x6d\x70\164\151\157\156\137\164\x69\155\x65", ''); goto OtzSf; tZYlk: $end_time = input("\x70\141\162\x61\155\x2e\x65\x6e\144\x5f\164\151\155\145", ''); goto A9Ory; uH8sX: $bargain_name = input("\x70\x61\162\141\155\x2e\x62\x61\x72\147\x61\x69\156\137\x6e\x61\x6d\x65", ''); goto mjy7R; tLB_1: $this->assign("\x63\x6c\x61\163\163\137\x6c\x69\x73\x74", $class_list); goto oqMVQ; xOK1t: $array_img = json_decode(input("\160\x61\x72\141\x6d\x2e\x61\162\162\x61\x79\x5f\x69\x6d\147", ''), true); goto otOIE; Po3Yd: $bargain_inventory = input("\x70\141\162\x61\x6d\56\142\141\x72\x67\141\x69\x6e\x5f\151\x6e\x76\x65\156\x74\x6f\162\x79", ''); goto CLAqj; f6sB1: $class_list = Db::name("\171\142\x73\143\137\x61\x70\x70\154\151\143\x61\x74\151\157\156\x5f\141\x63\164\151\x76\x69\x74\171\x5f\x63\154\x61\x73\x73")->where("\x61\x67\x65\x6e\x74\x73\137\151\144", $this->bus_id)->select(); goto tLB_1; GKLSW: $lowest_price = input("\x70\x61\x72\x61\155\56\154\x6f\167\x65\x73\x74\137\160\x72\x69\x63\x65", ''); goto r_jgV; oqMVQ: return view("\142\x61\162\x67\x61\x69\x6e\57\x61\144\144\137\142\141\162\147\x61\151\156"); goto fdd0N; mjy7R: $bargain_picture = input("\160\141\x72\141\x6d\x2e\142\141\162\x67\x61\x69\156\x5f\160\x69\143\x74\x75\x72\x65", ''); goto Po3Yd; otOIE: $class_id = input("\x70\141\162\141\x6d\x2e\143\154\x61\x73\163\x5f\x69\x64", ''); goto e__Yy; CLAqj: $original_price = input("\160\141\x72\141\155\56\157\162\151\x67\151\156\141\154\137\x70\x72\151\x63\145", ''); goto GKLSW; xxery: $res = $bargain->addBargain($bargain_name, $bargain_picture, $bargain_inventory, $original_price, $lowest_price, $star_time, $end_time, $consumption_time, $activity_rules, $completed_number, $this->bus_id, $arr_str_img, $class_id); goto BvE09; fdd0N: } public function bargain_edit() { goto GKITP; IQ3Tj: $bargain_inventory = input("\x70\x61\162\x61\x6d\56\142\141\x72\x67\141\151\156\x5f\151\156\x76\145\x6e\164\x6f\162\x79", ''); goto bLcqP; rVBRM: if (!request()->isAjax()) { goto G1Pyd; } goto m3YXf; krgK0: id_X6: goto fgJ8E; WZ_vK: fz3T5: goto zkuQn; gSlFM: $res = $bargain->editBargain($id, $bargain_name, $bargain_picture, $bargain_inventory, $original_price, $lowest_price, $star_time, $end_time, $consumption_time, $activity_rules, $completed_number, $this->bus_id, $arr_str_img, $class_id); goto Wm5zi; DpsET: $bargain_name = input("\x70\x61\162\x61\155\56\x62\x61\x72\147\x61\x69\156\137\156\141\155\x65", ''); goto hTexT; sJMo7: $this->assign("\154\x69\163\x74", $list); goto sLkuL; Urcxo: $completed_number = input("\160\x61\x72\141\155\56\x63\157\155\x70\154\145\x74\x65\144\137\156\165\155\x62\145\162", ''); goto ZPM4z; hTexT: $bargain_picture = input("\160\x61\162\x61\x6d\x2e\x62\141\162\x67\x61\x69\x6e\x5f\160\151\143\164\x75\162\x65", ''); goto IQ3Tj; mvrHv: $this->assign("\x63\x6c\x61\x73\x73\x5f\154\151\x73\164", $class_list); goto PZKl8; BFzbm: $id = input("\160\141\162\141\x6d\x2e\151\x64", ''); goto tKCpV; nQ2ps: $arr[$a]["\x69\x64"] = $img_id[$a]; goto lf9NG; qahph: $class_id = input("\160\x61\x72\141\x6d\56\x63\154\x61\x73\x73\x5f\x69\x64", ''); goto yvuxt; wN345: return AjaxReturn(1); goto hGjv2; zkuQn: $arr_str_img = substr($arr_str_img, 0, strlen($arr_str_img) - 1); goto gSlFM; lf9NG: $arr[$a]["\x75\x72\x6c"] = $img_url["\x69\x6d\147\x5f\143\157\166\x65\162"]; goto mk7iR; yvuxt: $arr_str_img = ''; goto H3H8V; V94uz: $activity_rules = input("\160\141\x72\141\x6d\56\x61\x63\x74\x69\x76\151\x74\171\x5f\x72\165\x6c\145\163", ''); goto Urcxo; QASjD: $list["\x63\157\x6e\163\165\155\x70\x74\x69\157\x6e\137\x74\x69\155\145"] = date("\x59\55\x6d\55\x64\40\110\72\151\72\x73", $list["\143\157\156\x73\x75\155\x70\x74\151\157\156\x5f\x74\x69\155\145"]); goto WiWYU; PZKl8: return view("\x62\141\x72\x67\141\151\156\x2f\x65\x64\x69\x74\x5f\x62\x61\x72\x67\141\x69\x6e"); goto HyTc4; bLcqP: $original_price = input("\160\x61\162\141\x6d\x2e\157\x72\x69\147\151\x6e\141\154\137\x70\162\x69\143\145", ''); goto av4vY; H6Gv0: $list["\x65\156\x64\137\164\151\x6d\x65"] = date("\x59\55\155\55\x64\40\x48\x3a\151\72\163", $list["\145\x6e\x64\137\164\151\155\145"]); goto SsMJ6; p0rp1: $a = 0; goto krgK0; fkRRs: LpuCB: goto wN345; av4vY: $lowest_price = input("\x70\x61\162\x61\x6d\56\154\x6f\167\x65\163\x74\137\160\162\151\x63\145", ''); goto B1dSW; clA4_: $end_time = input("\x70\x61\162\x61\155\56\145\156\144\137\x74\x69\x6d\x65", ''); goto vXWnB; DDs3X: return AjaxReturn(0); goto vhGXt; MLVaD: $arr = []; goto p0rp1; YSHJt: G1Pyd: goto BFzbm; sLkuL: $class_list = Db::name("\171\142\x73\x63\137\141\160\160\x6c\x69\143\x61\x74\x69\157\156\x5f\x61\143\x74\151\166\x69\164\171\x5f\143\154\x61\163\163")->where("\x61\147\145\156\x74\163\137\151\x64", $this->bus_id)->select(); goto mvrHv; GKITP: $bargain = new \app\admin\service\Bargain(); goto rVBRM; fgJ8E: if (!($a < count($img_id))) { goto Z7RCi; } goto NMELv; oStBu: $a++; goto CYMeH; m3YXf: $id = input("\160\141\x72\x61\x6d\x2e\151\144", ''); goto DpsET; RPdAs: $list["\141\x72\162\141\171\137\151\x6d\x67"] = json_encode($arr); goto sJMo7; vXWnB: $consumption_time = input("\160\x61\x72\141\155\x2e\143\157\156\163\165\x6d\160\x74\x69\157\156\x5f\164\x69\155\x65", ''); goto V94uz; Wm5zi: if ($res !== false) { goto LpuCB; } goto DDs3X; vhGXt: goto PhSEG; goto fkRRs; CYMeH: goto id_X6; goto hESzE; mk7iR: ncjOb: goto oStBu; hESzE: Z7RCi: goto RPdAs; NMELv: $img_url = Db::name("\x79\142\163\x63\137\151\x6d\141\147\145\163")->where("\151\155\x67\x5f\151\144", $img_id[$a])->find(); goto nQ2ps; B1dSW: $star_time = input("\x70\141\x72\141\x6d\56\163\x74\141\x72\x5f\x74\x69\155\145", ''); goto clA4_; SsMJ6: $img_id = explode("\x2c", $list["\x69\155\147\x5f\x69\144\x5f\141\162\x72\141\171"]); goto MLVaD; hGjv2: PhSEG: goto YSHJt; H3H8V: foreach ($array_img as $k => $v) { $arr_str_img .= $v["\151\144"] . "\54"; m9mX2: } goto WZ_vK; WiWYU: $list["\x73\164\x61\x72\x5f\164\151\x6d\145"] = date("\131\55\x6d\55\x64\40\x48\x3a\x69\x3a\163", $list["\163\x74\x61\162\137\164\x69\x6d\x65"]); goto H6Gv0; ZPM4z: $array_img = json_decode(input("\x70\x61\x72\x61\x6d\56\x61\162\162\x61\171\137\x69\x6d\147", ''), true); goto qahph; tKCpV: $list = Db::name("\x79\142\163\143\x5f\142\x61\162\147\141\151\156")->alias("\x62")->join("\x79\x62\163\x63\x5f\151\x6d\x61\147\145\163\40\151", "\151\56\151\x6d\147\x5f\151\x64\75\x62\x2e\142\x61\x72\147\141\x69\x6e\x5f\x70\151\x63\x74\x75\162\x65", "\114\x45\106\x54")->field("\x62\56\52\x2c\151\x2e\151\x6d\147\137\x69\x64\54\x69\x2e\151\x6d\147\x5f\143\x6f\x76\x65\162")->where("\x62\56\x69\x64", $id)->find(); goto QASjD; HyTc4: } public function select_goods() { goto PyyMR; bfEA7: $url = explode("\x26", $url[1]); goto IdNdN; pxF7W: $this->open_page(false); goto LBFzP; GFBnO: $url = explode("\x3d\57", $url); goto bfEA7; YfK2Q: return view("\x62\x61\162\147\141\x69\156\57\163\145\x6c\145\x63\164\137\147\x6f\x6f\x64\x73"); goto mbNzw; LctWH: $this->open_page(); goto H5Rw3; PyyMR: $url = request()->query(); goto GFBnO; H5Rw3: $goods = Db::name("\171\x62\163\x63\137\147\x6f\157\x64\163")->alias("\x67")->join("\x79\x62\163\x63\x5f\151\x6d\x61\147\145\163\40\151", "\x69\x2e\x69\155\147\137\x69\144\x3d\x67\56\151\x6d\x61\147\x65\x73", "\x6c\145\x66\164")->where("\x67\x2e\155\143\x68\x5f\151\x64", $this->bus_id)->where("\x67\56\151\163\x5f\144\145\x6c", "\60")->where("\147\x2e\163\164\x61\164\x65", "\61")->where("\147\x2e\147\x6f\157\x64\x73\137\164\x79\160\145", 1)->field("\147\x2e\52\x2c\x69\56\151\x6d\x67\137\143\x6f\x76\145\x72\54\x69\56\x69\155\x67\x5f\151\144")->paginate(15, false, $config = ["\x71\x75\145\162\x79" => ["\163" => $url]]); goto kIWjw; luREM: $this->assign("\x70\141\147\145", $page); goto YfK2Q; kIWjw: $page = $goods->render(); goto pxF7W; LBFzP: $this->assign("\147\x6f\157\x64\x73", $goods); goto luREM; IdNdN: $url = "\x2f" . $url[0]; goto LctWH; mbNzw: } public function bargain_status() { goto f9Rxq; abUfS: $res = Db::name("\171\142\x73\x63\137\x62\x61\x72\x67\141\x69\x6e")->where("\x69\144", $id)->update(["\x62\x61\x72\147\x61\x69\x6e\137\164\171\160\145" => 1]); goto wiLVi; RGyxn: $key = input("\x70\x61\x72\x61\155\x2e\x6b\x65\171"); goto itqKs; fjaMC: $res = Db::name("\x79\x62\x73\143\x5f\x62\x61\x72\x67\x61\x69\156")->where("\x69\144", $id)->update(["\142\141\162\x67\141\151\x6e\x5f\164\x79\160\x65" => 2]); goto JPJkD; wiLVi: goto GUCc7; goto Ri4ip; Ri4ip: EoYLB: goto fjaMC; f9Rxq: $id = input("\160\x61\162\x61\x6d\x2e\151\144"); goto RGyxn; itqKs: if ($key == "\x6f\146\146") { goto EoYLB; } goto abUfS; JPJkD: GUCc7: goto fLnEh; fLnEh: return AjaxReturn($res); goto W2twD; W2twD: } public function bargain_order() { goto Sxgdt; MhDz0: if ($refund_setting["\x73\x77\x69\164\x63\150"] != 1 || empty($refund_setting["\x6b\145\x79"]) || empty($refund_setting["\143\x65\162\x74"])) { goto jVbRB; } goto T7FYV; asUGq: $seart = ''; goto KeECq; gwUl_: $i++; goto un8oy; iH7N4: $ea[$i] = $list[$i]; goto abEVC; BOt3S: global $_W; goto fR2Co; KeECq: $condition["\142\x6f\56\x62\x61\x72\x67\x61\x69\x6e\137\156\141\x6d\x65"] = array("\x6c\151\x6b\145", "\x25" . $search_text . "\45"); goto y_6YO; Ioex4: goto M_pWx; goto S4L9P; NBUVi: MUk0C: goto QXdxB; pYVRR: M_pWx: goto OIqF0; Cger5: return view("\x62\141\162\147\141\x69\x6e\57\142\141\162\147\x61\x69\156\137\157\162\x64\x65\x72"); goto IDBKX; ku57j: $refund_setting = $setting["\x70\141\x79\155\x65\x6e\164"]["\x77\145\x63\150\x61\164\137\x72\x65\x66\x75\x6e\144"]; goto MhDz0; REDVd: $url = explode("\x26", $url[1]); goto ruH52; Y2i0l: $search_text = input("\160\x61\x72\x61\x6d\56\x73\145\141\x72\x63\150\137\x74\145\170\x74"); goto nIJcx; un8oy: goto fD1Mc; goto hHW2F; tXYnp: $this->assign("\163\x65\x61\162\143\150\137\x74\145\x78\x74", $search_text); goto jgDt6; jgDt6: $this->assign("\163\164\x61\164\x75\163", $status); goto Cger5; OIqF0: $page = $list->render(); goto Z21fS; D7htb: $ser = new Arliki(); goto QdjSO; nIJcx: if ($status == '' || $status == "\55\x32") { goto MUk0C; } goto GW9f2; QdjSO: $i = 0; goto LTeno; QXdxB: $condition["\142\157\x2e\157\162\x64\145\162\x5f\x73\164\141\x74\165\x73"] = array("\151\156", "\x30\54\x31\x2c\62\54\x33\x2c\64\x2c\65\x2c\x2d\61"); goto Gqzev; SUvPS: $this->assign("\162\145\146\165\x6e\144\x5f\164\x79\160\x65", 0); goto pYVRR; GW9f2: $condition["\142\x6f\56\157\162\x64\x65\x72\137\163\x74\x61\164\x75\x73"] = array("\x65\x71", $status); goto zfZYm; Z21fS: $ea = array(); goto D7htb; zfZYm: goto bPs4d; goto NBUVi; nApyM: $this->assign("\154\151\163\164", $ea); goto KiLBL; Gqzev: bPs4d: goto asUGq; hHW2F: Cn6Yj: goto nApyM; LTeno: fD1Mc: goto ND0ba; ND0ba: if (!($i < count($list))) { goto Cn6Yj; } goto iH7N4; S4L9P: jVbRB: goto SUvPS; Es8fZ: $seart = $search_text; goto NoTvu; y_6YO: if (!($search_text != '')) { goto hEhmV; } goto Es8fZ; T7FYV: $this->assign("\x72\145\146\165\x6e\x64\x5f\x74\171\160\x65", 1); goto Ioex4; PNr4a: $url = explode("\75\x2f", $url); goto REDVd; fR2Co: $setting = uni_setting_load("\160\141\171\x6d\x65\156\164", $_W["\165\x6e\151\x61\143\151\x64"]); goto ku57j; ruH52: $url = "\x2f" . $url[0]; goto NxjNI; KiLBL: $this->assign("\160\141\147\x65", $page); goto tXYnp; OmJLi: gGmjM: goto gwUl_; abEVC: $ea[$i]["\162\x65\x66\165\x6e\x64\137\x69\x6e\x66\157"] = $ser->get_refund_info($ea[$i]["\157\162\144\x65\x72\137\151\144"], 2); goto OmJLi; xXW3P: $list = Db::name("\171\142\163\x63\x5f\142\x61\162\147\141\151\156\137\157\162\x64\x65\162")->alias("\x62\157")->join("\171\142\x73\x63\x5f\x69\155\141\x67\x65\163\x20\x69", "\x69\56\151\155\147\x5f\x69\x64\x3d\x62\157\56\142\141\x72\147\141\151\156\137\x70\x69\x63")->where($condition)->where("\x62\x6f\56\155\143\150\137\151\144", $this->bus_id)->field("\142\x6f\56\x2a\54\x69\x2e\x69\155\147\137\x63\x6f\x76\x65\x72")->order("\x62\x6f\x2e\143\162\x65\x61\164\145\x5f\164\x69\x6d\145\x20\144\145\163\143")->paginate(15, false, $config = ["\x71\165\x65\162\171" => ["\163" => $url, "\163\x74\x61\x74\x75\x73" => $status, "\163\x65\141\162\x63\150\137\164\145\x78\x74" => $seart]]); goto BOt3S; NxjNI: $status = input("\160\x61\x72\x61\x6d\x2e\163\x74\141\x74\165\163", "\55\62"); goto Y2i0l; UsXra: $condition["\x62\157\x2e\155\x61\151\x6c\x69\156\x67\137\164\171\x70\145"] = array("\145\x71", 1); goto xXW3P; Sxgdt: $url = request()->query(); goto PNr4a; NoTvu: hEhmV: goto UsXra; IDBKX: } public function bargain_order_two() { goto cFT45; MaDWI: goto vPSQZ; goto jDt80; gmuIa: $url = "\57" . $url[0]; goto nXU9u; jDt80: qL7aV: goto h2vUy; h0Ldl: QPJyn: goto Xp5b4; J_KlA: goto QY1yW; goto RyaJV; UVyX9: $this->assign("\163\x74\x61\164\x75\163", $status); goto OZr8b; cXSmB: $ser = new Arliki(); goto p4376; HoYfT: $page = $list->render(); goto c3XMx; G7W9r: $this->assign("\x70\141\147\145", $page); goto nypaJ; H_pvb: mbLQS: goto tFide; bu01j: if (!($i < count($list))) { goto qL7aV; } goto hggwa; Tsig8: $condition["\x62\x6f\x2e\157\162\x64\145\162\137\163\164\x61\164\x75\163"] = array("\145\x71", $status); goto Kqlnd; nypaJ: $this->assign("\x73\145\141\162\143\150\x5f\x74\145\170\164", $search_text); goto UVyX9; jj0T6: $seart = $search_text; goto c2Ziq; cFT45: $url = request()->query(); goto j334H; Kqlnd: goto QPJyn; goto m5Kw9; g8I00: $condition["\142\x6f\x2e\157\x72\x64\x65\x72\x5f\x73\x74\141\164\165\x73"] = array("\151\156", "\60\x2c\61\54\x32\54\63\x2c\x34\x2c\65\x2c\55\61"); goto h0Ldl; EXcJC: global $_W; goto sR6xs; sR6xs: $setting = uni_setting_load("\x70\141\171\155\x65\156\x74", $_W["\x75\156\151\141\x63\x69\144"]); goto XLc3g; RyaJV: tARka: goto TlTS6; c2Ziq: OlKz3: goto WzNAG; PwJDf: $ea[$i]["\162\145\x66\165\156\x64\x5f\151\156\x66\157"] = $ser->get_refund_info($ea[$i]["\x6f\x72\144\145\162\137\151\144"], 2); goto H_pvb; Mh8hR: $url = explode("\46", $url[1]); goto gmuIa; m5Kw9: WzGs4: goto g8I00; p4376: $i = 0; goto JK1qQ; c3XMx: $ea = array(); goto cXSmB; TlTS6: $this->assign("\x72\145\146\165\x6e\144\x5f\164\171\x70\x65", 0); goto ho4ny; gcLXp: $this->assign("\x72\145\146\165\x6e\x64\x5f\164\x79\x70\145", 1); goto J_KlA; WzNAG: $condition["\x62\157\56\x6d\141\151\x6c\151\156\x67\x5f\x74\171\x70\145"] = array("\x65\161", 2); goto qAsAB; Xp5b4: $seart = ''; goto Nm_oX; tFide: $i++; goto MaDWI; XLc3g: $refund_setting = $setting["\160\141\171\155\x65\156\x74"]["\167\145\143\150\141\164\137\x72\145\x66\x75\x6e\144"]; goto OUU_E; h2vUy: $this->assign("\x6c\151\x73\x74", $ea); goto G7W9r; qAsAB: $list = Db::name("\171\x62\x73\143\x5f\x62\x61\x72\147\x61\x69\x6e\137\x6f\x72\144\x65\162")->alias("\142\157")->join("\x79\x62\163\x63\x5f\151\x6d\x61\x67\x65\163\x20\x69", "\x69\56\x69\x6d\147\137\x69\x64\75\142\157\56\142\x61\162\x67\141\151\156\137\x70\151\143")->where($condition)->where("\142\x6f\x2e\155\143\150\x5f\x69\x64", $this->bus_id)->field("\142\x6f\x2e\x2a\54\x69\x2e\151\x6d\147\137\x63\157\x76\x65\162")->order("\142\157\x2e\143\162\x65\141\164\145\137\x74\151\155\x65\x20\x64\145\x73\143")->paginate(15, false, $config = ["\x71\165\145\x72\x79" => ["\x73" => $url, "\x73\x74\x61\164\165\163" => $status, "\163\145\141\x72\143\x68\137\164\x65\170\x74" => $seart]]); goto EXcJC; hggwa: $ea[$i] = $list[$i]; goto PwJDf; ho4ny: QY1yW: goto HoYfT; NglIS: $search_text = input("\160\141\162\141\155\56\163\x65\x61\x72\x63\150\x5f\x74\x65\x78\164"); goto yRpCL; nXU9u: $status = input("\160\141\162\141\x6d\56\163\164\141\164\x75\163", "\55\62"); goto NglIS; JK1qQ: vPSQZ: goto bu01j; Nm_oX: $condition["\x62\x6f\56\142\141\x72\x67\141\151\156\137\x6e\x61\x6d\145"] = array("\154\151\153\145", "\45" . $search_text . "\45"); goto oDvRe; oDvRe: if (!($search_text != '')) { goto OlKz3; } goto jj0T6; j334H: $url = explode("\75\x2f", $url); goto Mh8hR; OUU_E: if ($refund_setting["\x73\167\x69\x74\143\150"] != 1 || empty($refund_setting["\x6b\x65\171"]) || empty($refund_setting["\x63\x65\162\x74"])) { goto tARka; } goto gcLXp; yRpCL: if ($status == '' || $status == "\55\x32") { goto WzGs4; } goto Tsig8; OZr8b: return view("\142\x61\x72\x67\141\151\156\x2f\142\x61\x72\147\141\x69\x6e\x5f\157\x72\x64\x65\x72\137\x74\167\157"); goto Io2Jn; Io2Jn: } public function bargain_order_send() { goto YP1Ex; qcex0: $res = Db::name("\171\142\163\143\137\x62\x61\x72\x67\x61\x69\x6e\x5f\x6f\x72\x64\x65\162")->where("\x6f\x72\x64\145\x72\x5f\151\x64", $id)->update(["\x6f\x72\x64\145\162\x5f\x73\164\x61\164\x75\163" => 2]); goto R3m5_; R3m5_: return AjaxReturn($res); goto tccDj; YP1Ex: $id = input("\160\x61\162\141\155\x2e\151\144"); goto qcex0; tccDj: } public function bargain_order_send_two() { goto GxZbp; GxZbp: $id = input("\x70\141\x72\141\x6d\x2e\151\144"); goto jdsjT; xSrPM: return AjaxReturn($res); goto gdscx; jdsjT: $res = Db::name("\171\142\163\143\137\x62\141\x72\147\141\151\x6e\137\x6f\162\144\145\x72")->where("\157\x72\x64\145\x72\x5f\151\144", $id)->update(["\157\162\x64\x65\x72\137\x73\x74\x61\x74\165\163" => 3]); goto xSrPM; gdscx: } public function activity_carousel() { goto yf1qX; d4k0M: $url = "\57" . $url[0]; goto whDY2; sOsA_: return view("\142\141\x72\x67\x61\151\x6e\x2f\141\x63\164\151\x76\151\x74\171\x5f\143\141\162\157\x75\163\145\154"); goto TMP5_; whDY2: $list = Db::name("\x79\x62\163\143\137\141\x70\160\154\151\x63\141\x74\x69\x6f\x6e\x5f\143\141\x72\157\x75\x73\x65\x6c")->where("\141\147\x65\156\164\x73\x5f\x69\144", $this->bus_id)->order("\x73\x6f\162\164")->paginate(15, false, $config = ["\161\165\145\x72\171" => ["\x73" => $url]]); goto feD1L; ylqOu: $this->assign("\154\x69\x73\164", $list); goto aaysO; CNDlR: $url = explode("\x26", $url[1]); goto d4k0M; aaysO: $this->assign("\160\x61\147\x65", $page); goto sOsA_; YycR2: $url = explode("\x3d\57", $url); goto CNDlR; feD1L: $page = $list->render(); goto ylqOu; yf1qX: $url = request()->query(); goto YycR2; TMP5_: } public function add_activity_carousel() { goto Y3RPY; jEoEn: V73mk: goto OYZCm; pK8GU: $this->assign("\x70\x5f\x69\144", 4); goto Q99BE; Y3RPY: if (!request()->isAjax()) { goto V73mk; } goto ZbbQV; vovHp: $res = Db::name("\x79\x62\x73\143\x5f\141\160\x70\x6c\x69\143\141\164\151\157\156\x5f\x63\x61\x72\x6f\165\163\x65\x6c")->insert($data); goto B1ClE; fqZ3_: $data["\x73\157\x72\x74"] = input("\x70\x61\x72\141\x6d\56\163\157\162\x74", ''); goto O2EN5; AGsqv: $data["\x61\x67\x65\156\164\x73\x5f\151\x64"] = $this->bus_id; goto vovHp; O2EN5: $data["\x63\x72\145\x61\x74\145\x5f\x74\151\155\x65"] = time(); goto AGsqv; ZbbQV: $data = []; goto s_Jmt; OYZCm: $this->assign("\x74\150\x69\163\x5f\151\144", 1); goto pK8GU; Q99BE: return view("\x62\141\x72\147\141\151\x6e\57\x61\x64\144\137\x61\143\x74\x69\166\151\164\x79\x5f\143\141\162\x6f\x75\163\145\x6c"); goto UZT8b; s_Jmt: $data["\151\x6d\x67"] = input("\x70\x61\x72\x61\x6d\x2e\154\157\x67\x6f", ''); goto fqZ3_; B1ClE: return AjaxReturn($res); goto jEoEn; UZT8b: } public function edit_activity_carousel() { goto B15HX; FFOS6: $data["\163\x6f\162\x74"] = input("\160\x61\162\x61\x6d\x2e\163\157\162\x74", ''); goto d3aVI; LUHis: $id = input("\160\x61\162\x61\x6d\56\151\x64"); goto BqE4F; sWysp: $info = Db::name("\x79\142\163\x63\137\141\x70\160\x6c\151\143\x61\164\151\157\x6e\x5f\x63\141\x72\157\x75\x73\145\x6c")->where("\151\x64", $id)->find(); goto jLbHn; jLbHn: $this->assign("\151\156\x66\157", $info); goto zoygp; JQTKx: $id = input("\x70\141\x72\x61\x6d\x2e\x69\x64"); goto sWysp; j8jpn: $res = Db::name("\171\142\163\x63\x5f\x61\x70\160\154\151\143\x61\x74\151\x6f\156\137\143\x61\x72\x6f\x75\x73\x65\154")->where("\151\144", $id)->update($data); goto KzR6o; BqE4F: $data["\x69\x6d\x67"] = input("\160\141\x72\141\x6d\x2e\154\157\147\157", ''); goto FFOS6; B15HX: if (!request()->isAjax()) { goto eQCr0; } goto jrnAR; KzR6o: return AjaxReturn($res); goto D3q3g; D3q3g: eQCr0: goto JQTKx; d3aVI: $data["\x61\147\145\156\164\163\137\x69\x64"] = $this->bus_id; goto j8jpn; jrnAR: $data = []; goto LUHis; zoygp: return view("\x62\x61\162\x67\x61\151\x6e\57\x65\x64\x69\x74\137\x61\143\x74\151\x76\151\x74\171\x5f\x63\x61\162\157\165\x73\x65\x6c"); goto f6uZ1; f6uZ1: } public function activity_carousel_sort() { goto uR3Cx; IlJ4b: $res = Db::name("\x79\x62\x73\x63\x5f\141\x70\x70\x6c\x69\143\141\164\151\x6f\156\x5f\143\141\x72\157\165\163\x65\x6c")->where("\151\144", $id)->update(["\x73\157\162\164" => $val]); goto KYK9W; KYK9W: return AjaxReturn($res); goto iE1Zh; uR3Cx: $id = input("\160\x61\x72\141\x6d\56\151\x64"); goto X_ZoI; X_ZoI: $val = input("\x70\141\162\141\155\x2e\166\141\154"); goto IlJ4b; iE1Zh: } public function activity_class_use() { goto lQuWV; n8UEL: Z9L8z: goto NnB0m; pw5DA: $key = input("\x70\x61\x72\141\x6d\x2e\153\x65\171"); goto hi6eq; VvHlK: $link = str_replace("\x68\164\x74\160\x3a\x2f\57" . $_SERVER["\110\x54\124\x50\137\110\117\123\124"], $_SERVER["\x44\x4f\103\125\115\x45\x4e\x54\137\122\x4f\x4f\x54"], $link); goto Ocoqa; Vr6JA: if ($key == "\157\156") { goto EEW55; } goto sPId8; Ocoqa: $res = Db::name("\171\x62\x73\143\x5f\x61\x70\x70\x6c\151\143\141\164\x69\x6f\156\x5f\143\141\x72\x6f\165\163\145\x6c")->where("\151\144", $id)->delete(); goto is5Yg; NnB0m: return AjaxReturn($res); goto O4Ud1; c_qwr: goto Z9L8z; goto Igl2f; Igl2f: LA5n2: goto FaR6F; KVZgK: JDS00: goto SfDQG; lQuWV: $id = input("\160\x61\162\x61\x6d\x2e\151\x64"); goto pw5DA; Y6QZD: $link = $item["\x69\155\147"]; goto VvHlK; ea0WZ: PJyFm: goto c_qwr; y_xK_: unlink($link); goto KVZgK; SBlIB: goto PJyFm; goto RhNdz; RhNdz: EEW55: goto CKNRD; JKOZR: $item = Db::name("\x79\142\163\143\x5f\141\160\x70\154\151\143\141\164\151\x6f\x6e\137\x63\x61\x72\x6f\165\x73\x65\154")->where("\151\x64", $id)->find(); goto Y6QZD; is5Yg: if (!file_exists($link)) { goto JDS00; } goto y_xK_; hi6eq: if ($key == "\x6f\146\146") { goto LA5n2; } goto Vr6JA; CKNRD: $res = Db::name("\171\142\x73\143\137\141\160\160\154\151\143\141\x74\x69\x6f\x6e\x5f\x63\x61\x72\157\165\x73\x65\x6c")->where("\151\x64", $id)->update(["\151\163\137\165\x73\145" => 0]); goto ea0WZ; SfDQG: yBWi1: goto SBlIB; sPId8: if (!($key == "\144\x65\x6c")) { goto yBWi1; } goto JKOZR; FaR6F: $res = Db::name("\x79\x62\x73\143\137\x61\160\x70\154\151\x63\141\164\151\157\156\x5f\143\x61\x72\x6f\165\163\x65\154")->where("\151\x64", $id)->update(["\151\163\137\x75\x73\145" => 1]); goto n8UEL; O4Ud1: } public function activity_class() { goto lCW7Y; wJieN: $list = Db::name("\x79\x62\163\143\x5f\141\160\160\154\151\x63\x61\x74\151\x6f\156\137\141\143\x74\151\166\151\164\x79\x5f\143\154\141\163\x73")->where("\141\147\145\156\164\163\x5f\x69\x64", $this->bus_id)->where($condition)->order("\x73\x6f\162\164")->paginate(15, false, $config = ["\x71\x75\x65\162\171" => ["\163" => $url, "\x73\x65\141\x72\x63\x68\x5f\x74\145\x78\164" => $seart]]); goto XWhOD; lCW7Y: $url = request()->query(); goto tkdNo; XWhOD: $page = $list->render(); goto sNcIL; U3hDd: $seart = ''; goto Om26G; tkdNo: $url = explode("\x3d\x2f", $url); goto He5ad; vjXVd: $search_text = input("\160\141\x72\141\155\x2e\x73\x65\x61\x72\x63\150\x5f\164\x65\170\x74", ''); goto tx4lE; oc2aK: $this->assign("\x6c\151\x73\164", $list); goto YXNSI; sNcIL: $this->assign("\x73\x65\x61\x72\x63\150\137\164\x65\x78\164", $search_text); goto avqjJ; tx4lE: $condition["\x63\154\x61\x73\x73\137\156\141\155\x65"] = array("\154\151\153\x65", "\45" . $search_text . "\x25"); goto U3hDd; Om26G: if (!($search_text != '')) { goto AAFC3; } goto phdLz; avqjJ: $this->assign("\x70\141\147\145", $page); goto oc2aK; phdLz: $seart = $search_text; goto tMQaY; tMQaY: AAFC3: goto wJieN; YXNSI: return view("\x62\141\x72\x67\x61\151\156\57\141\x63\164\151\166\x69\164\x79\137\x63\154\x61\163\163"); goto xIjO5; fb2GR: $url = "\x2f" . $url[0]; goto vjXVd; He5ad: $url = explode("\x26", $url[1]); goto fb2GR; xIjO5: } public function add_activity_class() { goto TJiXN; cHAGk: $data["\143\x72\x65\x61\164\145\x5f\164\x69\x6d\145"] = time(); goto kGA39; TJiXN: if (!request()->isAjax()) { goto XQqdl; } goto i0OwI; R7F3k: $data["\163\x6f\162\x74"] = request()->post("\163\157\162\164", ''); goto Wy72z; zVm3v: return view("\x62\141\x72\x67\141\x69\156\x2f\x61\x64\x64\x5f\141\x63\x74\151\166\x69\164\171\137\x63\154\x61\163\x73"); goto M4Ou1; rOAWl: $res = Db::name("\x79\x62\x73\143\x5f\x61\160\160\154\151\143\141\x74\x69\x6f\x6e\137\x61\x63\164\x69\x76\151\164\171\x5f\x63\154\x61\x73\163")->insert($data); goto RWynf; i0OwI: $data = []; goto bMTum; RWynf: return AjaxReturn($res); goto uCAi0; bMTum: $data["\143\x6c\x61\163\163\x5f\x6e\141\x6d\145"] = request()->post("\x63\141\x74\x65\137\156\x61\x6d\145", ''); goto R7F3k; Wy72z: $data["\x69\155\x67\x5f\x75\162\x6c"] = request()->post("\143\141\164\x65\x5f\160\x69\x63", ''); goto cHAGk; uCAi0: XQqdl: goto zVm3v; kGA39: $data["\141\147\145\x6e\164\163\x5f\151\x64"] = $this->bus_id; goto rOAWl; M4Ou1: } public function edit_activity_class() { goto F8605; WNJpH: $id = input("\160\x61\162\141\155\x2e\x69\144", ''); goto jPY2p; cfc4r: return AjaxReturn($res); goto JLk65; XrHPA: $data["\x63\x72\x65\x61\x74\145\x5f\164\x69\155\x65"] = time(); goto J1URw; jPY2p: $list = Db::name("\171\142\163\x63\137\141\160\x70\154\x69\143\141\164\x69\157\x6e\x5f\x61\x63\x74\x69\x76\151\164\x79\137\x63\154\141\163\x73")->where("\x69\144", $id)->find(); goto pG9tq; zbuT9: $data["\151\x6d\x67\137\165\x72\x6c"] = request()->post("\x63\141\164\145\x5f\160\151\143", ''); goto XrHPA; J1URw: $data["\x61\x67\145\x6e\164\x73\137\x69\x64"] = $this->bus_id; goto x0nkp; iajkU: $data = []; goto uSzh3; OBvEA: $data["\163\157\x72\x74"] = request()->post("\x73\x6f\162\164", ''); goto zbuT9; VhBVu: $id = request()->post("\x69\x64", ''); goto iajkU; pG9tq: $this->assign("\151\x6e\x66\x6f", $list); goto Q5p1G; x0nkp: $res = Db::name("\171\x62\x73\143\137\x61\160\160\154\151\x63\141\x74\x69\157\x6e\137\x61\143\x74\151\166\x69\164\x79\137\x63\154\x61\163\x73")->where("\x69\x64", $id)->update($data); goto cfc4r; uSzh3: $data["\143\x6c\x61\x73\x73\x5f\x6e\x61\155\145"] = request()->post("\143\x61\x74\145\x5f\156\141\155\145", ''); goto OBvEA; Q5p1G: return view("\142\141\162\147\141\x69\156\x2f\x65\144\151\164\137\141\143\164\x69\x76\x69\x74\171\x5f\x63\x6c\141\x73\x73"); goto uohvE; F8605: if (!request()->isAjax()) { goto jTDDj; } goto VhBVu; JLk65: jTDDj: goto WNJpH; uohvE: } public function activity_class_status() { goto OPNRM; ulUlH: goto FDf5G; goto VjAJh; VjAJh: Bdu6x: goto U6_sv; wv7on: $key = input("\160\141\x72\141\x6d\x2e\153\145\x79"); goto QCs_1; v00z1: FDf5G: goto ud4Ly; U6_sv: $res = Db::name("\x79\142\163\x63\x5f\141\160\160\154\x69\143\141\164\x69\x6f\x6e\x5f\x61\143\x74\x69\166\151\164\x79\137\143\x6c\x61\163\x73")->where("\x69\x64", $id)->update(["\x69\x73\137\165\163\x65" => 1]); goto v00z1; OPNRM: $id = input("\x70\x61\x72\x61\155\56\151\144"); goto wv7on; kb5Ly: $res = Db::name("\x79\142\163\x63\137\141\x70\x70\x6c\151\143\141\x74\151\x6f\156\x5f\141\x63\164\151\x76\151\x74\x79\x5f\143\154\x61\163\x73")->where("\x69\x64", $id)->update(["\151\x73\x5f\165\x73\x65" => 0]); goto ulUlH; ud4Ly: return AjaxReturn($res); goto G04V6; QCs_1: if ($key == "\x6f\x66\x66") { goto Bdu6x; } goto kb5Ly; G04V6: } public function activity_class_sort() { goto akL1C; oUO6C: return AjaxReturn($res); goto UDlm2; akL1C: $id = input("\160\x61\x72\x61\x6d\x2e\x69\144"); goto N8_8Y; N8_8Y: $val = input("\160\x61\162\x61\155\56\x76\141\154"); goto vKYQ5; vKYQ5: $res = Db::name("\x79\x62\x73\x63\137\x61\x70\x70\x6c\151\143\141\x74\x69\157\156\x5f\x61\x63\164\151\x76\151\x74\x79\x5f\143\154\x61\163\x73")->where("\151\144", $id)->update(["\163\157\x72\x74" => $val]); goto oUO6C; UDlm2: } public function bargain_refund() { goto cydCx; uzpzS: $res = Db::name("\x79\x62\x73\143\x5f\x62\141\x72\x67\x61\x69\x6e\x5f\157\162\x64\x65\x72")->where("\x6f\162\x64\x65\162\137\x69\144", $order_id)->update(["\157\x72\x64\x65\x72\137\x73\164\x61\x74\165\163" => 4, "\x72\145\146\165\x6e\144\x5f\155\x6f\156\145\171" => $refund_money, "\146\x69\x6e\x69\x73\x68\x5f\x74\x69\x6d\145" => time()]); goto iQDmr; IF_lR: UzW5C: goto kkIeF; tySIB: $order_id = input("\160\141\x72\141\155\x2e\157\x72\x64\x65\162\x5f\151\144"); goto sszxr; sszxr: $refund_money = input("\160\141\162\141\x6d\56\162\145\146\165\x6e\144\137\155\x6f\x6e\145\x79"); goto uzpzS; tmJaH: $info = Db::name("\171\142\163\x63\137\142\x61\x72\x67\x61\x69\x6e\137\x6f\x72\x64\x65\162")->where("\x6f\162\x64\145\162\x5f\151\x64", $order_id)->find(); goto L31w1; l20Yv: return view("\x62\141\162\147\x61\151\x6e\x2f\x62\x61\162\x67\141\151\156\137\162\145\146\x75\156\144"); goto LC0Oc; Qf7EG: $this->assign("\157\x72\144\x65\162\137\x69\144", $order_id); goto l20Yv; kkIeF: $order_id = input("\x70\x61\162\x61\155\56\x6f\162\144\145\x72\x5f\151\x64", "\x30"); goto tmJaH; L31w1: $this->assign("\x69\x6e\146\157", $info); goto Qf7EG; cydCx: if (!request()->isAjax()) { goto UzW5C; } goto tySIB; iQDmr: return AjaxReturn($res); goto IF_lR; LC0Oc: } public function orderTakeRefund() { goto UBMdJ; IaJ3d: goto y1XaU; goto NGzNt; KZoLl: goto HY5rb; goto crSML; uzuqt: if (!empty($ii)) { goto aGleE; } goto UYk8N; GBLOj: $data["\x72\145\x66\165\x6e\x64\x5f\x73\164\141\164\165\x73"] = 2; goto s_hV_; jRnIA: $input->SetOut_trade_no($order_info["\x6f\165\x74\137\164\x72\141\144\145\137\x6e\x6f"]); goto DaN_S; XsJQ4: $data["\155\x63\150\x5f\x69\144"] = $this->bus_id; goto xIP7l; rVygP: $status = intval($ct) == 0 ? 1 : intval($ct); goto dtGmL; AaDvM: $ii = Db::name("\x79\x62\163\143\137\x6f\162\x64\x65\x72\x5f\162\145\146\165\156\144")->where(["\164\171\x70\x65" => $data["\164\171\160\x65"], "\x6f\x72\x64\145\x72\137\151\x64" => $data["\157\x72\x64\x65\162\x5f\151\x64"]])->order("\x69\x64", "\x64\145\163\x63")->find(); goto LSxIG; bvMr1: $cert = authcode($refund_setting["\x63\x65\162\x74"], "\104\x45\x43\x4f\x44\x45"); goto Aac55; P3d_0: xap1j: goto emxbp; PpNpK: if (!($uid == 0)) { goto JfQf0; } goto sYNER; QAnh0: Db::name($t)->where("\x6f\x72\144\145\x72\137\x69\144", $order_id)->update(["\157\162\x64\x65\x72\x5f\x73\164\141\x74\x75\x73" => $status]); goto n7CAE; eN7_Q: $info = request()->param("\151\156\146\157", ''); goto MQ9pB; BJGa_: $temp = json_decode($bus_config["\x76\141\x6c\165\x65"], true); goto TNnap; m6VaP: file_put_contents($key_path, $key); goto vGpUf; qD1pD: $cert = $cert; goto F4D_A; s_hV_: $data["\x63\162\x65\x61\164\x65\x5f\x74\151\155\145"] = time(); goto x4tbO; YHdbF: nx_Zj: goto BUNcE; MQ9pB: $ju = request()->param("\x6a\165", 2); goto IhA7K; spRJ1: $data["\x72\145\x66\x75\156\144\x5f\163\164\x61\164\165\163"] = 1; goto rLxuV; pjRgZ: A0eh0: goto Sn5yU; kAqH3: if (!($order_info["\x70\x61\x79\137\x6d\157\x6e\145\171"] == 0)) { goto xap1j; } goto dAW4e; imsiX: $order_info = Db::name($t)->where("\157\162\144\145\x72\x5f\x69\144", $order_id)->update(["\157\x72\144\x65\x72\137\163\x74\x61\x74\x75\x73" => 5, "\162\x65\146\165\x6e\x64\x5f\x6d\x6f\156\145\171" => $order_info["\160\x61\171\137\x6d\157\x6e\x65\x79"], "\x66\x69\x6e\x69\163\x68\137\x74\151\155\145" => time()]); goto uzuqt; tcuxN: JfQf0: goto g2bO4; b4bPJ: return $res; goto hTKy_; dtGmL: $data["\162\x65\146\165\x6e\x64\x5f\x72\145\141\163\157\x6e"] = $info; goto spRJ1; mjsWV: ih5aw: goto Oastx; BISbm: if (!empty($ii)) { goto A0eh0; } goto xw6f0; g2bO4: if (!empty($info)) { goto nx_Zj; } goto cyQ8t; bSea4: if (!$res) { goto d58TR; } goto QAnh0; n7CAE: d58TR: goto b4bPJ; dwVOk: nBZ6p: goto vzzyF; XVyh6: return AjaxReturn($res); goto XwrLV; crSML: vbTBY: goto imsiX; NGzNt: aGleE: goto Bwgtl; xwuD_: if ($refund_setting["\163\167\151\x74\143\150"] != 1 || empty($refund_setting["\153\x65\x79"]) || empty($refund_setting["\x63\145\x72\164"])) { goto nBZ6p; } goto bvMr1; UBMdJ: $t = request()->param("\x74", "\x79\x62\163\x63\137\x62\141\x72\147\x61\151\156\x5f\x6f\162\144\145\x72"); goto KNWrv; uHDLS: $setting = uni_setting_load("\160\141\171\155\x65\156\x74", $_W["\165\x6e\x69\141\x63\x69\x64"]); goto YYZiQ; vGpUf: $param = \WxPayApi::refund($input); goto nS6Tt; g4Tyr: $key_path = ATTACHMENT_ROOT . "\160\x75\x62\154\x69\143\x2f" . $this->bus_id . "\137\167\x65\143\150\x61\x74\137\x72\x65\x66\165\156\x64\x5f\x6b\x65\x79\56\x70\145\x6d"; goto GIgu1; nS6Tt: if ($param["\x72\x65\x73\x75\x6c\164\x5f\143\x6f\x64\x65"] == "\x53\125\103\103\x45\x53\123") { goto vbTBY; } goto YYjEe; YYjEe: $errmsg = "\351\200\200\xe6\254\276\345\244\xb1\xe8\xb4\245\72" . json_encode($param, JSON_UNESCAPED_UNICODE); goto crOP8; J_xsT: $input->SetOut_refund_no($res); goto hjnto; gP1Op: goto ih5aw; goto pjRgZ; xIP7l: $data["\x6f\162\x64\145\x72\x5f\151\x64"] = $order_id; goto gOJ36; cyQ8t: return 0; goto YHdbF; IhA7K: $uid = request()->param("\165\x69\x64", 0); goto L_NWe; DaN_S: $input->SetTotal_fee($order_info["\x70\x61\171\137\155\157\156\x65\x79"] * 100); goto AL3ic; Oastx: $res = Db::name($t)->where("\x6f\x72\x64\x65\162\x5f\151\144", $order_id)->update(["\x6f\x72\144\x65\x72\137\x73\x74\141\164\165\x73" => 5, "\162\x65\146\x75\156\144\137\155\x6f\x6e\x65\x79" => $item["\x70\141\x79\137\x6d\157\x6e\145\x79"], "\x66\x69\x6e\151\163\150\137\164\151\x6d\145" => time()]); goto XVyh6; gOJ36: $data["\x72\x65\x66\x75\x6e\x64\137\162\145\141\x73\x6f\156"] = ''; goto GBLOj; cZ9Sd: goto AX2qy; goto dwVOk; kiGVX: $order_info = Db::name($t)->where("\x6f\162\x64\145\x72\x5f\x69\144", $order_id)->find(); goto kAqH3; imUrn: $res = Db::name("\x79\x62\163\143\137\157\x72\x64\x65\x72\137\x72\145\x66\165\x6e\144")->where("\x69\x64", $ii["\151\144"])->update($data); goto TjqLM; sYNER: return 0; goto tcuxN; UYk8N: Db::name("\x79\x62\x73\143\137\x6f\x72\x64\145\162\x5f\x72\145\x66\165\x6e\x64")->insert($data); goto IaJ3d; Y24Zd: $input->SetAppid($temp["\101\120\x50\137\111\x44"]); goto qD1pD; BUNcE: $ct = Db::name($t)->where("\157\x72\144\145\162\137\151\144", $order_id)->value("\162\x65\x66\x75\x6e\x64\x5f\x73\x74\141\x74\x75\x73"); goto rVygP; rLxuV: if (!empty($ii)) { goto di_YA; } goto kf3W0; GIgu1: file_put_contents($cert_path, $cert); goto m6VaP; AL3ic: $input->SetRefund_fee($order_info["\160\141\x79\137\155\157\x6e\x65\171"] * 100); goto J_xsT; TGO2v: goto Bz49R; goto Kr5bZ; F4D_A: $key = $key; goto LLbsy; crOP8: return AjaxReturnMsg(0, $errmsg); goto KZoLl; hTKy_: mZGsl: goto JOBwk; XwrLV: AX2qy: goto XxGaB; L_NWe: $ty = $t == "\x79\142\x73\x63\x5f\x62\x61\x72\147\141\151\x6e\137\x6f\162\x64\x65\162" ? 2 : 4; goto qpSzF; hjnto: $input->SetOp_user_id($temp["\101\120\120\137\115\x43\110\111\x44"]); goto Y24Zd; kf3W0: $res = Db::name("\171\x62\x73\143\137\157\x72\144\145\x72\137\x72\x65\x66\x75\156\144")->insert($data); goto TGO2v; Sn5yU: Db::name("\x79\x62\163\143\137\157\x72\144\x65\162\137\162\x65\146\x75\x6e\x64")->where("\x69\x64", $ii["\x69\144"])->update($data); goto mjsWV; Bwgtl: Db::name("\x79\x62\x73\x63\x5f\157\162\x64\145\x72\137\162\x65\x66\165\x6e\x64")->where("\151\144", $ii["\x69\144"])->update($data); goto nfh6s; ZDmQx: HY5rb: goto cZ9Sd; TNnap: $res = $temp["\101\x50\x50\137\x4d\x43\110\x49\104"] . date("\131\155\144\110\151\x73") . rand(10000, 9999999); goto kohqF; vzzyF: $item = Db::name($t)->where("\x6f\x72\144\145\x72\x5f\151\x64", $order_id)->find(); goto BISbm; KNWrv: $order_id = request()->post("\157\x72\x64\145\x72\x5f\x69\144", ''); goto eN7_Q; x4tbO: $data["\x74\171\160\x65"] = $ty; goto AaDvM; dAW4e: return AjaxReturnMsg(0, "\346\224\257\344\273\x98\351\207\221\xe9\242\x9d\344\xb8\272\351\233\266\346\x97\240\346\263\225\xe9\x80\200\xe6\xac\276"); goto P3d_0; JOBwk: global $_W; goto uHDLS; emxbp: $bus_config = Db::name("\x79\x62\163\x63\137\143\157\x6e\x66\x69\x67")->where("\x6d\x63\150\137\151\144", $this->bus_id)->where("\153\145\171", "\127\130\x50\101\131")->find(); goto BJGa_; nfh6s: y1XaU: goto IiWzG; TjqLM: Bz49R: goto bSea4; kohqF: $input = new \WxPayRefund(); goto jRnIA; Kr5bZ: di_YA: goto imUrn; Aac55: $key = authcode($refund_setting["\x6b\145\171"], "\104\105\x43\x4f\x44\x45"); goto kiGVX; qpSzF: $data["\x75\x69\x64"] = $uid; goto XsJQ4; xw6f0: Db::name("\x79\142\163\143\x5f\x6f\162\x64\x65\162\x5f\x72\x65\146\165\x6e\x64")->insert($data); goto gP1Op; IiWzG: return AjaxReturn($order_info); goto ZDmQx; LSxIG: if (!($ju == 1)) { goto mZGsl; } goto PpNpK; YYZiQ: $refund_setting = $setting["\160\x61\x79\155\x65\x6e\x74"]["\167\145\143\150\x61\x74\x5f\162\x65\146\165\156\144"]; goto xwuD_; LLbsy: $cert_path = ATTACHMENT_ROOT . "\160\x75\x62\154\151\x63\57" . $this->bus_id . "\x5f\x77\145\143\x68\x61\x74\137\x72\145\146\x75\156\144\137\x63\x65\x72\164\x2e\160\145\155"; goto g4Tyr; XxGaB: } public function returnGoodsList() { goto AjkpO; EGN5I: $this->assign("\x70\x61\x67\145", $art->render()); goto H0sfv; G2VXU: $img_id_array = $goods["\151\x6d\x67\x5f\151\144\137\x61\x72\162\x61\x79"]; goto yqdge; u1Fzz: $url = explode("\x26", $url[1]); goto eB1aP; H0sfv: return $this->fetch("\x62\x61\162\x67\x61\x69\x6e\x2f\x72\x65\164\165\x72\156\x5f\147\157\157\144\x73\x5f\154\x69\x73\x74"); goto xtSBD; fOyK1: $goods_id = request()->post("\x67\157\x6f\x64\x73\x5f\151\x64"); goto GgAVV; oEOYG: $art = Db::name("\171\x62\x73\x63\x5f\x67\157\157\x64\x73")->alias("\x67")->join("\x79\x62\163\x63\137\151\x6d\141\x67\145\163\40\x6d", "\x6d\x2e\x69\155\147\x5f\x69\144\75\x67\x2e\x69\155\x61\x67\145\x73")->where("\147\x2e\155\x63\150\x5f\151\144", $this->bus_id)->where("\147\x2e\151\x73\x5f\144\145\154", "\60")->where("\147\x2e\x67\x6f\157\144\x73\x5f\164\x79\160\x65", 1)->field("\x67\x2e\147\x6f\157\144\x73\x5f\x69\x64\x2c\x67\x2e\143\x72\x65\141\164\x65\137\x74\151\155\145\x2c\x67\x2e\147\x6f\x6f\x64\x73\x5f\156\141\155\145\x2c\147\x2e\x70\162\151\143\x65\54\155\56\151\x6d\147\x5f\x63\x6f\x76\145\x72")->order("\147\56\143\162\145\x61\164\145\137\164\x69\x6d\x65\x20\x64\145\x73\143")->paginate(15, false, ["\161\165\x65\162\x79" => ["\x73" => $url]]); goto CgIEz; JNNzS: return AjaxReturn($goods); goto y3mq0; yqdge: $imgs = Db::name("\171\x62\x73\x63\137\151\x6d\x61\x67\145\163")->where("\x69\155\x67\137\151\x64", "\151\x6e", $img_id_array)->field("\151\x6d\147\137\x69\144\54\x69\155\x67\x5f\x63\x6f\166\145\162")->select(); goto M1E5M; y3mq0: Wlyon: goto YjEtb; M1E5M: $goods["\151\x6d\147\137\x61\x72\162"] = $imgs; goto JNNzS; CgIEz: $this->assign("\x67\x6f\x6f\x64\x73", $art); goto EGN5I; XZIon: $goods = Db::name("\171\x62\163\143\137\147\157\x6f\144\163")->alias("\147")->join("\171\142\x73\x63\137\151\x6d\x61\x67\145\x73\x20\x69", "\x67\x2e\x69\155\x61\147\x65\163\40\x3d\x69\x2e\x69\155\x67\x5f\151\x64")->where($where)->field("\x67\x2e\52\x2c\x69\x2e\x69\x6d\147\137\143\x6f\x76\x65\x72")->find(); goto G2VXU; GgAVV: $where["\x67\x6f\x6f\x64\x73\137\151\144"] = $goods_id; goto XZIon; AjkpO: if (!(request()->isAjax() && request()->method() == "\x50\x4f\x53\124")) { goto Wlyon; } goto fOyK1; eB1aP: $url = "\x2f" . $url[0]; goto oEOYG; oFoSZ: $url = explode("\75\57", $url); goto u1Fzz; YjEtb: $url = request()->query(); goto oFoSZ; xtSBD: } }
