<?php
 namespace app\admin\service; use app\common\model\AdminModule; use think\Session; class Business extends Base { function __construct() { parent::__construct(); $this->bus = new \app\common\model\Business(); } public function login($user_name, $password = '') { goto QlyBf; m1Cl9: return 0; goto aiZGw; ASIWH: $user_info = $this->bus->getInfo($condition, $field = "\x69\x64\54\x70\x68\157\156\145\54\x6e\x69\143\x6b\137\156\x61\x6d\x65\x2c\x6e\x61\155\145"); goto ysQEj; rBen7: $condition = array("\x70\x68\x6f\x6e\x65" => $user_name, "\160\141\163\163\167\x6f\x72\x64" => md5($password)); goto ASIWH; F3nYv: Session::set("\x62\x75\x73\x5f\151\144", $user_info["\151\x64"]); goto fdE1N; ysQEj: if (!empty($user_info)) { goto yoUce; } goto m1Cl9; QlyBf: Session::set("\142\x75\x73\x5f\x69\144", ''); goto rBen7; BWYeS: CtfRe: goto ynrdW; fB_a7: yoUce: goto F3nYv; aiZGw: goto CtfRe; goto fB_a7; fdE1N: return 1; goto BWYeS; ynrdW: } public function getSessionBusId() { return $this->bus_id; } public function getModuleIdByModule($controller, $action) { goto Sashs; Sashs: $admin_mod = new AdminModule(); goto SPMyf; SPMyf: $res = $admin_mod->getModuleIdByModule($controller, $action); goto Hym2t; Hym2t: return $res; goto M_jGC; M_jGC: } public function getBusInfo() { $res = $this->bus->getInfo("\x69\x64\75" . $this->bus_id, "\52"); return $res; } public function getchildModuleQuery($moduleid) { goto dlhTB; C9183: $list = $auth_group->getAuthList($moduleid); goto z1NNK; z1NNK: $new_list = $list; goto HSImU; dlhTB: $auth_group = new AdminModule(); goto C9183; HSImU: return $new_list; goto gjiwA; gjiwA: } public function selectAll() { goto CijUX; lEIpt: $list = $auth_group->getAuthListLevel(2); goto Hz43a; Hz43a: return $list; goto uJUeO; CijUX: $auth_group = new AdminModule(); goto lEIpt; uJUeO: } public function getModuleRootAndSecondMenu($module_id) { goto eDRdb; NzuxM: $pid = $module["\x70\x69\x64"]; goto K477f; RnHM9: $pid = 0; goto Re0az; Wmota: M4yiK: goto wJCN1; JDH6V: goto W2AjX; goto PEbE7; CDmXo: XBWN_: goto JDH6V; HerYC: W2AjX: goto UusS_; eDRdb: $auth_group = new AdminModule(); goto IwjxD; YPbno: return array(0, 0); goto fvtOU; P0Vct: if (empty($info)) { goto M4yiK; } goto E0acL; fvtOU: RdD0H: goto Yh7Jv; r32lH: X76mj: goto wfCCE; WV8VH: $pid = $info["\x70\151\x64"]; goto HerYC; ENTZa: if (!($count == 0)) { goto RdD0H; } goto YPbno; mWXH3: goto TBJ38; goto Vh_Cv; Yh7Jv: $info = $auth_group->getInfo(["\x6d\x6f\144\165\x6c\145\137\151\144" => $module_id, "\160\x69\x64" => array("\156\x65\161", 0)], "\x70\x69\144\54\x20\154\145\166\145\154"); goto P0Vct; QzGQb: goto X76mj; goto Wmota; wJCN1: return array($module_id, 0); goto r32lH; ch7cY: if ($module["\x6c\x65\x76\x65\154"] == 2) { goto GpPCZ; } goto NzuxM; IwjxD: $count = $auth_group->where(["\155\x6f\144\165\154\x65\x5f\151\x64" => $module_id])->count(); goto ENTZa; PUHhO: $module = $auth_group->getInfo(["\155\157\x64\165\154\x65\137\151\144" => $pid, "\x70\x69\144" => array("\156\145\x71", 0)], "\160\x69\144\x2c\40\x6d\157\144\165\x6c\145\137\x69\144\54\x20\x6c\x65\x76\x65\154"); goto ch7cY; y5j1A: return array($info["\x70\x69\x64"], $module_id); goto x6aMc; Re0az: return array($module["\x70\x69\144"], $module["\155\x6f\x64\165\154\x65\137\x69\144"]); goto CDmXo; UusS_: if (!($pid != 0)) { goto exqAU; } goto PUHhO; K477f: goto XBWN_; goto rTCCu; rTCCu: GpPCZ: goto RnHM9; E0acL: if ($info["\154\145\166\x65\x6c"] == 2) { goto b5YmV; } goto WV8VH; x6aMc: TBJ38: goto QzGQb; Vh_Cv: b5YmV: goto y5j1A; PEbE7: exqAU: goto mWXH3; wfCCE: } }
