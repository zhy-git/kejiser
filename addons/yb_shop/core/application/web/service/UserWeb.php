<?php
 namespace app\web\service; use think\Db; class UserWeb { public function checkUser($unionid) { $rs = Db::name("\x79\142\x73\143\x5f\x75\163\x65\162")->where("\x77\170\x5f\165\x6e\151\x6f\x6e\x69\x64", $unionid)->value("\x75\x69\x64"); return $rs; } public function checkUserByOpenid($openid) { $rs = Db::name("\171\x62\x73\143\137\165\163\145\x72")->where("\x77\170\137\x6f\x70\145\x6e\x69\144", $openid)->value("\165\151\x64"); return $rs; } public function addUser($data) { goto bKYEp; TiqAN: lmAGv: goto aA8jc; bKYEp: $info = Db::name("\171\142\163\143\137\x75\x73\x65\x72\137\163\150\x61\162\x65\137\163\145\164\x74\x69\x6e\147")->where("\x6d\143\150\x5f\151\x64", $data["\155\143\150\x5f\151\144"])->find(); goto U8PY0; maHl4: $data["\x70\x69\x64"] = 0; goto TiqAN; U8PY0: if (!(empty($info) || $info["\154\145\166\145\x6c"] == 0)) { goto lmAGv; } goto maHl4; Q00yI: return $rs; goto RjjgJ; aA8jc: $rs = Db::name("\171\142\163\143\137\x75\x73\x65\x72")->insertGetId($data); goto Q00yI; RjjgJ: } }
