(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-pintuan-pages-group-index"],{"47aa":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-scroll-view",{staticClass:"scroll-view-x",attrs:{"scroll-x":"true"}},[e("v-uni-view",{staticClass:"scroll-view-item"},[e("v-uni-view",{class:0==t.currentTab?"on":"",attrs:{"data-current":"0"},on:{click:function(i){i=t.$handleEvent(i),t.swichNav(i)}}},[t._v("全部")])],1),e("v-uni-view",{staticClass:"scroll-view-item"},[e("v-uni-view",{class:1==t.currentTab?"on":"",attrs:{"data-current":"1"},on:{click:function(i){i=t.$handleEvent(i),t.swichNav(i)}}},[t._v("待成团")])],1),e("v-uni-view",{staticClass:"scroll-view-item"},[e("v-uni-view",{class:2==t.currentTab?"on":"",attrs:{"data-current":"2"},on:{click:function(i){i=t.$handleEvent(i),t.swichNav(i)}}},[t._v("已成团")])],1),e("v-uni-view",{staticClass:"scroll-view-item"},[e("v-uni-view",{class:3==t.currentTab?"on":"",attrs:{"data-current":"3"},on:{click:function(i){i=t.$handleEvent(i),t.swichNav(i)}}},[t._v("拼团失败")])],1)],1),e("v-uni-swiper",{staticClass:"swiper-box",style:"height: "+(t.windowHeight-36)+"px;",attrs:{current:t.currentTab,duration:"300"},on:{change:function(i){i=t.$handleEvent(i),t.bindChange(i)}}},[e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"scroll-view-y",style:"height: "+(t.windowHeight-36)+"px;",attrs:{"scroll-y":"true","scroll-with-animation":"true","scroll-top":t.scrollTop,"lower-threshold":"50"},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.scrolltolower(i)}}},[e("GroupList",{attrs:{groupList:t.groupList,loading:t.loading}})],1)],1),e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"scroll-view-y",style:"height: "+(t.windowHeight-36)+"px;",attrs:{"scroll-y":"true","scroll-with-animation":"true","scroll-top":t.scrollTop,"lower-threshold":"50"},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.scrolltolower(i)}}},[e("GroupList",{attrs:{groupList:t.groupList,loading:t.loading}})],1)],1),e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"scroll-view-y",style:"height: "+(t.windowHeight-36)+"px;",attrs:{"scroll-y":"true","scroll-with-animation":"true","scroll-top":t.scrollTop,"lower-threshold":"50"},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.scrolltolower(i)}}},[e("GroupList",{attrs:{groupList:t.groupList,loading:t.loading}})],1)],1),e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"scroll-view-y",style:"height: "+(t.windowHeight-36)+"px;",attrs:{"scroll-y":"true","scroll-with-animation":"true","scroll-top":t.scrollTop,"lower-threshold":"50"},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.scrolltolower(i)}}},[e("GroupList",{attrs:{groupList:t.groupList,loading:t.loading}})],1)],1)],1)],1)},o=[],a=e("ca7b"),r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.groupList.length>0?e("v-uni-view",t._l(t.groupList,function(i,n){return e("v-uni-view",{key:n},[e("v-uni-view",{staticClass:"group-item bg-fff mb-10",attrs:{"data-id":i.gid},on:{click:function(i){i=t.$handleEvent(i),t.showGoodsDetail(i)}}},[e("v-uni-view",{staticClass:"goods-img p-20"},[e("v-uni-image",{attrs:{src:i.goods.img,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"goods-info pull-right p-20"},[e("v-uni-view",{staticClass:"goods-title"},[t._v(t._s(i.goods.name))]),e("v-uni-text",{staticClass:"color-ccc"},[t._v(t._s(i.goods.groupNum)+"人团")]),e("v-uni-text",{staticClass:"goods-price"},[t._v("¥"+t._s(i.totalPrice))]),e("v-uni-view",{staticClass:"pull-right text-red"},[t._v(t._s(i.groupStatus))])],1),e("v-uni-view",{staticClass:"clearfix"})],1),e("v-uni-view",{staticClass:"user-option pull-right"},[e("v-uni-view",{staticClass:"pull-right btn",attrs:{"data-id":i.id},on:{click:function(i){i=t.$handleEvent(i),t.showOrderInfo(i)}}},[t._v("查看订单详情")]),e("v-uni-view",{staticClass:"pull-right btn",attrs:{"data-id":i.id},on:{click:function(i){i=t.$handleEvent(i),t.showGroupInfo(i)}}},[t._v("查看团详情")])],1),e("v-uni-view",{staticClass:"clearfix"})],1)})):0!=t.groupList.length||t.loading?t._e():e("v-uni-view",{staticClass:"no-group"},[e("v-uni-view",{staticClass:"text-center"},[e("v-uni-image",{attrs:{src:"/static/resource/no-orders.png"}}),e("v-uni-view",{staticClass:"mt-20"},[t._v("您没有相关订单")])],1)],1)},l=[],s=getApp(),c=(s.core,{extends:a["a"],data:function(){return{}},props:{groupList:Array,loading:!0},methods:{showGoodsDetail:function(t){var i=t.currentTarget.dataset.id;i&&s.redirect("goods/detail","gid="+i)},showGroupInfo:function(t){var i=t.currentTarget.dataset.id;s.redirect("group/detail","id="+i)},showOrderInfo:function(t){var i=t.currentTarget.dataset.id;s.redirect("orders/detail","oid="+i)}}}),d=c,u=(e("b7b3"),e("2877")),f=Object(u["a"])(d,r,l,!1,null,"72547da8",null);f.options.__file="grouplist.vue";var g=f.exports,p=getApp(),w=p.core,v={extends:a["a"],data:function(){return{currentTab:0,scrollTop:0,page:0,groupList:[],loading:!1}},components:{GroupList:g},methods:{setCurrentData:function(){var t=this;t.setData({loading:!0}),w.get("Pintuan/ptGroupList",{page:t.page,status:t.currentTab,uid:getApp().getCache("userinfo").uid},function(i){console.log(i),0==i.code?(t.setData({loading:!1,show:!0}),i.info.length>0&&t.setData({page:t.page+1,groupList:t.groupList.concat(i.info)}),i.info.length<10&&t.setData({loaded:!0})):w.alert(i.msg)},!0)},showGoodsDetail:function(t){var i=t.currentTarget.dataset.id;i&&p.redirect("goods/detail","gid="+i)},showGroupInfo:function(t){var i=t.currentTarget.dataset.id;p.redirect("group/detail","id="+i)},showOrderInfo:function(t){var i=t.currentTarget.dataset.id;p.redirect("orders/detail","oid="+i)},bindChange:function(t){this.page=0,this.groupData=[],this.loading=!0,this.currentTab=t.detail.current,this.setData({loading:!0,groupList:[],currentTab:this.currentTab}),this.setCurrentData()},swichNav:function(t){this.currentTab!=t.currentTarget.dataset.current&&(this.currentTab=t.currentTarget.dataset.current,this.setData({currentTab:this.currentTab}))},scrolltolower:function(){console.log("加载更多"),this.loaded||this.setCurrentData()}},onPullDownRefresh:function(){this.setData({groupList:[],page:1,loaded:!1}),this.setCurrentData(),wx.stopPullDownRefresh()},onLoad:function(t){var i=wx.getSystemInfoSync();this.setData({windowHeight:i.windowHeight}),this.setCurrentData()},onShow:function(){}},h=v,b=(e("d763"),Object(u["a"])(h,n,o,!1,null,"3dcc6cb0",null));b.options.__file="index.vue";i["default"]=b.exports},5872:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"\nuni-page-body{background-color:#f2f2f2;font-size:%?26?%;color:#1b1b1b\n}\nuni-image{vertical-align:middle\n}\n.text-center{text-align:center\n}\n.pull-left{float:left\n}\n.pull-right{float:right\n}\n.clearfix{clear:both\n}\n.bg-fff{background-color:#fff\n}\n.mt-10{margin-top:%?10?%\n}\n.mt-20{margin-top:%?20?%\n}\n.p-20{padding:%?20?%\n}\n.text-red{color:red\n}\n.row{width:100%\n}\n.on{border-bottom:2px solid red;color:red!important\n}\n.swiper-box{min-height:%?1000?%\n}\nuni-swiper-item uni-image{width:100%;height:100%\n}\n.toast{position:fixed;bottom:15%;width:100%;z-index:1111;text-align:center;color:#fff\n}\n.toast .toast-mask{display:inline-block;background-color:#000;width:30%;padding:%?20?%;border-radius:%?10?%\n}\n.loading uni-image{width:100prx;height:%?100?%\n}\n.loading .no-data{padding:%?40?%;color:#ccc;font-size:%?22?%\n}\n.flex{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-row{-webkit-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row\n}\n.flex-col,.flex-row{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal\n}\n.flex-col{-webkit-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column\n}\n.flex-grow-0{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0\n}\n.flex-grow-1{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1\n}\n.flex-grow-2{-webkit-box-flex:2;-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2\n}\n.flex-x-center{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center\n}\n.flex-x-center,.flex-x-left{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-x-left{-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left\n}\n.flex-x-right{-webkit-box-pack:right;-webkit-justify-content:right;-ms-flex-pack:right;justify-content:right\n}\n.flex-x-right,.flex-y-center{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-y-center{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center\n}\n.flex-y-bottom{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end\n}\n.float-icon{position:fixed;z-index:20;right:%?40?%;bottom:%?30?%\n}\n.bar-bottom~.float-icon{bottom:%?150?%\n}\n.float-icon .float-icon-btn{display:block;padding:0;margin:0;border:none;background:none\n}\n.float-icon .float-icon-btn:after{display:none\n}\n.float-icon .float-icon-btn:active{opacity:.75\n}\n.float-icon .float-icon-btn uni-image{width:%?100?%;height:%?100?%;display:block\n}\n.float-icon1,.float-icon2{margin-bottom:%?20?%\n}\nbody.?%PAGE?%{background-color:#f2f2f2\n}",""])},"6c1d":function(t,i,e){i=t.exports=e("2350")(!1),i.i(e("5872"),""),i.push([t.i,"\n.scroll-view-x[data-v-3dcc6cb0]{background-color:#fff;white-space:nowrap\n}\n.scroll-view-x .scroll-view-item[data-v-3dcc6cb0]{display:inline-block;margin-left:%?56?%;line-height:38px\n}\nuni-swiper[data-v-3dcc6cb0]{height:%?304?%\n}\n.goods-img[data-v-3dcc6cb0]{display:inline-block\n}\n.group-item uni-image[data-v-3dcc6cb0]{width:%?200?%;height:%?200?%\n}\n.goods-info[data-v-3dcc6cb0]{width:62%\n}\n.goods-title[data-v-3dcc6cb0]{height:%?150?%;overflow:hidden;line-height:%?40?%\n}\n.goods-price[data-v-3dcc6cb0]{color:red;margin-left:%?20?%\n}\n.user-option[data-v-3dcc6cb0]{width:100%;margin-bottom:%?10?%;background:#f7f7f7\n}\n.btn[data-v-3dcc6cb0]{border:1px solid #ff4544;margin:%?20?% %?20?% %?20?% 0;border-radius:%?10?%;background:#ff4544;color:#fff\n}\n.no-group[data-v-3dcc6cb0]{position:absolute;width:100%\n}\n.no-group uni-image[data-v-3dcc6cb0]{width:%?300?%;height:%?300?%\n}\n.no-group>uni-view[data-v-3dcc6cb0]{margin-top:%?240?%\n}",""])},"9ff8":function(t,i,e){var n=e("f38c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("82e4b7fa",n,!0,{sourceMap:!1,shadowMode:!1})},b544:function(t,i,e){var n=e("6c1d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("6159e144",n,!0,{sourceMap:!1,shadowMode:!1})},b7b3:function(t,i,e){"use strict";var n=e("9ff8"),o=e.n(n);o.a},ca7b:function(t,i,e){"use strict";var n,o,a=e("e143"),r={computed:{Vue:function(){return a["default"]}},methods:{setData:function(t){if(t)try{for(var i in t)this[i]=t[i]}catch(e){console.log(e)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var i={currentTarget:{dataset:{}}},e=t.detail.value;i.currentTarget.dataset=e,getApp().core.menu_url(i,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},l=r,s=e("2877"),c=Object(s["a"])(l,n,o,!1,null,null,null);c.options.__file="Base.vue";i["a"]=c.exports},d763:function(t,i,e){"use strict";var n=e("b544"),o=e.n(n);o.a},f38c:function(t,i,e){i=t.exports=e("2350")(!1),i.i(e("5872"),""),i.push([t.i,"\n.scroll-view-x[data-v-72547da8]{background-color:#fff;white-space:nowrap\n}\n.scroll-view-x .scroll-view-item[data-v-72547da8]{display:inline-block;margin-left:%?56?%;line-height:38px\n}\nuni-swiper[data-v-72547da8]{height:%?304?%\n}\n.goods-img[data-v-72547da8]{display:inline-block\n}\n.group-item uni-image[data-v-72547da8]{width:%?200?%;height:%?200?%\n}\n.goods-info[data-v-72547da8]{width:62%\n}\n.goods-title[data-v-72547da8]{height:%?150?%;overflow:hidden;line-height:%?40?%\n}\n.goods-price[data-v-72547da8]{color:red;margin-left:%?20?%\n}\n.user-option[data-v-72547da8]{width:100%;margin-bottom:%?10?%;background:#f7f7f7\n}\n.btn[data-v-72547da8]{border:1px solid #ff4544;margin:%?20?% %?20?% %?20?% 0;border-radius:%?10?%;background:#ff4544;color:#fff\n}\n.no-group[data-v-72547da8]{position:absolute;width:100%\n}\n.no-group uni-image[data-v-72547da8]{width:%?300?%;height:%?300?%\n}\n.no-group>uni-view[data-v-72547da8]{margin-top:%?240?%\n}",""])}}]);