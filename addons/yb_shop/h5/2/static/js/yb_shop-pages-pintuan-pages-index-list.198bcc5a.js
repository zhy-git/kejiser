(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-pintuan-pages-index-list"],{"1e94":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-scroll-view",{staticClass:"scroll-view-x",attrs:{"scroll-x":!0,"scroll-with-animation":!0,"scroll-left":t.scrollLeft}},[e("v-uni-view",{class:"scroll-view-item "+(0==t.cid?"on":""),attrs:{"data-cid":"0"},on:{click:function(i){i=t.$handleEvent(i),t.switchNav(i)}}},[t._v("全部")]),t._l(t.category,function(i,n){return e("v-uni-view",{key:n,class:"scroll-view-item "+(t.cid==i.id?"on":""),attrs:{"data-cid":i.id},on:{click:function(i){i=t.$handleEvent(i),t.switchNav(i)}}},[t._v(t._s(i.name)+"\n\t\t")])})],2),e("v-uni-scroll-view",{staticClass:"scroll-view-y",style:"height: "+(t.windowHeight-42)+"px;",attrs:{"scroll-y":!0,"scroll-with-animation":!0,"scroll-top":t.scrollTop,"lower-threshold":"50"},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.scrolltolower(i)}}},[e("v-uni-view",[t._l(t.childCate,function(i,n){return e("v-uni-view",{key:n,staticClass:"child-group bg-fff"},[e("v-uni-view",{staticClass:"child-cate-item mt-20",attrs:{"data-id":i.id},on:{click:function(i){i=t.$handleEvent(i),t.showList(i)}}},[e("v-uni-view",{staticClass:"icon"},[e("v-uni-image",{attrs:{src:i.img,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"child-cate-name mt-20"},[t._v(t._s(i.name))])],1)],1)}),e("v-uni-view",{staticClass:"goods-group",staticStyle:{"margin-top":"14rpx"}},t._l(t.goodsList,function(i,n){return e("v-uni-view",{key:n,staticClass:"goods-item-2 bg-fff",attrs:{"data-id":i.id},on:{click:function(i){i=t.$handleEvent(i),t.showGoodsDetial(i)}}},[e("v-uni-image",{attrs:{src:i.img,mode:"aspectFill"}}),e("v-uni-view",{staticClass:"goods_info"},[e("v-uni-view",{staticClass:"goods-title"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"goods_sale"},[t._v(" 已团"),e("v-uni-text",{staticClass:"goods-sale"},[t._v(t._s(i.saleNum))]),t._v(t._s(i.unit))],1),e("v-uni-view",{staticClass:"goods_sale"},[t._v(" 单独购买¥"+t._s(i.price))]),e("v-uni-view",{staticClass:"goods_btn"},[e("v-uni-view",{staticClass:"goods-price"},[e("v-uni-text",{},[t._v("¥")]),t._v(" "+t._s(i.gprice)+"\n\t\t\t\t\t\t\t")],1),e("v-uni-view",{staticClass:"goods_groupNum"},[t._v(t._s(i.groupNum)+"人团")])],1)],1),e("v-uni-view",{staticClass:"btn text-center goods_btns",staticStyle:{border:"0","font-size":"30rpx"}},[t._v("去开团\n\t\t\t\t\t\t"),e("v-uni-image",{staticClass:"btn_arrow",attrs:{src:"../../../../../static/resource/left.png"}})],1),e("v-uni-view",{staticClass:"clear"})],1)}))],2)],1)],1)},a=[],o=e("ca7b"),d=getApp(),l=d.core,s={extends:o["a"],data:function(){return{cid:0,show:!0,scrollLeft:0,scrollTop:0,page:1,goodsList:[],loading:!0,suspension:[],category:[],windowHeight:null,childCate:[]}},onLoad:function(t){this.setData({cid:t.cid?t.cid:0}),this.systemInfo=wx.getSystemInfoSync(),this.setIndexData(),this.setGoodsData()},onShow:function(){},onPullDownRefresh:function(){this.setData({goodsList:[],page:1,loaded:!1}),this.setIndexData(),this.setGoodsData(),wx.stopPullDownRefresh()},onReachBottom:function(){console.log("加载更多"),this.loaded||this.setGoodsData()},methods:{setIndexData:function(){var t=this;l.get("Pintuan/ptIndex",{},function(i){0==i.code?t.setData({windowHeight:t.systemInfo.windowHeight,advert:i.info.advert,category:i.info.cate}):l.alert(i.msg)})},setGoodsData:function(){if(!this.loading)return!1;var t=this;l.get("Pintuan/ptGoodsList",{page:t.page,cate_id:t.cid},function(i){if(console.log(i),0==i.code){var e={loading:!1};i.info.length>0&&(e.page=t.page+1,e.goodsList=t.goodsList.concat(i.info)),i.info.length<10&&(e.loaded=!0),t.setData(e)}else l.alert(i.msg)})},showList:function(t){var i=t.currentTarget.dataset.id;d.redirect("index/list","cid="+i)},showGoodsDetial:function(t){var i=t.currentTarget.dataset.id;i&&d.redirect("goods/detail","gid="+i)},switchNav:function(t){if(this.cid!=t.currentTarget.dataset.cid||0==t.currentTarget.dataset.cid){this.cid=t.currentTarget.dataset.cid,this.page=0,this.loading=!0,this.goodsList=[];var i=this.systemInfo.windowWidth,e=t.currentTarget.offsetLeft,n=this.scrollLeft;n=e>i/2?e:0,this.setData({goodsList:[],childCate:[],loading:!0,scrollLeft:n,scrollTop:0,cid:this.cid}),this.setGoodsData()}},scrolltolower:function(t){console.log("加载更多"),this.loaded||this.setGoodsData()},consultation:function(t){suspension.call()}}},r=s,c=(e("7196"),e("2877")),f=Object(c["a"])(r,n,a,!1,null,"adfd9e74",null);f.options.__file="list.vue";i["default"]=f.exports},5872:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"\nuni-page-body{background-color:#f2f2f2;font-size:%?26?%;color:#1b1b1b\n}\nuni-image{vertical-align:middle\n}\n.text-center{text-align:center\n}\n.pull-left{float:left\n}\n.pull-right{float:right\n}\n.clearfix{clear:both\n}\n.bg-fff{background-color:#fff\n}\n.mt-10{margin-top:%?10?%\n}\n.mt-20{margin-top:%?20?%\n}\n.p-20{padding:%?20?%\n}\n.text-red{color:red\n}\n.row{width:100%\n}\n.on{border-bottom:2px solid red;color:red!important\n}\n.swiper-box{min-height:%?1000?%\n}\nuni-swiper-item uni-image{width:100%;height:100%\n}\n.toast{position:fixed;bottom:15%;width:100%;z-index:1111;text-align:center;color:#fff\n}\n.toast .toast-mask{display:inline-block;background-color:#000;width:30%;padding:%?20?%;border-radius:%?10?%\n}\n.loading uni-image{width:100prx;height:%?100?%\n}\n.loading .no-data{padding:%?40?%;color:#ccc;font-size:%?22?%\n}\n.flex{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-row{-webkit-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row\n}\n.flex-col,.flex-row{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal\n}\n.flex-col{-webkit-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column\n}\n.flex-grow-0{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0\n}\n.flex-grow-1{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1\n}\n.flex-grow-2{-webkit-box-flex:2;-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2\n}\n.flex-x-center{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center\n}\n.flex-x-center,.flex-x-left{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-x-left{-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left\n}\n.flex-x-right{-webkit-box-pack:right;-webkit-justify-content:right;-ms-flex-pack:right;justify-content:right\n}\n.flex-x-right,.flex-y-center{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-y-center{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center\n}\n.flex-y-bottom{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end\n}\n.float-icon{position:fixed;z-index:20;right:%?40?%;bottom:%?30?%\n}\n.bar-bottom~.float-icon{bottom:%?150?%\n}\n.float-icon .float-icon-btn{display:block;padding:0;margin:0;border:none;background:none\n}\n.float-icon .float-icon-btn:after{display:none\n}\n.float-icon .float-icon-btn:active{opacity:.75\n}\n.float-icon .float-icon-btn uni-image{width:%?100?%;height:%?100?%;display:block\n}\n.float-icon1,.float-icon2{margin-bottom:%?20?%\n}\nbody.?%PAGE?%{background-color:#f2f2f2\n}",""])},7196:function(t,i,e){"use strict";var n=e("a9a9"),a=e.n(n);a.a},a9a9:function(t,i,e){var n=e("ab2e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("7b383f7b",n,!0,{sourceMap:!1,shadowMode:!1})},ab2e:function(t,i,e){i=t.exports=e("2350")(!1),i.i(e("5872"),""),i.push([t.i,"\n.kaituan[data-v-adfd9e74]{background-color:#fff;width:100%;margin-top:%?-83?%;margin-bottom:%?30?%\n}\n.scroll-view-x[data-v-adfd9e74]{background-color:#fff;white-space:nowrap\n}\n.scroll-view-x .scroll-view-item[data-v-adfd9e74]{display:inline-block;margin-left:%?56?%;line-height:38px\n}\nuni-swiper[data-v-adfd9e74]{height:%?304?%\n}\n.topic-group[data-v-adfd9e74]{background-color:#fff;padding:%?20?% 0\n}\n.topic-group uni-image[data-v-adfd9e74]{width:%?64?%;height:%?64?%;border:1px solid #fff\n}\n.topic-item[data-v-adfd9e74]{display:inline-block;width:25%;margin-bottom:%?20?%\n}\n.topic-item[data-v-adfd9e74],.topic-item uni-view[data-v-adfd9e74]{text-align:center;margin-top:%?10?%\n}\n.goods-item[data-v-adfd9e74]{background-color:#fff;width:95%;margin:%?10?% 10px;border-radius:%?15?%\n}\n.goods-item uni-image[data-v-adfd9e74]{width:95%;height:%?350?%;margin:%?18?% %?18?% 0 %?18?%\n}\n.goods-item .goods-title[data-v-adfd9e74]{line-height:%?38?%;padding:%?18?% %?24?%;font-size:%?32?%\n}\n.goods-img[data-v-adfd9e74]{background-size:98% 98%;background-repeat:no-repeat\n}\n.goods-img uni-image[data-v-adfd9e74]{height:%?99?%;width:94%;margin-left:%?20?%;display:inline-block\n}\n.goods-info[data-v-adfd9e74]{width:100%\n}\n.goods-item .goods-price[data-v-adfd9e74]{color:#fff;font-size:%?42?%;position:relative;margin-left:%?120?%\n}\n.goods-item .goods-sale[data-v-adfd9e74]{color:#ccc;font-size:%?25?%;margin-left:%?10?%;position:relative\n}\n.goods-mprice[data-v-adfd9e74]{margin-left:%?40?%;color:#ccc;text-decoration:line-through;position:relative\n}\n.child-group[data-v-adfd9e74]{padding-bottom:%?8?%\n}\n.child-cate-item[data-v-adfd9e74]{width:25%;text-align:center;display:inline-block;padding:%?24?% 0\n}\n.child-cate-item uni-image[data-v-adfd9e74]{width:%?64?%;height:%?64?%\n}\n.btn[data-v-adfd9e74],.icon[data-v-adfd9e74]{display:inline-block\n}\n.btn[data-v-adfd9e74]{position:relative;background-color:#ff4544;color:#fff;border-radius:%?10?%;line-height:%?80?%;width:%?160?%\n}\n.btn uni-image[data-v-adfd9e74]{width:%?10?%;height:%?18?%;margin-left:%?16?%;margin-top:%?-6?%\n}\n.group-userImg[data-v-adfd9e74]{display:inline-block;margin-right:%?20?%;position:relative\n}\n.group-userImg uni-image[data-v-adfd9e74]{width:%?64?%;height:%?64?%;border-radius:50%;position:absolute;left:%?-60?%;top:%?-40?%\n}\n.two[data-v-adfd9e74]{left:%?-95?%!important;z-index:111\n}\n.goods-item-2[data-v-adfd9e74]{width:100%;margin:0;border-radius:%?10?%;padding-left:%?250?%;border-bottom:%?16?% solid #f2f2f2;position:relative\n}\n.goods-item-2[data-v-adfd9e74]:after{clear:both\n}\n.goods-item-2 uni-image[data-v-adfd9e74]{width:%?250?%;height:%?250?%;padding:%?12?% %?11?% %?12?% %?11?%;float:left;margin-left:%?-250?%\n}\n.goods-item-2 .goods-title[data-v-adfd9e74]{font-size:%?30?%;margin:%?20?%;max-height:%?40?%;overflow:hidden;line-height:%?40?%;width:%?430?%\n}\n.goods-item-2 .goods-price[data-v-adfd9e74]{color:#ff4544;font-size:%?38?%;display:inline-block;padding-left:%?18?%\n}\n.goods-item-2 .goods-price>uni-text[data-v-adfd9e74]{font-size:%?20?%!important\n}\n.goods-item-2 .goods-sale[data-v-adfd9e74]{color:#a4a4a4\n}\n.btn_arrow[data-v-adfd9e74]{width:%?10?%!important;height:%?18?%!important;margin-left:%?6?%!important;margin-top:%?-8?%!important;float:none!important\n}\n.goods_sale[data-v-adfd9e74]{padding-left:%?20?%;color:#a4a4a4;padding-bottom:%?10?%\n}\n.goods_sale uni-text[data-v-adfd9e74]{color:#e02e24!important\n}\n.goods_info[data-v-adfd9e74]{float:left\n}\n.goods_groupNum[data-v-adfd9e74]{display:inline-block;padding:0 %?20?%;color:#a4a4a4;margin-left:%?20?%\n}\n.goods_btn[data-v-adfd9e74]{left:%?280?%;height:%?110?%;line-height:%?110?%\n}\n.goods_btn[data-v-adfd9e74],.goods_btns[data-v-adfd9e74]{position:absolute;bottom:%?10?%\n}\n.goods_btns[data-v-adfd9e74]{right:%?260?%\n}\n.title-bar[data-v-adfd9e74]{position:relative;border-bottom:%?1?% solid #eee;height:%?100?%\n}\n.title-bar uni-image[data-v-adfd9e74]{width:%?38?%;height:%?38?%\n}\n.title-bar .title[data-v-adfd9e74]{margin:0 %?40?%\n}\n.title-bar .title-line[data-v-adfd9e74]{display:inline-block;height:%?2?%;width:%?30?%;background:#bbb\n}\n.title-bar .title uni-image[data-v-adfd9e74]{margin-right:%?24?%\n}\n.title-bar uni-navigator[data-v-adfd9e74]{position:absolute;right:0;top:0;bottom:0;padding:0 %?20?%\n}\n.title-bar uni-navigator uni-image[data-v-adfd9e74]{width:%?12?%;height:%?22?%;margin-left:%?16?%\n}\n.jingxuan-list[data-v-adfd9e74]{white-space:nowrap;display:block;font-size:0;padding:0 %?24?% %?24?%\n}\n.jingxuan-list uni-navigator[data-v-adfd9e74]{display:inline-block;font-size:0\n}\n.jingxuan-list uni-navigator uni-image[data-v-adfd9e74]{height:%?300?%;width:%?600?%;margin-right:%?20?%\n}\n.jingxuan-list uni-navigator:last-child uni-image[data-v-adfd9e74]{margin-right:0\n}",""])},ca7b:function(t,i,e){"use strict";var n,a,o=e("e143"),d={computed:{Vue:function(){return o["default"]}},methods:{setData:function(t){if(t)try{for(var i in t)this[i]=t[i]}catch(e){console.log(e)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var i={currentTarget:{dataset:{}}},e=t.detail.value;i.currentTarget.dataset=e,getApp().core.menu_url(i,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},l=d,s=e("2877"),r=Object(s["a"])(l,n,a,!1,null,null,null);r.options.__file="Base.vue";i["a"]=r.exports}}]);