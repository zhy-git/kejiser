(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-order-index"],{"4b38":function(t,n,i){"use strict";i.r(n);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.show?n("v-uni-view",{staticClass:"page navbar order"},[n("v-uni-view",{staticClass:"fui-tab-scroll",attrs:{"scroll-x":"true"}},[n("v-uni-view",{class:"item "+(""==t.status?"active":""),attrs:{"data-type":""},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("全部")]),n("v-uni-view",{class:"item "+("0"==t.status?"active":""),attrs:{"data-type":"0"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待付款")]),n("v-uni-view",{class:"item "+("1"==t.status?"active":""),attrs:{"data-type":"1"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待发货")]),n("v-uni-view",{class:"item "+("2"==t.status?"active":""),attrs:{"data-type":"2"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待收货")]),n("v-uni-view",{class:"item "+("3"==t.status?"active":""),attrs:{"data-type":"3"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("已完成")]),n("v-uni-view",{class:"item "+("4"==t.status?"active":""),attrs:{"data-type":"4"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("退换货")])],1),0!=t.list.length?n("v-uni-view",{staticClass:"contain"},t._l(t.list,function(e,i){return n("v-uni-view",{key:i},[n("v-uni-view",{staticClass:"fui-list-group noclick"},[n("v-uni-navigator",{attrs:{"hover-class":"none",url:"/yb_shop/pages/order/detail/index?order_id="+e.order_id}},[n("v-uni-view",{staticClass:"fui-list-group-title"},[n("v-uni-view",{staticClass:"order-num"},[t._v("订单号：\n\t\t\t\t\t\t\t\t\t"),n("v-uni-text",[t._v(t._s(e.order_no))])],1),n("v-uni-view",{staticClass:"statuscss"},[0==e.order_status?n("v-uni-view",[t._v("待付款 ")]):1==e.order_status?n("v-uni-view",[t._v(" 待发货 ")]):2==e.order_status?n("v-uni-view",[t._v(" 待收货 ")]):3==e.order_status?n("v-uni-view",[t._v(" 已完成 ")]):4==e.order_status?n("v-uni-view",[t._v(" 退款中 ")]):5==e.order_status?n("v-uni-view",[t._v(" 已退款 ")]):-1==e.order_status?n("v-uni-view",[t._v(" 已取消 ")]):n("v-uni-view",[t._v(" 未知状态 ")])],1)],1),t._l(e.goods,function(e,i){return n("v-uni-view",{key:i},[n("v-uni-view",{staticClass:"fui-list goods-info"},[n("v-uni-view",{staticClass:"fui-list-media"},[n("v-uni-image",{staticClass:"round goods_img",attrs:{src:e.pic.img_cover}})],1),n("v-uni-view",{staticClass:"fui-list-inner"},[n("v-uni-view",{staticClass:"text text-left shop_name"},[t._v(t._s(e.goods_name))]),n("v-uni-view",{staticClass:"subtitle text-left"},[t._v(t._s(e.sku_name))])],1),n("v-uni-view",{staticClass:"num"},[n("v-uni-view",{staticClass:"text-right",staticStyle:{color:"#181a19"}},[t._v("￥\n\t\t\t\t\t\t\t\t\t\t\t"),n("v-uni-text",[t._v(t._s(e.goods_money))])],1),n("v-uni-view",{staticClass:"text-right"},[t._v("x\n\t\t\t\t\t\t\t\t\t\t\t"),n("v-uni-text",[t._v(t._s(e.num))])],1)],1)],1)],1)}),n("v-uni-view",{staticClass:"fui-list list-padding"},[n("v-uni-text",{staticClass:"fui-list-inner text-right totle",staticStyle:{height:"46rpx","line-height":"46rpx"}},[n("v-uni-text",[t._v("共")]),n("v-uni-text",{staticClass:"text-danger"},[t._v(t._s(e.goods.length))]),n("v-uni-text",[t._v("件商品 实付")]),n("v-uni-text",{staticClass:"text-danger"},[n("v-uni-text",[t._v("￥")]),n("v-uni-text",[t._v(t._s(e.pay_money))])],1)],1)],1)],2),4!=t.status?n("v-uni-view",{staticClass:"fui-list list-padding"},[n("v-uni-view",{staticClass:"fui-list-inner text-right"},[n("v-uni-view",[0==e.order_status?n("v-uni-view",{staticClass:"btn btn-default btn-default-o"},[n("v-uni-picker",{attrs:{range:t.cancel,value:t.cancelindex,"data-orderid":e.order_id},on:{change:function(e){e=t.$handleEvent(e),t.cancel1(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t取消订单\n\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),0==e.order_status&&4!=e.mailing_type?n("v-uni-navigator",{staticClass:"btn btn-danger",style:"background:"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";color:"+("#000000"==t.config.selectedColor&&"black"==t.config.font_color?"#000000":"#ffffff")+";border:1px solid"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";",attrs:{url:"/yb_shop/pages/order/pay/index?id="+e.order_id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t支付订单\n\t\t\t\t\t\t\t\t\t")]):t._e(),3==e.order_status?n("v-uni-view",{staticClass:"btn btn-default btn-default-o",attrs:{"data-type":"1","data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.delete_order(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t删除订单\n\t\t\t\t\t\t\t\t\t")]):t._e(),2==e.order_status?n("v-uni-view",{staticClass:"btn btn-default btn-default-o",style:"background:"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";color:"+("#000000"==t.config.selectedColor&&"black"==t.config.font_color?"#000000":"#ffffff")+";border:1px solid"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";",attrs:{"data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.finish(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t确认收货\n\t\t\t\t\t\t\t\t\t")]):t._e(),2==e.mailing_type&&1==e.order_status?n("v-uni-view",{staticClass:"btn btn-default btn-default-o",style:"background:"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";color:"+("#000000"==t.config.selectedColor&&"black"==t.config.font_color?"#000000":"#ffffff")+";border:1px solid"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";",attrs:{"data-code":e.order_no},on:{click:function(e){e=t.$handleEvent(e),t.to_barcode(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t核销码\n\t\t\t\t\t\t\t\t\t")]):t._e(),1!=e.order_status&&2!=e.order_status&&3!=e.order_status||4==e.mailing_type?t._e():n("v-uni-navigator",{staticClass:"btn btn-default btn-default-o",attrs:{"data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.refund(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t退款\n\t\t\t\t\t\t\t\t\t")])],1)],1)],1):t._e()],1)],1)})):t._e(),0==t.total?n("v-uni-view",{staticClass:"center"},[n("v-uni-view",{staticClass:"empty"},[n("v-uni-image",{staticClass:"cart_empty",staticStyle:{"margin-top":"38rpx"},attrs:{src:"/static/images/cart_big.png"}}),n("v-uni-view",{staticClass:"text-cancel"},[t._v("暂时没有任何订单")]),n("v-uni-navigator",{staticClass:"btn btn-danger",style:"width:80%;margin:0.5rem auto;height:90rpx;line-height:90rpx;padding:0;background:"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";color:"+("#000000"==t.config.selectedColor&&"black"==t.config.font_color?"#000000":"#ffffff")+";border:1px solid"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";",attrs:{"open-type":"redirect",url:"/yb_shop/pages/index/index"}},[t._v("\n\t\t\t\t\t\t到处逛逛吧\n\t\t\t\t\t")])],1)],1):t._e(),n("v-uni-navigator",{staticClass:"fui-dot",attrs:{"hover-class":"none"},on:{click:function(e){e=t.$handleEvent(e),t.url_member(e)}}},[n("v-uni-image",{attrs:{src:"/static/images/icon-white/people.png"}})],1),t.showtabbar?n("v-uni-view",[n("v-uni-view",{staticStyle:{height:"100rpx"}}),n("menu_list",{attrs:{menu:t.menu,tabbar_index:t.tabbar_index}})],1):t._e()],1):t._e()],1)},s=[],r=i("ca7b"),d=i("b447");function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=getApp(),f=getApp().core,u=(a={components:{menu_list:d["a"]},extends:r["a"],data:function(){return{route:"order",menu:c.tabBar,menu_show:!1,icons:c.icons,status:"",list:[],page:1,show:!0,total:0,showtabbar:!1,cancel:["我不想买了","信息填写错误，重新拍","其他原因"],cancelindex:0,tabbar_index:0,item:{goods:{index:""}},val:{}}}},l(a,"components",{menu_list:d["a"]}),l(a,"methods",{cancel1:function(t){var e=this,n=this.cancel[t.detail.value],i=f.data(t).orderid;f.get("Order/CancelOrder",{order_id:i,cancel_text:n,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),f.alert("取消订单成功！")):f.alert(t.msg)})},menu_url:function(t){f.menu_url(t,2)},get_list:function(){var t=this;t.setData({loading:!0}),f.get("Order/OrderList",{page:t.page,status:t.status,uid:getApp().getCache("userinfo").uid},function(e){console.log(e),0==e.code?(t.setData({loading:!1,show:!0,total:1==t.page&&0==e.info.length?0:1}),e.info.length>0&&t.setData({page:t.page+1,list:t.list.concat(e.info)}),e.info.length<10&&t.setData({loaded:!0})):f.alert(e.msg)},this.show)},selected:function(t){var e=f.data(t).type;this.setData({list:[],page:1,status:e,loaded:!1}),this.get_list()},delete_order:function(t){var e=this,n=f.data(t).orderid;f.get("Order/DelOrder",{order_id:n,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),f.alert("删除订单成功！")):f.alert(t.msg)})},to_barcode:function(t){var e=f.pdata(t).code;f.jump("/yb_shop/pages/barcode/index?code="+e)},refund:function(t){var e=this,n=f.data(t).orderid;f.confirm("申请退款后请联系客服",function(){f.get("order/RefundOrder",{order_id:n,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),f.toast("申请成功")):f.alert(t.msg)})})},url_member:function(){var t="/yb_shop/pages/member/index/index?key=1";f.jump(t,3)},finish:function(t){var e=this,n=f.data(t).orderid;f.get("order/SignOrder",{order_id:n,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),f.alert("收货成功！")):f.alert(t.msg)})}}),l(a,"onLoad",function(t){console.log(t),null!=t&&void 0!=t&&this.setData({tabbar_index:t.tabbar_index?t.tabbar_index:-1}),f.setting();var e=this;""==c.getCache("userinfo")&&wx.redirectTo({url:"/yb_shop/pages/index/index"}),getApp().get_menu(function(t){e.menu=getApp().tabBar}),this.setData({options:t,status:t.status||t.id||"",config:getApp().config}),this.tabbar_index>=0&&this.setData({showtabbar:!0}),this.get_list()}),l(a,"onPullDownRefresh",function(){this.setData({list:[],page:1,status:e}),this.get_list(),wx.stopPullDownRefresh()}),l(a,"onReachBottom",function(){this.loaded||this.get_list()}),a),v=u,g=(i("b2b5"),i("2877")),b=Object(g["a"])(v,o,s,!1,null,"52f40b1f",null);b.options.__file="index.vue";n["default"]=b.exports},"6c38":function(t,e,n){var i=n("eb95");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("677ab670",i,!0,{sourceMap:!1,shadowMode:!1})},"9abc":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\nuni-page-body[data-v-52f40b1f]{background:#f2f2f2\n}\n.fui-number[data-v-52f40b1f]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;font-size:%?26?%;margin:0;width:%?200?%;border:1px solid #d9d9d9;-webkit-justify-content:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden\n}\n.fui-number[data-v-52f40b1f],.minus[data-v-52f40b1f],.plus[data-v-52f40b1f]{position:relative;height:%?60?%\n}\n.minus[data-v-52f40b1f],.plus[data-v-52f40b1f]{width:%?60?%;font-size:%?40?%;font-weight:700;color:#999;text-align:center;background:#f7f7f7;line-height:%?60?%;z-index:1\n}\n.plus[data-v-52f40b1f]{border-left:1px solid #d9d9d9\n}\n.minus[data-v-52f40b1f]{border-right:1px solid #d9d9d9\n}\n.fui-number .num[data-v-52f40b1f]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?40?%;color:#666;text-align:center;border:0\n}\n.disabled[data-v-52f40b1f]{background:#fff\n}\n.adress[data-v-52f40b1f]{font-size:%?27?%;color:#666\n}\n.shop[data-v-52f40b1f]{margin:%?8?% 0 0 %?10?%\n}\n.edtion[data-v-52f40b1f]{color:#999;font-size:14px;text-align:center;padding:%?20?% 0\n}\n.consume[data-v-52f40b1f],.store[data-v-52f40b1f]{margin-left:%?10?%\n}\n.goods-info .num[data-v-52f40b1f]{font-size:%?28?%;color:#999;width:%?260?%;margin-right:%?10?%\n}\n.list-padding[data-v-52f40b1f]{padding:%?16?% %?30?%\n}\n.totle[data-v-52f40b1f]{font-size:%?28?%;height:%?46?%;line-height:%?46?%\n}\n.order-status[data-v-52f40b1f]{color:#888;text-align:right;font-size:%?30?%;margin-right:%?8?%\n}\n.fui-modal[data-v-52f40b1f]{position:fixed;background:rgba(0,0,0,.7) none repeat scroll 0 0;width:100%;height:100%;left:0;top:0;z-index:1000\n}\n.fui-modal-info[data-v-52f40b1f]{position:fixed;width:100%;z-index:1001;text-align:center;top:%?50?%\n}\n.fui-modal-info .code[data-v-52f40b1f]{width:%?450?%;height:%?450?%;margin:%?50?% 0\n}\n.tap[data-v-52f40b1f]{text-align:center;color:#f90;font-size:%?40?%;line-height:%?50?%\n}\n.close[data-v-52f40b1f]{text-align:right;padding:%?30?%\n}\n.close uni-image[data-v-52f40b1f]{width:%?80?%;height:%?80?%\n}\n.send-code[data-v-52f40b1f]{display:none\n}\n.fui-cell-group.toggleSend-group .send-code[data-v-52f40b1f]{display:block;font-size:%?26?%\n}\n.fui-cell-group.toggleSend-group .fui-cell .fui-cell-remark[data-v-52f40b1f]:after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg)\n}\n.cart-option[data-v-52f40b1f]{margin-top:%?8?%\n}\nbody[data-v-52f40b1f]{background:#f7f7f7\n}\n.goods-info[data-v-52f40b1f]{width:auto;background:#f9f9f9\n}\n.order .contain[data-v-52f40b1f]{margin-top:%?10?%\n}\n.order .btn[data-v-52f40b1f]{margin:%?10?% 0 %?10?% %?20?%;padding:%?10?% %?15?%;height:%?60?%;line-height:%?40?%\n}\n.order .empty[data-v-52f40b1f]{font-size:%?34?%\n}\n.order .empty .btn[data-v-52f40b1f]{padding:%?15?% %?20?%;height:%?75?%;line-height:%?40?%;font-size:%?34?%\n}\n.order .light[data-v-52f40b1f]{height:%?260?%;width:%?240?%;margin-bottom:%?55?%\n}\n.order .order-num[data-v-52f40b1f]{-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.fui-tab-scroll .item[data-v-52f40b1f]{padding:0;width:16.6%;text-align:center\n}\n.order .fui-list-inner .subtitle[data-v-52f40b1f]{line-height:%?44?%;font-size:%?24?%;color:#999\n}\n.cart_empty[data-v-52f40b1f]{width:%?200?%;height:%?200?%\n}\n.fui-list-inner .shop_name[data-v-52f40b1f]{max-height:%?38?%;overflow:hidden;line-height:%?40?%\n}\n.order .text-cancel[data-v-52f40b1f]{padding:%?30?% %?0?%;font-size:%?40?%;font-weight:400;color:#010101\n}\n.fui-list-inner[data-v-52f40b1f]{height:%?100?%\n}\nbody.?%PAGE?%[data-v-52f40b1f]{background:#f2f2f2\n}",""])},b2b5:function(t,e,n){"use strict";var i=n("c75f"),a=n.n(i);a.a},b447:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"fui-navbar",style:"z-index:99999;background:"+t.menu.bg_color+";"},t._l(t.menu.list,function(e,i){return n("v-uni-view",{class:"nav-item "+(t.route!=e.name||"active"),attrs:{"hover-class":"none","data-key":e.key?e.key:1,"data-appid":e.appid,"data-title":e.title,"data-url":e.url,"data-phone":e.phone,"data-lat":e.lat,"data-lng":e.lng},on:{click:function(e){e=t.$handleEvent(e),t.menu_url(e)}}},[n("v-uni-image",{staticClass:"icon",attrs:{src:i==t.tabbar_index?e.tabbar_select_icon:e.tabbar_icon}}),n("v-uni-view",{staticClass:"label",style:"color:"+(i==t.tabbar_index?t.menu.select_color:t.menu.text_color)},[t._v(t._s(e.name))])],1)}))},a=[],o=n("ca7b"),s={extends:o["a"],props:{menu:{},route:"",tabbar_index:{default:0}}},r=s,d=(n("e9f8"),n("2877")),l=Object(d["a"])(r,i,a,!1,null,"074ab1ac",null);l.options.__file="menu.vue";e["a"]=l.exports},c75f:function(t,e,n){var i=n("9abc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("cb352144",i,!0,{sourceMap:!1,shadowMode:!1})},ca7b:function(t,e,n){"use strict";var i,a,o=n("e143"),s={computed:{Vue:function(){return o["default"]}},methods:{setData:function(t){if(t)try{for(var e in t)this[e]=t[e]}catch(n){console.log(n)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var e={currentTarget:{dataset:{}}},n=t.detail.value;e.currentTarget.dataset=n,getApp().core.menu_url(e,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},r=s,d=n("2877"),l=Object(d["a"])(r,i,a,!1,null,null,null);l.options.__file="Base.vue";e["a"]=l.exports},e9f8:function(t,e,n){"use strict";var i=n("6c38"),a=n.n(i);a.a},eb95:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"",""])}}]);