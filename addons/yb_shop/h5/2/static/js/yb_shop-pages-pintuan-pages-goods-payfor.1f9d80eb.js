(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-pintuan-pages-goods-payfor"],{"0f55":function(t,e,n){var i=n("ac9a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2b57f9f6",i,!0,{sourceMap:!1,shadowMode:!1})},2924:function(t,e,n){"use strict";var i=n("0f55"),o=n.n(i);o.a},5872:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\nuni-page-body{background-color:#f2f2f2;font-size:%?26?%;color:#1b1b1b\n}\nuni-image{vertical-align:middle\n}\n.text-center{text-align:center\n}\n.pull-left{float:left\n}\n.pull-right{float:right\n}\n.clearfix{clear:both\n}\n.bg-fff{background-color:#fff\n}\n.mt-10{margin-top:%?10?%\n}\n.mt-20{margin-top:%?20?%\n}\n.p-20{padding:%?20?%\n}\n.text-red{color:red\n}\n.row{width:100%\n}\n.on{border-bottom:2px solid red;color:red!important\n}\n.swiper-box{min-height:%?1000?%\n}\nuni-swiper-item uni-image{width:100%;height:100%\n}\n.toast{position:fixed;bottom:15%;width:100%;z-index:1111;text-align:center;color:#fff\n}\n.toast .toast-mask{display:inline-block;background-color:#000;width:30%;padding:%?20?%;border-radius:%?10?%\n}\n.loading uni-image{width:100prx;height:%?100?%\n}\n.loading .no-data{padding:%?40?%;color:#ccc;font-size:%?22?%\n}\n.flex{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-row{-webkit-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row\n}\n.flex-col,.flex-row{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal\n}\n.flex-col{-webkit-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column\n}\n.flex-grow-0{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0\n}\n.flex-grow-1{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1\n}\n.flex-grow-2{-webkit-box-flex:2;-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2\n}\n.flex-x-center{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center\n}\n.flex-x-center,.flex-x-left{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-x-left{-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left\n}\n.flex-x-right{-webkit-box-pack:right;-webkit-justify-content:right;-ms-flex-pack:right;justify-content:right\n}\n.flex-x-right,.flex-y-center{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex\n}\n.flex-y-center{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center\n}\n.flex-y-bottom{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end\n}\n.float-icon{position:fixed;z-index:20;right:%?40?%;bottom:%?30?%\n}\n.bar-bottom~.float-icon{bottom:%?150?%\n}\n.float-icon .float-icon-btn{display:block;padding:0;margin:0;border:none;background:none\n}\n.float-icon .float-icon-btn:after{display:none\n}\n.float-icon .float-icon-btn:active{opacity:.75\n}\n.float-icon .float-icon-btn uni-image{width:%?100?%;height:%?100?%;display:block\n}\n.float-icon1,.float-icon2{margin-bottom:%?20?%\n}\nbody.?%PAGE?%{background-color:#f2f2f2\n}",""])},"7c7a":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.address&&t.address.telNumber?n("v-uni-view",{staticClass:"address bg-fff flex-row flex-y-center",on:{click:function(e){e=t.$handleEvent(e),t.showAddressList(e)}}},[n("v-uni-image",{staticClass:"pull-left flex-grow-0",attrs:{src:"/static/resource/address.png"}}),n("v-uni-view",{staticClass:"address-info flex-grow-1"},[n("v-uni-view",{staticClass:"flex-row flex-y-center address-top"},[n("v-uni-text",{staticClass:"add-name flex-grow-0"},[t._v(t._s(t.address.userName))]),n("v-uni-text",{staticClass:"flex-grow-0"},[t._v(t._s(t.address.telNumber))])],1),n("v-uni-view",{staticClass:"flex-row flex-y-center address-dt"},[t._v("\n\t\t\t\t"+t._s(t.address.province)+"\n\t\t\t\t"+t._s(t.address.city)+"\n\t\t\t\t"+t._s(t.address.county)+"\n\t\t\t\t"+t._s(t.address.address)+"\n\t\t\t")])],1),n("v-uni-image",{staticClass:"pull-right",attrs:{src:"/static/resource/left-b.png"}})],1):n("v-uni-view",{staticClass:"no-address ",on:{click:function(e){e=t.$handleEvent(e),t.showAddressList(e)}}},[n("v-uni-view",{staticClass:"add-by-user bg-fff flex-row flex-y-center"},[n("v-uni-image",{staticClass:"flex-grow-0",attrs:{src:"/static/resource/add-red.png"}}),n("v-uni-text",{staticClass:"flex-grow-1"},[t._v("请选择收货地址")]),n("v-uni-image",{staticClass:"left flex-grow-0",attrs:{src:"/static/resource/left-b.png"}})],1)],1),n("v-uni-view",{staticClass:"goods-item flex-row"},[n("v-uni-image",{attrs:{src:t.goodsInfo.img,mode:"aspectFill"}}),n("v-uni-view",{staticClass:"goods-info flex-grow-1"},[n("v-uni-view",{staticClass:"goods-title flex-row"},[t._v(t._s(t.goodsInfo.name))]),n("v-uni-view",{staticClass:"goods-property flex-row"},[n("v-uni-view",{staticClass:"flex-grow-1"},t._l(t.goodsProp,function(e,i){return n("v-uni-view",{directives:[{name:"key",rawName:"v-key",value:t.unique,expression:"unique"}],key:i,staticClass:"goods-spec"},[n("v-uni-text",[t._v(t._s(e.pname))]),t._v(t._s(e.name)+"\n\t\t\t\t\t")],1)})),n("v-uni-view",{staticClass:"goods-price flex-grow-1"},[t._v("¥"+t._s(t.goodsPrice))])],1)],1),n("v-uni-view",{staticClass:"clear"})],1),n("v-uni-view",{staticClass:"buy-num flex-row flex-y-center"},[n("v-uni-view",{staticClass:"flex-grow-1 flex-x-left"},[n("v-uni-text",{staticClass:"buy-num-text"},[t._v("购买数量")])],1),n("v-uni-view",{staticClass:"flex-grow-0 flex-x-right buy-num-play"},[t.goodsNum>1?n("v-uni-image",{staticClass:"flex-grow-0 minus",attrs:{src:"/static/resource/minus.png"},on:{click:function(e){e=t.$handleEvent(e),t.minus(e)}}}):n("v-uni-image",{staticClass:"flex-grow-0 minus",attrs:{src:"/static/resource/not-minus.png"},on:{click:function(e){e=t.$handleEvent(e),t.minus(e)}}}),n("v-uni-view",{staticClass:"flex-grow-0 flex-y-center flex-x-center buy-value"},[t._v(t._s(t.goodsNum))]),t.goodsNum<t.goodsInfo.stock?n("v-uni-image",{staticClass:"flex-grow-0 plus",attrs:{src:"/static/resource/plus.png"},on:{click:function(e){e=t.$handleEvent(e),t.plus(e)}}}):n("v-uni-image",{staticClass:"flex-grow-0 plus",attrs:{src:"/static/resource/not-plus.png"},on:{click:function(e){e=t.$handleEvent(e),t.plus(e)}}})],1)],1),n("v-uni-view",{staticClass:"flex-row freight"},[n("v-uni-view",{staticClass:"flex-grow-1 flex-y-center freight-title"},[t._v("运费")]),n("v-uni-view",{staticClass:"flex-grow-0 flex-y-center freight-money"},[t._v("¥"+t._s(t.freight))])],1),n("v-uni-view",{staticClass:"flex-row footer"},[n("v-uni-view",{staticClass:"flex-grow-1 flex-y-center footer-title"},[n("v-uni-text",{staticStyle:{"margin-top":"-3pt"}},[t._v("总计：")]),n("v-uni-text",{staticClass:"goods-price"},[t._v("¥"+t._s(t.totalPrice))]),t._v("\n\t\t\t(运费¥"+t._s(t.freight)+")\n\t\t")],1),n("v-uni-view",{staticClass:"flex-grow-0 btn flex-y-center flex-x-center",on:{click:function(e){e=t.$handleEvent(e),t.goToPay(e)}}},[t._v("立即支付")])],1)],1)},o=[],s=n("ca7b"),a=getApp(),r=a.core,f={extends:s["a"],data:function(){return{addressData:{},address:!1,show:!1,freight:0,totalPrice:0,goodsProp:[],mweb_url:""}},methods:{showAddressList:function(){wx.navigateTo({url:"/yb_shop/pages/member/address/select"})},goToPay:function(){var t=this;if(!this.address)return a.showToast(this,"请选择地址"),!1;var e={pid:t.goodsInfo.groupPid,isGroup:t.goodsInfo.buyType,gid:t.goodsInfo.id,goodsNum:t.goodsNum,limitTime:t.goodsInfo.limitTime,address:JSON.stringify(t.address),totalPrice:t.goodsInfo.goodsPrice*t.goodsNum+parseFloat(t.freight),uid:a.getCache("userinfo").uid};this.oid||(wx.showLoading({title:"正在提交",mask:!0}),r.get("Pintuan/ptCreateOrder",e,function(e){wx.hideLoading(),0==e.code?(t.setData({oid:e.info}),r.get("Pintuan/ptPaywap",{oid:e.info,openid:getApp().getCache("userinfo").openid},function(t){console.log(t),console.log("fdfdfdfghtyhdxcrtgbhtrdhrtsxgtr54554455");var e=t.info;if(0==t.code){var n=e.mweb_url;location.href=n}else r.alert(t.msg),setTimeout(function(){wx.navigateBack()},1e3)})):r.alert(e.msg)}))},minus:function(){var t=this.goodsNum>1?--this.goodsNum:1,e=this.goodsPrice*t;this.setData({goodsNum:t,totalPrice:e.toFixed(2)})},plus:function(){var t=++this.goodsNum,e=this.goodsPrice*t;this.setData({goodsNum:t,totalPrice:e.toFixed(2)})}},onLoad:function(t){if(null!=getApp().getCache("userinfo").uid){var e=this;wx.showLoading({title:"正在加载",mask:!0}),e.setData({address:a.goodsInfo.address,goodsNum:a.goodsInfo.num,goodsInfo:a.goodsInfo,goodsPrice:a.goodsInfo.goodsPrice,totalPrice:a.goodsInfo.goodsPrice*a.goodsInfo.num,show:!0}),wx.hideLoading()}else getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})})},onShow:function(t){wx.showLoading({title:"正在加载",mask:!0});var e=this,n=a.getCache("orderAddress");n&&(n.userName=n.consigner,n.telNumber=n.phone,e.setData({address:n})),wx.hideLoading()}},l=f,d=(n("2924"),n("2877")),c=Object(d["a"])(l,i,o,!1,null,"1f03f51b",null);c.options.__file="payfor.vue";e["default"]=c.exports},ac9a:function(t,e,n){e=t.exports=n("2350")(!1),e.i(n("5872"),""),e.push([t.i,"\n.no-address uni-image[data-v-1f03f51b]{width:21pt;height:21pt;margin-right:12pt;margin-left:12pt\n}\n.no-address uni-text[data-v-1f03f51b]{font-size:12pt;color:#3f3f3f\n}\n.no-address>.add-by-user[data-v-1f03f51b]{height:45pt\n}\n.no-address uni-image.left[data-v-1f03f51b]{width:%?24?%;height:%?48?%;margin-right:12pt;margin-top:10pt\n}\n.no-address .add-by-user[data-v-1f03f51b],.no-address .add-by-wx[data-v-1f03f51b]{line-height:%?90?%\n}\n.add-by-wx[data-v-1f03f51b]{border-top:1px solid #ededed\n}\n.address[data-v-1f03f51b]{height:%?148?%;padding:0 %?24?%;color:#3f3f3f\n}\n.address uni-image.pull-left[data-v-1f03f51b]{width:%?36?%;height:%?44?%\n}\n.address uni-image.pull-right[data-v-1f03f51b]{width:%?12?%;height:%?24?%;margin-right:%?24?%\n}\n.address-top .add-name[data-v-1f03f51b]{font-weight:700;font-size:12pt;margin-right:%?36?%;height:%?40?%\n}\n.address-info[data-v-1f03f51b]{margin-left:%?28?%;font-size:12pt;color:#3f3f3f\n}\n.goods-item[data-v-1f03f51b]{background-color:#f8f8f8;padding-right:12pt\n}\n.goods-item uni-image[data-v-1f03f51b]{width:%?180?%;height:%?180?%;margin:8pt 12pt\n}\n.goods-info[data-v-1f03f51b]{margin-top:17pt\n}\n.goods-title[data-v-1f03f51b]{line-height:%?32?%;font-size:12pt;color:#3f3f3f\n}\n.goods-property[data-v-1f03f51b]{margin-top:29pt\n}\n.goods-item .goods-price[data-v-1f03f51b]{font-size:12pt;color:#fd4b49;text-align:right\n}\n.goods-spec[data-v-1f03f51b]{color:#a4a4a4;font-size:10pt\n}\n.goods-spec>uni-text[data-v-1f03f51b]{margin-right:%?22?%\n}\n.buy-num[data-v-1f03f51b]{height:%?96?%;padding:0 %?24?%;background-color:#fff\n}\n.minus[data-v-1f03f51b]{width:%?62?%;height:%?60?%\n}\n.buy-value[data-v-1f03f51b]{margin:0 %?4?%;width:%?94?%;background-color:#f2f2f2;font-size:11pt\n}\n.plus[data-v-1f03f51b]{width:%?62?%;height:%?60?%\n}\n.footer[data-v-1f03f51b]{background-color:#fff;position:fixed;bottom:0;text-align:right;height:%?110?%;width:100%\n}\n.footer .goods-price[data-v-1f03f51b]{font-size:12pt;color:#e02e24\n}\n.footer .btn[data-v-1f03f51b]{color:#fff;background-color:#fd4b49;font-size:%?34?%;width:%?200?%;line-height:%?100?%;border:0!important\n}\n.footer-title[data-v-1f03f51b]{text-align:right;font-size:11pt;color:#3f3f3f;margin-left:%?24?%\n}\n.drawer_screen[data-v-1f03f51b]{width:100%;height:100%;position:fixed;top:0;left:0;z-index:100;background-color:#000;opacity:.3;overflow:hidden\n}\n.buy-num-text[data-v-1f03f51b]{font-size:12pt;color:#3f3f3f\n}\n.buy-num-play[data-v-1f03f51b]{font-size:11pt;color:#3f3f3f\n}\n.freight[data-v-1f03f51b]{height:%?96?%;background-color:#fff;color:#3f3f3f;font-size:12pt;margin-top:%?20?%;padding:0 %?24?%\n}\n.freight-title[data-v-1f03f51b]{width:%?160?%\n}",""])},ca7b:function(t,e,n){"use strict";var i,o,s=n("e143"),a={computed:{Vue:function(){return s["default"]}},methods:{setData:function(t){if(t)try{for(var e in t)this[e]=t[e]}catch(n){console.log(n)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var e={currentTarget:{dataset:{}}},n=t.detail.value;e.currentTarget.dataset=n,getApp().core.menu_url(e,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},r=a,f=n("2877"),l=Object(f["a"])(r,i,o,!1,null,null,null);l.options.__file="Base.vue";e["a"]=l.exports}}]);