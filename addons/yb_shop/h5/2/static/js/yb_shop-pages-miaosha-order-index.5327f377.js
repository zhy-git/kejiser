(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-miaosha-order-index"],{"9be1":function(t,e,i){var a=i("fbd1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("1db1ede2",a,!0,{sourceMap:!1,shadowMode:!1})},ca7b:function(t,e,i){"use strict";var a,n,s=i("e143"),o={computed:{Vue:function(){return s["default"]}},methods:{setData:function(t){if(t)try{for(var e in t)this[e]=t[e]}catch(i){console.log(i)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var e={currentTarget:{dataset:{}}},i=t.detail.value;e.currentTarget.dataset=i,getApp().core.menu_url(e,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},r=o,c=i("2877"),d=Object(c["a"])(r,a,n,!1,null,null,null);d.options.__file="Base.vue";e["a"]=d.exports},cbcc:function(t,e,i){"use strict";var a=i("9be1"),n=i.n(a);n.a},d14f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.show?i("v-uni-view",{staticClass:"page navbar order"},[i("v-uni-view",{staticClass:"fui-tab-scroll",attrs:{"scroll-x":"true"}},[i("v-uni-view",{class:"item "+(""==t.status?"active":""),attrs:{"data-type":""},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("全部")]),i("v-uni-view",{class:"item "+("0"==t.status?"active":""),attrs:{"data-type":"0"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待付款")]),i("v-uni-view",{class:"item "+("1"==t.status?"active":""),attrs:{"data-type":"1"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待发货")]),i("v-uni-view",{class:"item "+("2"==t.status?"active":""),attrs:{"data-type":"2"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("已发货")]),i("v-uni-view",{class:"item "+("3"==t.status?"active":""),attrs:{"data-type":"3"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("已完成")]),i("v-uni-view",{class:"item "+("4"==t.status||"5"==t.status?"active":""),attrs:{"data-type":"4"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("退款")])],1),0!=t.list.length?i("v-uni-view",{staticClass:"contain"},t._l(t.list,function(e,a){return i("v-uni-view",{key:a},[i("v-uni-view",{staticClass:"fui-list-group noclick"},[i("v-uni-navigator",{attrs:{"hover-class":"none",url:"/yb_shop/pages/miaosha/order/detail/index?order_id="+e.order_id}},[i("v-uni-view",{staticClass:"fui-list-group-title"},[i("v-uni-view",{staticClass:"order-num"},[t._v("订单号：\n              "),i("v-uni-text",[t._v(t._s(e.order_no))])],1),i("v-uni-view",{staticClass:"statuscss"},[0==e.order_status?i("v-uni-view",[t._v("待付款 ")]):1==e.order_status?i("v-uni-view",[t._v(" 待发货 ")]):2==e.order_status?i("v-uni-view",[t._v(" 已发货 ")]):3==e.order_status?i("v-uni-view",[t._v(" 已完成 ")]):4==e.order_status?i("v-uni-view",[t._v(" 退款中 ")]):5==e.order_status?i("v-uni-view",[t._v(" 已退款 ")]):-1==e.order_status?i("v-uni-view",[t._v(" 已取消 ")]):i("v-uni-view",[t._v(" 未知状态 ")])],1)],1),i("v-uni-view",{staticClass:"fui-list goods-info"},[i("v-uni-view",{staticClass:"fui-list-media"},[i("v-uni-image",{staticClass:"round goods_img",attrs:{src:e.bargain_pic,mode:"scaleToFill"}})],1),i("v-uni-view",{staticClass:"fui-list-inner"},[i("v-uni-view",{staticClass:"text text-left shop_name"},[t._v(t._s(e.bargain_name))])],1),i("v-uni-view",{staticClass:"num"},[i("v-uni-view",{staticClass:"text-right",staticStyle:{color:"#181a19"}},[t._v("￥\n                  "),i("v-uni-text",[t._v(t._s(e.original_price))])],1),i("v-uni-view",{staticClass:"text-right"},[t._v("x\n                  "),i("v-uni-text",[t._v("1")])],1)],1)],1),i("v-uni-view",{staticClass:"fui-list list-padding"},[i("v-uni-text",{staticClass:"fui-list-inner text-right totle",staticStyle:{height:"46rpx","line-height":"46rpx"}},[i("v-uni-text",[t._v("共")]),i("v-uni-text",{staticClass:"text-danger"},[t._v(t._s(e.total))]),i("v-uni-text",[t._v("件商品 实付")]),i("v-uni-text",{staticClass:"text-danger"},[i("v-uni-text",[t._v("￥")]),i("v-uni-text",[t._v(t._s(e.pay_money))])],1)],1)],1)],1),4!=t.status?i("v-uni-view",{staticClass:"fui-list list-padding"},[i("v-uni-view",{staticClass:"fui-list-inner text-right"},[i("v-uni-view",[0==e.order_status?i("v-uni-view",{staticClass:"btn btn-default btn-default-o"},[i("v-uni-picker",{attrs:{range:t.cancel,value:t.cancelindex,"data-orderid":e.order_id},on:{change:function(e){e=t.$handleEvent(e),t.cancel2(e)}}},[t._v("\n                  取消订单\n                ")])],1):t._e(),0==e.order_status?i("v-uni-navigator",{staticClass:"btn btn-danger",style:"background:"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";color:"+("#000000"==t.config.selectedColor&&"black"==t.config.font_color?"#000000":"#ffffff")+";border:1px solid "+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";",attrs:{url:"/yb_shop/pages/miaosha/order/pay/index?id="+e.order_id}},[t._v("\n                支付订单\n              ")]):t._e(),2==e.order_status?i("v-uni-view",{staticClass:"btn btn-default btn-default-o",style:"background:"+t.button_color+";border:1px solid "+t.button_color+";color:#fff",attrs:{"data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.finish(e)}}},[t._v("\n                确认使用\n              ")]):t._e(),1==e.order_status||2==e.order_status||3==e.order_status?i("v-uni-navigator",{staticClass:"btn btn-default btn-default-o",attrs:{"data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.refund(e)}}},[t._v("\n                退款\n              ")]):t._e()],1)],1)],1):t._e()],1)],1)})):t._e(),0==t.total?i("v-uni-view",{staticClass:"center"},[i("v-uni-view",{staticClass:"empty"},[i("v-uni-image",{staticClass:"cart_empty",staticStyle:{"margin-top":"38rpx"},attrs:{src:"/static/images/cart_big.png"}}),i("v-uni-view",{staticClass:"text-cancel",staticStyle:{color:"#A9A9A9"}},[t._v("暂时没有任何订单")])],1)],1):t._e()],1):t._e()],1)},n=[],s=i("ca7b"),o=getApp(),r=getApp().core,c={extends:s["a"],data:function(){return{icons:o.icons,status:"",list:[],mtype:1,page:1,cancel:["我不想买了","信息填写错误，重新拍","其他原因"],cancelindex:0,alert_color:o.config.alert_color,button_color:o.config.button_color,show:!0,total:0}},methods:{get_list:function(){var t=this;t.setData({loading:!0}),r.get("Miaosha/OrderList",{page:t.page,status:t.status,mtype:t.mtype,uid:getApp().getCache("userinfo").uid},function(e){0==e.code?(t.setData({loading:!1,show:!0,total:e.info.length}),e.info.length>0&&t.setData({page:t.page+1,list:t.list.concat(e.info)}),e.info.length<10&&t.setData({loaded:!0})):r.alert(e.msg)},this.show)},selected:function(t){var e=r.data(t).type;this.setData({list:[],page:1,status:e}),this.get_list()},delete:function(t){var e=this,i=r.data(t).orderid;r.get("Miaosha/DelOrder",{order_id:i,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),r.alert("删除订单成功！")):r.alert(t.msg)})},refund:function(t){var e=this,i=r.data(t).orderid;r.confirm("申请退款后请联系客服",function(){r.get("Miaosha/RefundOrder",{order_id:i,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),r.toast("申请成功")):r.alert(t.msg)})})},to_home:function(){r.jump("/yb_shop/pages/index/index")},cancel2:function(t){var e=this,i=this.cancel[t.detail.value],a=r.data(t).orderid;r.get("Miaosha/CancelOrder",{order_id:a,cancel_text:i,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),r.alert("取消订单成功！")):r.alert(t.msg)})},finish:function(t){var e=this,i=r.data(t).orderid;r.get("Miaosha/SignOrder",{order_id:i,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),r.alert("使用成功！")):r.alert(t.msg)})}},onLoad:function(t){r.setting(),""==o.getCache("userinfo")&&wx.redirectTo({url:"/pages/error/index"}),console.log(t),this.setData({options:t,status:t.status||"",mtype:t.mtype||1,alert_color:getApp().config.alert_color,button_color:getApp().config.button_color}),this.get_list()},onPullDownRefresh:function(){this.setData({list:[],page:1}),this.get_list(),wx.stopPullDownRefresh()},onReachBottom:function(){this.loaded||this.get_list()}},d=c,l=(i("cbcc"),i("2877")),u=Object(l["a"])(d,a,n,!1,null,"93a84b8c",null);u.options.__file="index.vue";e["default"]=u.exports},fbd1:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"\nuni-page-body[data-v-93a84b8c]{background:#f2f2f2\n}\n.fui-number[data-v-93a84b8c]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;font-size:%?26?%;margin:0;width:%?200?%;border:1px solid #d9d9d9;-webkit-justify-content:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden\n}\n.fui-number[data-v-93a84b8c],.minus[data-v-93a84b8c],.plus[data-v-93a84b8c]{position:relative;height:%?60?%\n}\n.minus[data-v-93a84b8c],.plus[data-v-93a84b8c]{width:%?60?%;font-size:%?40?%;font-weight:700;color:#999;text-align:center;background:#f7f7f7;line-height:%?60?%;z-index:1\n}\n.plus[data-v-93a84b8c]{border-left:1px solid #d9d9d9\n}\n.minus[data-v-93a84b8c]{border-right:1px solid #d9d9d9\n}\n.fui-number .num[data-v-93a84b8c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?40?%;color:#666;text-align:center;border:0\n}\n.disabled[data-v-93a84b8c]{background:#fff\n}\n.adress[data-v-93a84b8c]{font-size:%?27?%;color:#666\n}\n.shop[data-v-93a84b8c]{margin:%?8?% 0 0 %?10?%\n}\n.edtion[data-v-93a84b8c]{color:#999;font-size:14px;text-align:center;padding:%?20?% 0\n}\n.consume[data-v-93a84b8c],.store[data-v-93a84b8c]{margin-left:%?10?%\n}\n.goods-info .num[data-v-93a84b8c]{font-size:%?28?%;color:#999;width:%?260?%;margin-right:%?10?%\n}\n.list-padding[data-v-93a84b8c]{padding:%?16?% %?30?%\n}\n.totle[data-v-93a84b8c]{font-size:%?28?%;height:%?46?%;line-height:%?46?%\n}\n.order-status[data-v-93a84b8c]{color:#888;text-align:right;font-size:%?30?%;margin-right:%?8?%\n}\n.fui-modal[data-v-93a84b8c]{position:fixed;background:rgba(0,0,0,.7) none repeat scroll 0 0;width:100%;height:100%;left:0;top:0;z-index:1000\n}\n.fui-modal-info[data-v-93a84b8c]{position:fixed;width:100%;z-index:1001;text-align:center;top:%?50?%\n}\n.fui-modal-info .code[data-v-93a84b8c]{width:%?450?%;height:%?450?%;margin:%?50?% 0\n}\n.tap[data-v-93a84b8c]{text-align:center;color:#f90;font-size:%?40?%;line-height:%?50?%\n}\n.close[data-v-93a84b8c]{text-align:right;padding:%?30?%\n}\n.close uni-image[data-v-93a84b8c]{width:%?80?%;height:%?80?%\n}\n.send-code[data-v-93a84b8c]{display:none\n}\n.fui-cell-group.toggleSend-group .send-code[data-v-93a84b8c]{display:block;font-size:%?26?%\n}\n.fui-cell-group.toggleSend-group .fui-cell .fui-cell-remark[data-v-93a84b8c]:after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg)\n}\n.cart-option[data-v-93a84b8c]{margin-top:%?8?%\n}\nbody[data-v-93a84b8c]{background:#f7f7f7\n}\n.goods-info[data-v-93a84b8c]{width:auto;background:#f9f9f9\n}\n.order .contain[data-v-93a84b8c]{margin-top:%?10?%\n}\n.order .btn[data-v-93a84b8c]{margin:%?10?% 0 %?10?% %?20?%;padding:%?10?% %?15?%;height:%?60?%;line-height:%?40?%\n}\n.order .empty[data-v-93a84b8c]{font-size:%?34?%\n}\n.order .empty .btn[data-v-93a84b8c]{padding:%?15?% %?20?%;height:%?75?%;line-height:%?40?%;font-size:%?34?%\n}\n.order .light[data-v-93a84b8c]{height:%?260?%;width:%?240?%;margin-bottom:%?55?%\n}\n.order .order-num[data-v-93a84b8c]{-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.fui-tab-scroll .item[data-v-93a84b8c]{padding:0;width:16.6%;text-align:center\n}\n.order .fui-list-inner .subtitle[data-v-93a84b8c]{line-height:%?44?%;font-size:%?24?%;color:#999\n}\n.cart_empty[data-v-93a84b8c]{width:%?200?%;height:%?200?%\n}\n.fui-list-inner .shop_name[data-v-93a84b8c]{max-height:%?38?%;overflow:hidden;line-height:%?40?%\n}\n.order .text-cancel[data-v-93a84b8c]{padding:%?30?% %?0?%;font-size:%?40?%;font-weight:400;color:#010101\n}\n.fui-list-inner[data-v-93a84b8c]{height:%?100?%\n}\nbody.?%PAGE?%[data-v-93a84b8c]{background:#f2f2f2\n}",""])}}]);