(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-kanjia-order-index"],{5039:function(t,e,a){var i=a("c4c5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("64de884b",i,!0,{sourceMap:!1,shadowMode:!1})},6307:function(t,e,a){"use strict";var i=a("5039"),n=a.n(i);n.a},c4c5:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"\nuni-page-body[data-v-4ad57d5a]{background:#f2f2f2\n}\n.fui-number[data-v-4ad57d5a]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;font-size:%?26?%;margin:0;width:%?200?%;border:1px solid #d9d9d9;-webkit-justify-content:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden\n}\n.fui-number[data-v-4ad57d5a],.minus[data-v-4ad57d5a],.plus[data-v-4ad57d5a]{position:relative;height:%?60?%\n}\n.minus[data-v-4ad57d5a],.plus[data-v-4ad57d5a]{width:%?60?%;font-size:%?40?%;font-weight:700;color:#999;text-align:center;background:#f7f7f7;line-height:%?60?%;z-index:1\n}\n.plus[data-v-4ad57d5a]{border-left:1px solid #d9d9d9\n}\n.minus[data-v-4ad57d5a]{border-right:1px solid #d9d9d9\n}\n.fui-number .num[data-v-4ad57d5a]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?40?%;color:#666;text-align:center;border:0\n}\n.disabled[data-v-4ad57d5a]{background:#fff\n}\n.adress[data-v-4ad57d5a]{font-size:%?27?%;color:#666\n}\n.shop[data-v-4ad57d5a]{margin:%?8?% 0 0 %?10?%\n}\n.edtion[data-v-4ad57d5a]{color:#999;font-size:14px;text-align:center;padding:%?20?% 0\n}\n.consume[data-v-4ad57d5a],.store[data-v-4ad57d5a]{margin-left:%?10?%\n}\n.goods-info .num[data-v-4ad57d5a]{font-size:%?28?%;color:#999;width:%?260?%;margin-right:%?10?%\n}\n.list-padding[data-v-4ad57d5a]{padding:%?16?% %?30?%\n}\n.totle[data-v-4ad57d5a]{font-size:%?28?%;height:%?46?%;line-height:%?46?%\n}\n.order-status[data-v-4ad57d5a]{color:#888;text-align:right;font-size:%?30?%;margin-right:%?8?%\n}\n.fui-modal[data-v-4ad57d5a]{position:fixed;background:rgba(0,0,0,.7) none repeat scroll 0 0;width:100%;height:100%;left:0;top:0;z-index:1000\n}\n.fui-modal-info[data-v-4ad57d5a]{position:fixed;width:100%;z-index:1001;text-align:center;top:%?50?%\n}\n.fui-modal-info .code[data-v-4ad57d5a]{width:%?450?%;height:%?450?%;margin:%?50?% 0\n}\n.tap[data-v-4ad57d5a]{text-align:center;color:#f90;font-size:%?40?%;line-height:%?50?%\n}\n.close[data-v-4ad57d5a]{text-align:right;padding:%?30?%\n}\n.close uni-image[data-v-4ad57d5a]{width:%?80?%;height:%?80?%\n}\n.send-code[data-v-4ad57d5a]{display:none\n}\n.fui-cell-group.toggleSend-group .send-code[data-v-4ad57d5a]{display:block;font-size:%?26?%\n}\n.fui-cell-group.toggleSend-group .fui-cell .fui-cell-remark[data-v-4ad57d5a]:after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg)\n}\n.cart-option[data-v-4ad57d5a]{margin-top:%?8?%\n}\nbody[data-v-4ad57d5a]{background:#f7f7f7\n}\n.goods-info[data-v-4ad57d5a]{width:auto;background:#f9f9f9\n}\n.order .contain[data-v-4ad57d5a]{margin-top:%?10?%\n}\n.order .btn[data-v-4ad57d5a]{margin:%?10?% 0 %?10?% %?20?%;padding:%?10?% %?15?%;height:%?60?%;line-height:%?40?%\n}\n.order .empty[data-v-4ad57d5a]{font-size:%?34?%\n}\n.order .empty .btn[data-v-4ad57d5a]{padding:%?15?% %?20?%;height:%?75?%;line-height:%?40?%;font-size:%?34?%\n}\n.order .light[data-v-4ad57d5a]{height:%?260?%;width:%?240?%;margin-bottom:%?55?%\n}\n.order .order-num[data-v-4ad57d5a]{-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.fui-tab-scroll .item[data-v-4ad57d5a]{padding:0;width:16.6%;text-align:center\n}\n.order .fui-list-inner .subtitle[data-v-4ad57d5a]{line-height:%?44?%;font-size:%?24?%;color:#999\n}\n.cart_empty[data-v-4ad57d5a]{width:%?200?%;height:%?200?%\n}\n.fui-list-inner .shop_name[data-v-4ad57d5a]{max-height:%?38?%;overflow:hidden;line-height:%?40?%\n}\n.order .text-cancel[data-v-4ad57d5a]{padding:%?30?% %?0?%;font-size:%?40?%;font-weight:400;color:#010101\n}\n.fui-list-inner[data-v-4ad57d5a]{height:%?100?%\n}\nbody.?%PAGE?%[data-v-4ad57d5a]{background:#f2f2f2\n}",""])},ca7b:function(t,e,a){"use strict";var i,n,d=a("e143"),s={computed:{Vue:function(){return d["default"]}},methods:{setData:function(t){if(t)try{for(var e in t)this[e]=t[e]}catch(a){console.log(a)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var e={currentTarget:{dataset:{}}},a=t.detail.value;e.currentTarget.dataset=a,getApp().core.menu_url(e,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},o=s,r=a("2877"),l=Object(r["a"])(o,i,n,!1,null,null,null);l.options.__file="Base.vue";e["a"]=l.exports},dca4:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[t.show?a("v-uni-view",{staticClass:"page order"},[a("v-uni-view",{staticClass:"fui-tab-scroll",attrs:{"scroll-x":"true"}},[a("v-uni-view",{class:"item "+(""==t.status?"active":""),attrs:{"data-type":""},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("全部")]),a("v-uni-view",{class:"item "+("0"==t.status?"active":""),attrs:{"data-type":"0"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待付款")]),a("v-uni-view",{class:"item "+("1"==t.status?"active":""),attrs:{"data-type":"1"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("待发货")]),a("v-uni-view",{class:"item "+("2"==t.status?"active":""),attrs:{"data-type":"2"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("已发货")]),a("v-uni-view",{class:"item "+("3"==t.status?"active":""),attrs:{"data-type":"3"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("已完成")]),a("v-uni-view",{class:"item "+("4"==t.status||"5"==t.status?"active":""),attrs:{"data-type":"4"},on:{click:function(e){e=t.$handleEvent(e),t.selected(e)}}},[t._v("退款")])],1),0!=t.list.length?a("v-uni-view",{staticClass:"contain"},[t._l(t.list,function(e){return[a("v-uni-view",{staticClass:"fui-list-group noclick"},[a("v-uni-navigator",{attrs:{"hover-class":"none",url:"/yb_shop/pages/kanjia/order/detail/index?order_id="+e.order_id}},[a("v-uni-view",{staticClass:"fui-list-group-title"},[a("v-uni-view",{staticClass:"order-num"},[t._v("订单号：\n\t\t\t\t\t\t\t\t"),a("v-uni-text",[t._v(t._s(e.order_no))])],1),a("v-uni-view",{staticClass:"statuscss"},[0==e.order_status?a("v-uni-view",[t._v("待付款 ")]):1==e.order_status?a("v-uni-view",[t._v(" 待发货 ")]):2==e.order_status?a("v-uni-view",[t._v(" 已发货 ")]):3==e.order_status?a("v-uni-view",[t._v(" 已完成 ")]):4==e.order_status?a("v-uni-view",[t._v(" 退款中 ")]):5==e.order_status?a("v-uni-view",[t._v(" 已退款 ")]):-1==e.order_status?a("v-uni-view",[t._v(" 已取消 ")]):a("v-uni-view",[t._v(" 未知状态 ")])],1)],1),a("v-uni-view",{staticClass:"fui-list goods-info"},[a("v-uni-view",{staticClass:"fui-list-media"},[a("v-uni-image",{staticClass:"round goods_img",attrs:{src:e.pic.img_cover,mode:"scaleToFill"}})],1),a("v-uni-view",{staticClass:"fui-list-inner"},[a("v-uni-view",{staticClass:"text text-left shop_name"},[t._v(t._s(e.bargain_name))])],1),a("v-uni-view",{staticClass:"num"},[a("v-uni-view",{staticClass:"text-right",staticStyle:{color:"#181a19"}},[t._v("￥\n\t\t\t\t\t\t\t\t\t"),a("v-uni-text",[t._v(t._s(e.original_price))])],1),a("v-uni-view",{staticClass:"text-right"},[t._v("x\n\t\t\t\t\t\t\t\t\t"),a("v-uni-text",[t._v("1")])],1)],1)],1),a("v-uni-view",{staticClass:"fui-list list-padding"},[a("v-uni-text",{staticClass:"fui-list-inner text-right totle",staticStyle:{height:"46rpx","line-height":"46rpx"}},[a("v-uni-text",[t._v("共")]),a("v-uni-text",{staticClass:"text-danger"},[t._v(t._s(e.total))]),a("v-uni-text",[t._v("件商品 实付")]),a("v-uni-text",{staticClass:"text-danger"},[a("v-uni-text",[t._v("￥")]),a("v-uni-text",[t._v(t._s(e.pay_money))])],1)],1)],1)],1),4!=t.status?a("v-uni-view",{staticClass:"fui-list list-padding"},[a("v-uni-view",{staticClass:"fui-list-inner text-right"},[[0==e.order_status?a("v-uni-view",{staticClass:"btn btn-default btn-default-o"},[a("v-uni-picker",{attrs:{range:t.cancel,value:t.cancelindex,"data-orderid":e.order_id},on:{change:function(e){e=t.$handleEvent(e),t.cancel2(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t取消订单\n\t\t\t\t\t\t\t\t\t")])],1):t._e(),0==e.order_status?a("v-uni-navigator",{staticClass:"btn btn-danger",style:"background:"+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";color:"+("#000000"==t.config.selectedColor&&"black"==t.config.font_color?"#000000":"#ffffff")+";border:1px solid "+("#000000"!=t.config.selectedColor?t.config.selectedColor:t.config.background)+";",attrs:{url:"/yb_shop/pages/kanjia/order/pay/index?id="+e.order_id}},[t._v("\n\t\t\t\t\t\t\t\t\t支付订单\n\t\t\t\t\t\t\t\t")]):t._e(),2==e.order_status?a("v-uni-view",{staticClass:"btn btn-default btn-default-o",style:"background:red;border:1px solid "+t.button_color+";color:#fff",attrs:{"data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.finish(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t确认使用\n\t\t\t\t\t\t\t\t")]):t._e(),1==e.order_status||2==e.order_status||3==e.order_status?a("v-uni-navigator",{staticClass:"btn btn-default btn-default-o",attrs:{"data-orderid":e.order_id},on:{click:function(e){e=t.$handleEvent(e),t.refund(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t退款\n\t\t\t\t\t\t\t\t")]):t._e()]],2)],1):t._e()],1)]})],2):t._e(),0==t.total?a("v-uni-view",{staticClass:"center"},[a("v-uni-view",{staticClass:"empty"},[a("v-uni-image",{staticClass:"cart_empty",staticStyle:{"margin-top":"38rpx"},attrs:{src:"/yb_shop/static/images/cart_big.png"}}),a("v-uni-view",{staticClass:"text-cancel",staticStyle:{color:"#A9A9A9"}},[t._v("暂时没有任何订单")])],1)],1):t._e(),a("v-uni-navigator",{staticClass:"fui-dot",attrs:{"hover-class":"none",url:"/yb_shop/pages/member/index/index?key=1"}},[a("v-uni-image",{attrs:{src:"/static/images/icon-white/people.png"}})],1)],1):t._e()],1)},n=[],d=a("ca7b"),s=getApp(),o=s.core,r={extends:d["a"],data:function(){return{icons:s.icons,status:"",list:[],page:1,cancel:["我不想买了","信息填写错误，重新拍","其他原因"],cancelindex:0,alert_color:s.config.alert_color,button_color:s.config.button_color,show:!0,total:0}},onLoad:function(t){o.setting(),""==s.getCache("userinfo")&&wx.redirectTo({url:"/pages/error/index"}),this.setData({options:t,status:t.status||"",alert_color:getApp().config.alert_color,button_color:getApp().config.button_color}),this.get_list()},methods:{get_list:function(){var t=this;t.setData({loading:!0}),o.get("Bargain/OrderList",{page:t.page,status:t.status,uid:getApp().getCache("userinfo").uid},function(e){0==e.code?(t.setData({loading:!1,show:!0,total:e.info.length}),e.info.length>0&&t.setData({page:t.page+1,list:t.list.concat(e.info)}),e.info.length<10&&t.setData({loaded:!0})):o.alert(e.msg)},this.show)},selected:function(t){var e=o.data(t).type;this.setData({list:[],page:1,status:e}),this.get_list()},cancel2:function(t){var e=this,a=this.cancel[t.detail.value],i=o.data(t).orderid;o.get("Bargain/CancelOrder",{order_id:i,cancel_text:a,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),o.alert("取消订单成功！")):o.alert(t.msg)})},delete:function(t){var e=this,a=o.data(t).orderid;o.get("Bargain/DelOrder",{order_id:a,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),o.alert("删除订单成功！")):o.alert(t.msg)})},refund:function(t){var e=this,a=o.data(t).orderid;o.confirm("申请退款后请联系客服",function(){o.get("Bargain/RefundOrder",{order_id:a,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),o.toast("申请成功")):o.alert(t.msg)})})},finish:function(t){var e=this,a=o.data(t).orderid;o.get("Bargain/SignOrder",{order_id:a,buyer_id:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({page:1,list:[]}),e.get_list(),o.alert("使用成功！")):o.alert(t.msg)})}},onPullDownRefresh:function(){this.setData({list:[],page:1}),this.get_list(),wx.stopPullDownRefresh()},onReachBottom:function(){this.loaded||this.get_list()}},l=r,c=(a("6307"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"4ad57d5a",null);u.options.__file="index.vue";e["default"]=u.exports}}]);