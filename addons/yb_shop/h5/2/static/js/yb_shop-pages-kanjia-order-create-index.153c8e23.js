(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yb_shop-pages-kanjia-order-create-index"],{"582f":function(t,e,i){"use strict";var n=i("d553"),a=i.n(n);a.a},"7e67":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"\n.fui-number[data-v-77de0536]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;font-size:%?26?%;margin:0;width:%?200?%;border:1px solid #d9d9d9;-webkit-justify-content:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden\n}\n.fui-number[data-v-77de0536],.minus[data-v-77de0536],.plus[data-v-77de0536]{position:relative;height:%?60?%\n}\n.minus[data-v-77de0536],.plus[data-v-77de0536]{width:%?60?%;font-weight:700;color:#999;text-align:center;background:#f7f7f7;line-height:%?60?%;z-index:1\n}\n.plus[data-v-77de0536]{border-left:1px solid #d9d9d9\n}\n.minus[data-v-77de0536]{border-right:1px solid #d9d9d9\n}\n.fui-number .num[data-v-77de0536]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?40?%;color:#666;text-align:center;border:0\n}\n.disabled[data-v-77de0536]{background:#fff\n}\n.adress[data-v-77de0536]{font-size:%?27?%;color:#666\n}\n.shop[data-v-77de0536]{margin:%?8?% 0 0 %?10?%\n}\n.edtion[data-v-77de0536]{color:#999;font-size:14px;text-align:center;padding:%?20?% 0\n}\n.consume[data-v-77de0536],.store[data-v-77de0536]{margin-left:%?10?%\n}\n.goods-info .num[data-v-77de0536]{font-size:%?28?%;color:#999;width:%?260?%;margin-right:%?10?%\n}\n.list-padding[data-v-77de0536]{padding:%?16?% %?30?%\n}\n.totle[data-v-77de0536]{font-size:%?28?%\n}\n.order-status[data-v-77de0536]{color:#888;text-align:right;font-size:%?30?%;margin-right:%?8?%\n}\n.fui-modal[data-v-77de0536]{position:fixed;background:rgba(0,0,0,.7) none repeat scroll 0 0;width:100%;height:100%;left:0;top:0;z-index:1000\n}\n.fui-modal-info[data-v-77de0536]{position:fixed;width:100%;z-index:1001;text-align:center;top:%?50?%\n}\n.fui-modal-info .code[data-v-77de0536]{width:%?450?%;height:%?450?%;margin:%?50?% 0\n}\n.tap[data-v-77de0536]{text-align:center;color:#f90;font-size:%?40?%;line-height:%?50?%\n}\n.close[data-v-77de0536]{text-align:right;padding:%?30?%\n}\n.close uni-image[data-v-77de0536]{width:%?80?%;height:%?80?%\n}\n.send-code[data-v-77de0536]{display:none\n}\n.fui-cell-group.toggleSend-group .send-code[data-v-77de0536]{display:block;font-size:%?26?%\n}\n.fui-cell-group.toggleSend-group .fui-cell .fui-cell-remark[data-v-77de0536]:after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg)\n}\n.cart-option[data-v-77de0536]{margin-top:%?8?%\n}\n.picker-modal[data-v-77de0536]{background:#fefefe;height:260px;position:fixed;bottom:0;left:0;right:0;z-index:1000;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)\n}\n.picker-modal.city-picker[data-v-77de0536]{z-index:2000\n}\n.picker-modal.in[data-v-77de0536]{-webkit-transform:translateZ(0);transform:translateZ(0)\n}\n.picker-modal.in[data-v-77de0536],.picker-modal.out[data-v-77de0536]{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s\n}\n.picker-modal.out[data-v-77de0536]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)\n}\n.picker-modal .picker-control[data-v-77de0536]{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;border-bottom:1px solid #f1f1f1;padding:0 %?30?%;font-size:%?32?%\n}\n.picker-modal .picker-control .cancel[data-v-77de0536]{width:50%;text-align:left;color:#666\n}\n.picker-modal .picker-control .confirm[data-v-77de0536]{width:50%;text-align:right;color:#20b21f\n}\n.picker-modal .picker[data-v-77de0536]{width:100%;height:220px\n}\n.picker-modal .picker .item[data-v-77de0536]{line-height:40px\n}\nuni-picker-view-column[data-v-77de0536]{text-align:center\n}\nbody[data-v-77de0536]{background:#f7f7f7\n}\n.nav[data-v-77de0536]{width:100%;height:%?90?%;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;background:#fff\n}\n.default[data-v-77de0536]{color:#666\n}\n.default[data-v-77de0536],.red[data-v-77de0536]{line-height:%?90?%;text-align:center;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:%?32?%\n}\n.red[data-v-77de0536]{color:#ef4f4f;border-bottom:2px solid #ef4f4f\n}\n.switch[data-v-77de0536]{float:right;zoom:90%;overflow:hidden\n}\n.btn[data-v-77de0536]{padding:0 %?60?%;border-radius:0;height:%?100?%;line-height:%?100?%;margin:0\n}\n.fui-list-inner .sure_subtitle[data-v-77de0536]{line-height:%?36?%;position:relative;font-size:%?30?%;color:#444;max-height:%?72?%;overflow:hidden\n}\n.fui-number[data-v-77de0536]{height:%?40?%;width:%?130?%\n}\n.minus[data-v-77de0536],.plus[data-v-77de0536]{width:%?40?%;height:%?40?%;font-size:%?40?%;line-height:%?40?%\n}\n.fui-list-angle[data-v-77de0536]{margin-right:0;text-align:right;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0\n}\n.fui-cell-text .shop_name[data-v-77de0536]{font-size:%?33?%\n}\n.cart-option .choose-option[data-v-77de0536]{font-size:%?24?%;color:#ccc\n}\n.fui-list-angle .price[data-v-77de0536]{color:#e02e24;font-size:%?24?%\n}\n.fui-list-angle uni-view[data-v-77de0536]{font-size:%?24?%;color:#444\n}\nbody.?%PAGE?%[data-v-77de0536],uni-page-body[data-v-77de0536]{background:#f2f2f2\n}",""])},"8a6e":function(t,e,i){var n=i("b8eb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("65bfc100",n,!0,{sourceMap:!1,shadowMode:!1})},a121:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.show?i("v-uni-view",{staticClass:"page footer"},[i("v-uni-view",[[i("v-uni-view",{staticClass:"fui-cell-group"},[i("v-uni-navigator",{staticClass:"fui-cell",attrs:{"hover-class":"none",url:"/yb_shop/pages/member/address/select"}},[i("v-uni-image",{staticClass:"fui-cell-icon",attrs:{src:t.icons.location01}}),i("v-uni-view",{staticClass:"fui-cell-text textl info"},[""!=t.list.address?i("v-uni-view",[i("v-uni-text",{staticClass:"name"},[t._v(t._s(t.address.consigner)+" ")]),i("v-uni-text",[t._v(t._s(t.address.phone))])],1):t._e(),t.address.address?i("v-uni-view",{staticClass:"adress"},[t._v(t._s(t.address.province+t.address.city+t.address.district+" "+t.address.address))]):t._e(),t.address.address?t._e():i("v-uni-view",{staticClass:"text no-address"},[t._v("添加收货地址")])],1),i("v-uni-view",{staticClass:"fui-cell-remark"})],1)],1)],i("v-uni-view",{staticClass:"fui-list-group",staticStyle:{"margin-top":"20rpx"}},[i("v-uni-view",{staticClass:"fui-list goods-item noclick"},[i("v-uni-view",{staticClass:"fui-list-media",attrs:{"data-url":"/pages/goods/detail/index?id="+t.list.goods_id},on:{click:function(e){e=t.$handleEvent(e),t.url(e)}}},[i("v-uni-image",{staticClass:"round goods_img",attrs:{src:t.list.pic}})],1),i("v-uni-view",{staticClass:"fui-list-inner",attrs:{"data-url":"/pages/goods/detail/index?id="+t.list.goods_id},on:{click:function(e){e=t.$handleEvent(e),t.url(e)}}},[i("v-uni-view",{staticClass:"sure_subtitle"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.list.bargain_name)+"\n\t\t\t\t\t\t\t")]),i("v-uni-view",{staticClass:"text cart-option"})],1),i("v-uni-view",{staticClass:"fui-list-angle"},[i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(t.list.original_price))]),i("v-uni-view",[t._v("x"+t._s(t.options.total))])],1)],1)],1),i("v-uni-view",{staticClass:"fui-list-group"},[i("v-uni-view",{staticClass:"fui-cell-group"},[i("v-uni-view",{staticClass:"fui-cell"},[i("v-uni-view",{staticClass:"fui-cell-info"},[i("v-uni-input",{attrs:{id:"buyer_message",placeholder:"选填：买家留言（50字以内）"},on:{input:function(e){e=t.$handleEvent(e),t.dataChange(e)}}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"fui-cell-group",staticStyle:{"margin-top":"20rpx"}},[i("v-uni-view",{staticClass:"fui-cell"},[i("v-uni-view",{staticClass:"fui-cell-text"},[t._v("商品小计")]),i("v-uni-view",{staticClass:"fui-cell-remark noremark"},[t._v("\n\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t"),i("v-uni-text",{staticClass:"text-danger"},[t._v(t._s(t.options.total))]),t._v(" 件商品 合计：\n\t\t\t\t\t\t\t"),i("v-uni-text",{staticClass:"text-danger"},[t._v("¥ "+t._s(t.data.order_money))])],1)],1)],1)],2),i("v-uni-view",{staticStyle:{height:"62px"}}),i("city_picker",{attrs:{areas:t.areas}}),i("v-uni-view",{class:"fui-mask "+(t.showPicker?"show":"")}),i("v-uni-view",{staticClass:"fui-footer"},[i("v-uni-view",{staticClass:"tool nopadding"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"title text-right"},[t._v("需付：\n\t\t\t\t\t\t\t"),i("v-uni-text",{staticClass:"text-danger"},[t._v(t._s(t.data.pay_money)+"元")])],1)],1),i("v-uni-view",{staticClass:"btns"},[i("v-uni-text",{class:"btn btn-danger "+(t.submit?"":"disabled"),staticStyle:{background:"#ed4f4e","font-size":"34rpx"},on:{click:function(e){e=t.$handleEvent(e),t.submitToOrder(e)}}},[t._v("确认订单")])],1)],1)],1),i("v-uni-view",{class:"fui-toast "+(t.FoxUIToast.show?"in":"out")},[i("v-uni-view",{staticClass:"text"},[t._v(t._s(t.FoxUIToast.text))])],1)],1):t._e()],1)},a=[],o=i("ca7b"),s=i("a9c3");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}"function"==typeof Symbol&&r(Symbol.iterator);var d=getApp(),l=d.core,c=(d.check,{extends:o["a"],data:function(){return{icons:d.icons,list:{},data:[],showPicker:!1,pvalOld:[0,0,0],pval:[0,0,0],areas:[],noArea:!0,submit:!0,button_color:d.config.button_color,show:!0,address:{},FoxUIToast:{},order_id:0}},components:{city_picker:s["a"]},onLoad:function(t){null==d.getCache("userinfo").uid&&d.core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),l.setting();var e=this;this.data;this.setData({options:t,button_color:getApp().config.button_color}),l.get("Area/UserAddress",{uid:getApp().getCache("userinfo").uid},function(t){0==t.code?(e.setData({address:t.info.address}),l.get("Bargain/GoodsInfo",{id:e.options.bargain_id},function(t){0==t.code?(e.setData({list:t.info.bargain_info,show:!0}),e.caculate()):l.alert(t.msg)},!0)):l.alert(t.msg)})},onShow:function(){var t=this,e=d.getCache("orderAddress");e&&(this.setData({address:e}),t.caculate())},methods:{toggle:function(t){var e=l.pdata(t),i=e.id,n=e.type,a={};a[n]=0==i||void 0===i?1:0,this.setData(a)},phone:function(t){l.phone(t)},caculate:function(){var t=this,e=t.address;e.order_money=t.options.current_price,e.pay_money=t.options.current_price,e.total=t.options.total,e.user_name=getApp().getCache("userinfo").nickName,e.buyer_id=getApp().getCache("userinfo").uid,e.mch_id=t.list.mch_id,e.activity_order_type=t.options.activity_order_type?t.options.activity_order_type:0,e.bargain_id=t.options.bargain_id,t.setData({data:e})},submitToOrder:function(){console.log("submitToOrder !!!!!!!!!!!!!!!!");var t=this,e=this.data;if(t.submit){if(!e.phone||""==e.province)return l.alert("请选择收货地址！"),!1;l.get("Bargain/CreateOrder",e,function(e){0==e.code?(t.setData({submit:!1,order_id:e.info}),wx.navigateTo({url:"/yb_shop/pages/kanjia/order/pay/index?id="+e.info})):l.alert(e.msg)})}else console.log("t.submit is false !!!!!"),wx.navigateTo({url:"/yb_shop/pages/kanjia/order/pay/index?id="+t.order_id})},dataChange:function(t){var e=this.data;this.list;switch(t.target.id){case"buyer_message":e.buyer_message=t.detail.value;break}this.setData({data:e})},radioChange:function(t){this.setData({data:t})},url:function(t){var e=l.pdata(t).url;wx.redirectTo({url:e})}},onPullDownRefresh:function(){wx.stopPullDownRefresh()}}),u=c,v=(i("582f"),i("2877")),f=Object(v["a"])(u,n,a,!1,null,"77de0536",null);f.options.__file="index.vue";e["default"]=f.exports},a9c3:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showPicker,expression:"showPicker"}],class:"picker-modal city-picker "+(t.showPicker?"in":"out")},[i("v-uni-view",{staticClass:"picker-control"},[i("v-uni-view",{staticClass:"cancel",on:{click:function(e){e=t.$handleEvent(e),t.onCancel(e)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"confirm",on:{click:function(e){e=t.$handleEvent(e),t.onConfirm(e)}}},[t._v("确定")])],1),t.noArea?t._e():i("v-uni-picker-view",{attrs:{"indicator-class":"picker","indicator-style":"height: 40px;",value:t.pval},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)}}},[i("v-uni-picker-view-column",{attrs:{"indicator-style":"height: 40px;"}},t._l(t.areas,function(e,n){return i("v-uni-view",[i("v-uni-view",{staticClass:"item"},[t._v(t._s(e.name))])],1)})),i("v-uni-picker-view-column",t._l(t.areas[t.pval[0]].city,function(e,n){return i("v-uni-view",[i("v-uni-view",{staticClass:"item"},[t._v(t._s(e.name))])],1)})),i("v-uni-picker-view-column",t._l(t.areas[t.pval[0]].city[t.pval[1]].area,function(e,n){return i("v-uni-view",[i("v-uni-view",{staticClass:"item"},[t._v(t._s(e.name))])],1)}))],1),t.noArea?i("v-uni-picker-view",{attrs:{"indicator-class":"picker","indicator-style":"height: 40px;",value:t.pval},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)}}},[i("v-uni-picker-view-column",t._l(t.areas,function(e,n){return i("v-uni-view",[i("v-uni-view",{staticClass:"item"},[t._v(t._s(e.name))])],1)})),i("v-uni-picker-view-column",t._l(t.areas[t.pval[0]].city,function(e,n){return i("v-uni-view",[i("v-uni-view",{staticClass:"item"},[t._v(t._s(e.name))])],1)}))],1):t._e()],1)],1)},a=[],o=i("ca7b"),s={extends:o["a"],Component:{},props:{showPicker:!1,noArea:!1,areas:{type:Array},pval:{type:Array}},data:function(){return{}}},r=s,d=(i("f5b6"),i("2877")),l=Object(d["a"])(r,n,a,!1,null,"9377d82e",null);l.options.__file="city-picker.vue";e["a"]=l.exports},b8eb:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"\n.picker-modal[data-v-9377d82e]{background:#fefefe;height:260px;position:fixed;bottom:0;left:0;right:0;z-index:1000;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)\n}\n.picker-modal.city-picker[data-v-9377d82e]{z-index:2000\n}\n.picker-modal.in[data-v-9377d82e]{-webkit-transform:translateZ(0);transform:translateZ(0)\n}\n.picker-modal.in[data-v-9377d82e],.picker-modal.out[data-v-9377d82e]{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s\n}\n.picker-modal.out[data-v-9377d82e]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)\n}\n.picker-modal .picker-control[data-v-9377d82e]{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;border-bottom:1px solid #f1f1f1;padding:0 %?30?%;font-size:%?32?%\n}\n.picker-modal .picker-control .cancel[data-v-9377d82e]{width:50%;text-align:left;color:#666\n}\n.picker-modal .picker-control .confirm[data-v-9377d82e]{width:50%;text-align:right;color:#20b21f\n}\n.picker-modal .picker[data-v-9377d82e]{width:100%;height:220px\n}\n.picker-modal .picker .item[data-v-9377d82e]{line-height:40px\n}\nuni-picker-view-column[data-v-9377d82e]{text-align:center\n}\n.uni-picker__content[data-v-9377d82e],uni-picker-view[data-v-9377d82e]{height:220px\n}",""])},ca7b:function(t,e,i){"use strict";var n,a,o=i("e143"),s={computed:{Vue:function(){return o["default"]}},methods:{setData:function(t){if(t)try{for(var e in t)this[e]=t[e]}catch(i){console.log(i)}},menu_url:function(t){getApp().core.menu_url(t,2)},formSubmit:function(t){var e={currentTarget:{dataset:{}}},i=t.detail.value;e.currentTarget.dataset=i,getApp().core.menu_url(e,1)},isLogin:function(){return!!getApp().getCache("userinfo").uid||(getApp().core.alert("请先登录",function(){wx.redirectTo({url:"/yb_shop/pages/wap/login"})}),!1)}}},r=s,d=i("2877"),l=Object(d["a"])(r,n,a,!1,null,null,null);l.options.__file="Base.vue";e["a"]=l.exports},d553:function(t,e,i){var n=i("7e67");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("7a81d85b",n,!0,{sourceMap:!1,shadowMode:!1})},f5b6:function(t,e,i){"use strict";var n=i("8a6e"),a=i.n(n);a.a}}]);