<?php
 defined("\x49\116\137\x49\x41") or exit("\101\x63\143\145\x73\163\x20\104\x65\x6e\x69\145\144"); class Wdl_weihouseModuleProcessor extends WeModuleProcessor { public function respond() { goto l06mh; vsLvB: $content = $this->message["\143\157\156\164\145\x6e\x74"]; goto kETl3; kD2W7: v4_h8: goto Q7Q1U; aKj2W: $this->endContext(); goto m8io_; MLE6y: KYHY1: goto U7d7x; ro1sn: pdo_insert("\153\x62\137\141\163\x6b", $par); goto md79y; thauA: load()->func("\x63\157\x6d\155\x75\x6e\151\143\x61\164\151\157\x6e"); goto M7XZW; E_9Lx: $ret = ihttp_get($url); goto ydR7W; pwUze: $account_api = WeAccount::create(); goto N3yBr; aX5Vy: $response["\103\157\156\x74\x65\156\164"] = htmlspecialchars_decode($content); goto sxgi2; PXrqp: P1bTc: goto zbXAJ; XmFK0: $replay = pdo_fetch("\x73\x65\154\x65\143\164\x20\52\40\x66\x72\x6f\155\40" . tablename("\x6b\x62\x5f\163\x65\x63\x68\157\165\163\x65\137\162\x65\160\154\x61\x79") . "\x20\167\150\145\x72\145\x20\162\151\x64\x3d\72\162\151\144", array("\x3a\162\x69\144" => $rule["\x72\x69\x64"])); goto rplcZ; BHvl3: wzNgQ: goto MVavE; kETl3: $rule = pdo_fetch("\163\145\154\x65\143\164\x20\x72\x69\144\x20\x66\x72\157\155\x20" . tablename("\x72\165\x6c\145\x5f\153\145\x79\167\157\162\x64") . "\40\167\150\x65\x72\145\40\165\156\x69\x61\x63\x69\x64\x3d\47{$uniacid}\x27\40\x61\x6e\144\40\x6d\x6f\144\x75\154\145\x3d\x27\167\144\154\137\x77\x65\151\x68\x6f\x75\x73\145\x27\x20\x61\x6e\x64\x20\x63\157\x6e\x74\145\x6e\164\40\154\x69\x6b\145\40\47\45{$content}\45\x27"); goto KjWTB; ufun5: goto xdQ7U; goto BtsTQ; U7d7x: return $response; goto smKn1; B7wgd: if (!empty($kf["\153\146\137\x6f\x6e\154\x69\x6e\x65\x5f\154\151\x73\164"])) { goto NbY6I; } goto dDpzH; N3yBr: $result = $account_api->uploadMedia(IA_ROOT . "\57\x61\164\x74\x61\x63\150\155\x65\156\x74\57" . $replay["\164\151\x74\x6c\145\x70\x69\x63"], "\x69\x6d\x61\147\x65"); goto PYejW; gfTeT: $weburl = $replay["\x77\145\142\165\162\154"]; goto YIGFa; TJUZE: pBxcX: goto kD2W7; u2W9H: $response = array(); goto Wcwg6; ydR7W: if (!($ret["\x63\157\x64\145"] == 200)) { goto SLTSn; } goto JiJ3k; zbXAJ: $reply = "\xe6\210\x90\345\212\x9f\350\xbf\236\347\272\xbf\345\234\xa8\347\xba\xbf\345\xae\xa2\346\x9c\x8d\xef\xbc\214\345\274\x80\xe5\247\x8b\346\x8f\x90\xe9\227\256\xe5\220\xa7\xef\xbc\x81\345\233\x9e\xe5\244\215\342\200\234\347\273\x93\xe6\235\x9f\342\x80\x9d\40\xe9\200\200\xe5\x87\xba\xe5\234\250\347\272\277\xe5\xae\242\xe6\x9c\x8d\357\xbc\201"; goto bNmYR; sxgi2: if (empty($kf_account)) { goto KYHY1; } goto MLE6y; ro0ld: return $this->respText($reply); goto wUYE9; YIGFa: CywtU: goto GUVBx; GUVBx: if (!empty($replay["\x73\155\x61\x6c\154\164\145\170\x74"])) { goto X53lm; } goto EMIWx; eJoAO: $weburl = $this->createMobileUrl("\x69\x6e\144\x65\170"); goto R_Z2N; RjBYw: $uniacid = $_W["\x75\x6e\x69\141\x63\151\144"]; goto vsLvB; UIaqh: cache_delete("\x77\144\x6c\137\x6f\156\x6c\x69\156\145\137\153\x65\146\x75"); goto nEDKF; LPONu: cache_write("\x77\x64\x6c\137\157\x6e\154\151\x6e\145\137\x6b\x65\146\x75", $kf["\153\146\137\x6f\x6e\154\151\156\x65\137\x6c\x69\x73\x74"][0]["\x6b\146\x5f\x61\x63\143\x6f\x75\156\164"]); goto ud2fY; bz9uB: goto xdQ7U; goto Yh2yl; gMrNi: $accObj = new WeixinAccount(); goto Wk8AE; B6HAP: return $this->respNews(array("\x54\x69\164\154\145" => $replay["\143\157\x6e\x74\x65\x6e\x74"], "\104\145\163\143\162\x69\x70\x74\151\157\156" => $replay["\x73\155\141\154\x6c\164\x65\x78\164"], "\x50\151\143\125\162\x6c" => tomedia($replay["\x74\151\164\154\145\160\x69\x63"]), "\x55\162\x6c" => $weburl . "\x26\164\75\62\63\x33")); goto ufun5; QjxiG: if (!$this->inContext) { goto P1bTc; } goto oJUEH; ZYMD6: $par["\x61\x73\153\x63\157\x6e"] = $content; goto m_p6Y; bNmYR: $this->beginContext(); goto UIaqh; iXK9r: return $this->respText($reply); goto BHvl3; JiJ3k: $kf = json_decode($ret["\x63\x6f\156\164\x65\x6e\x74"], true); goto B7wgd; m8io_: $reply = "\40\346\234\xac\346\xac\xa1\xe5\222\250\350\257\242\xe7\xbb\x93\xe6\235\x9f\357\xbc\214\xe8\xb0\242\xe8\xb0\xa2\346\202\250\xe7\232\204\xe4\275\277\xe7\224\250\xef\274\201"; goto ro0ld; cJPyn: $par["\157\160\x65\x6e\x69\144"] = $this->message["\146\162\157\155"]; goto ZYMD6; BtsTQ: aErjg: goto pwUze; EtXOi: $response["\115\x73\147\124\x79\x70\145"] = "\164\x72\x61\156\x73\146\x65\162\x5f\x63\165\163\x74\x6f\155\x65\162\137\x73\145\162\166\151\143\x65"; goto zYO_d; Wk8AE: $ACCESS_TOKEN = $accObj->fetch_available_token(); goto thauA; Q7Q1U: pZhT2: goto QjxiG; rplcZ: if (empty($replay)) { goto v4_h8; } goto nEf_z; zYO_d: $response["\103\x72\x65\141\164\x65\124\151\x6d\145"] = TIMESTAMP; goto aX5Vy; mV2Y6: goto AVH7R; goto Lw4OA; taqVS: xdQ7U: goto TJUZE; dDpzH: $reply .= "\x20\xe5\275\223\xe5\x89\215\346\262\xa1\346\234\211\xe5\xae\242\346\234\x8d\345\x9c\xa8\xe7\272\277\357\xbc\214\346\x82\xa8\xe7\232\204\346\xb6\x88\xe6\201\257\345\xb0\206\344\xbc\x9a\xe7\x95\231\xe8\250\200\343\200\202"; goto mV2Y6; UacnH: $par["\x75\x6e\151\141\143\151\x64"] = $_W["\x75\x6e\x69\x61\x63\151\x64"]; goto cJPyn; oJUEH: if (!($this->message["\143\x6f\x6e\164\145\x6e\x74"] == "\347\xbb\x93\xe6\235\x9f")) { goto RqXiA; } goto aKj2W; KjWTB: if (!$rule["\162\151\144"]) { goto pZhT2; } goto XmFK0; l06mh: global $_W; goto RjBYw; m4OY7: $reply .= "\x20\xe7\xbc\x96\345\x8f\267" . $kf["\153\x66\x5f\x6f\156\x6c\151\x6e\x65\x5f\154\151\163\164"][0]["\x6b\x66\137\x69\144"] . "\345\256\242\xe6\x9c\x8d\xe5\x9c\250\347\272\xbf\344\xb8\272\346\202\xa8\xe6\234\215\345\x8a\241\343\200\202"; goto LPONu; nEDKF: load()->classs("\167\145\x69\x78\x69\156\56\x61\143\x63\157\165\156\164"); goto gMrNi; nEf_z: if (empty($replay["\x74\x69\x74\154\x65\x70\x69\143"])) { goto pBxcX; } goto eJoAO; EMIWx: if (!empty($replay["\x74\151\x74\154\x65\x70\151\143"])) { goto aErjg; } goto bz9uB; M7XZW: $url = "\x68\164\164\160\x73\72\x2f\x2f\x61\x70\151\56\167\x65\x69\170\151\156\x2e\161\161\x2e\x63\157\155\x2f\143\x67\x69\55\142\151\156\x2f\x63\165\163\164\x6f\155\163\x65\x72\x76\151\143\145\x2f\147\x65\164\x6f\x6e\x6c\x69\x6e\145\x6b\x66\154\151\163\x74\x3f\x61\x63\143\145\163\163\x5f\x74\157\153\145\156\x3d" . $ACCESS_TOKEN; goto E_9Lx; m_p6Y: $par["\141\144\144\x74\151\x6d\x65"] = TIMESTAMP; goto ro1sn; cX0AO: $response["\124\x6f\125\163\145\162\x4e\141\155\x65"] = $this->message["\x66\162\x6f\x6d"]; goto EtXOi; Wcwg6: $response["\106\162\x6f\x6d\x55\163\145\162\x4e\x61\x6d\x65"] = $this->message["\x74\x6f"]; goto cX0AO; md79y: goto wzNgQ; goto PXrqp; wUYE9: RqXiA: goto UacnH; MVavE: $kf_account = cache_load("\x77\144\x6c\x5f\157\x6e\x6c\151\x6e\x65\137\153\145\x66\165"); goto u2W9H; PYejW: return $this->respImage($result["\155\x65\x64\x69\141\x5f\151\x64"]); goto taqVS; R_Z2N: if (!$replay["\167\x65\x62\x75\x72\x6c"]) { goto CywtU; } goto gfTeT; ud2fY: AVH7R: goto efJg7; efJg7: SLTSn: goto iXK9r; Lw4OA: NbY6I: goto m4OY7; Yh2yl: X53lm: goto B6HAP; smKn1: } }